(()=>{var Uu=Object.create;var Yn=Object.defineProperty;var Ku=Object.getOwnPropertyDescriptor;var ju=Object.getOwnPropertyNames;var Bu=Object.getPrototypeOf,Fu=Object.prototype.hasOwnProperty;var Ss=(e,t)=>()=>(e&&(t=e(e=0)),t);var Gu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wu=(e,t)=>{for(var r in t)Yn(e,r,{get:t[r],enumerable:!0})},Is=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ju(t))!Fu.call(e,i)&&i!==r&&Yn(e,i,{get:()=>t[i],enumerable:!(n=Ku(t,i))||n.enumerable});return e};var Jn=(e,t,r)=>(r=e!=null?Uu(Bu(e)):{},Is(t||!e||!e.__esModule?Yn(r,"default",{value:e,enumerable:!0}):r,e)),Yu=e=>Is(Yn({},"__esModule",{value:!0}),e);var An=Gu((wf,hu)=>{hu.exports={strict:function(){}}});var I,z,Li=Ss(()=>{I=class e{constructor(t,r){this.start=t;this.end=r}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.end,t.end);return n<=r?new e(-1,-1):new e(r,n)}fullyContains(t){return this.start<=t.start&&this.end>=t.end}},z=class e extends Array{rmap(t){let r=new e;return this.forEach(n=>{let i=t(n);Array.isArray(i)?i.forEach(a=>{a.start>-1&&r.push(a)}):i.start>-1&&r.push(i)}),r}union(t){let r=[],n=new e;return r.push.apply(r,this),r.push.apply(r,t),r.length==0||(r.sort((i,a)=>i.start-a.start),n.push(r.reduce((i,a)=>i.fullyContains(a)?i:i.start<=a.start&&a.start<i.end?new I(i.start,a.end):i.start<a.end&&a.end<=i.end?new I(a.start,i.end):(n.push(i),a)))),n}}});var Iu={};Wu(Iu,{AllCornerRandomPolicy:()=>$o,DistributionRandomPolicy:()=>Kr,ErlangRandomPolicy:()=>Un,ImmediatePolicy:()=>Oe,LogNormalRandomPolicy:()=>Hn,RandomPolicy:()=>zi,StraightRandomPolicy:()=>qi,UniformRandomPolicy:()=>Nn,createFixedPositionPolicy:()=>Bd});function Bd(e){return Object.freeze({sample(t,r,n){let i=[];for(let a=0;a<r;++a)i.push(new I(e,e+10));return i},reconcile(t){return this},reconcileImmediate(t){return this},reconcileDistributionRandom(t){return this},reconcileRandom(t){return this},reconcileStraightRandom(t){return this},reconcileAllCornerRandom(t){return this}})}var Oe,zi,Kr,Nn,Hn,Un,qi,$o,Ni=Ss(()=>{Li();Oe=Object.freeze({sample(e,t,r){return e.slice(0,1)},reconcile(e){return e.reconcileImmediate(this)},reconcileImmediate(e){return e},reconcileDistributionRandom(e){return e},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),zi=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=0,i=e.map(o=>n+=o.end-o.start),a=[];for(let o=0;o<t;++o){let s=r.uniform(n),c=e.find((u,d)=>i[d]>s);a.push(c.start+r.uniform(c.end-c.start-10))}return a.map(o=>new I(o,o+10))},reconcile(e){return e.reconcileRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),Kr=class{sample(t,r,n){if(t.length==0)return[];let i=t.reduce((c,u)=>c+u.end-u.start,0),a=t.slice().sort((c,u)=>c.start-u.start),o=this.distribution(i,r,n),s=[];for(let c=0;c<r;++c){let u=o[c];for(let d=0;;d++)if(u+=a[d].start,u>a[d].end)u-=a[d].end;else{s.push(new I(u,a[d].end));break}}return s}reconcile(t){return t.reconcileDistributionRandom(this)}reconcileImmediate(t){return this}reconcileDistributionRandom(t){return this}reconcileRandom(t){return t}reconcileStraightRandom(t){return t}reconcileAllCornerRandom(t){return t}},Nn=class extends Kr{constructor(){super()}distribution(t,r,n){let i=[];for(let a=0;a<r;++a)i.push(n.uniform(t));return i}},Hn=class extends Kr{constructor(r,n){super();this.mu=r;this.sigma=n}distribution(r,n,i){let a=[],o=1/0,s=0,c=Math.ceil(n/2);for(let d=0;d<c;++d){let f,p,l;do f=i.random()*2-1,p=i.random()*2-1,l=f*f+p*p;while(l==0||l>=1);let h=Math.sqrt(-2*Math.log(l)/l)*this.sigma,m=Math.exp(f*h+this.mu),_=Math.exp(p*h+this.mu);o=Math.min(o,m,_),s=Math.max(s,m,_),a.push(m,_)}let u=s-o;return a.map(d=>Math.floor(r*(d-o)/u))}},Un=class extends Kr{constructor(r,n){super();this.k=r;this.lambda=n}distribution(r,n,i){let a=[],o=1/0,s=0;for(let u=0;u<n;++u){let d=1;for(let p=0;p<this.k;++p)d*=i.random();let f=-Math.log(d)/this.lambda;o=Math.min(o,f),s=Math.max(s,f),a.push(f)}let c=n==1?18:s-o;return a.map(u=>Math.floor(r*(u-o)/c))}},qi=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=[];for(let i=0;i<t;++i){let a=e[r.uniform(e.length)];n.push(a.start+r.uniform(a.end-a.start-10))}return n.map(i=>new I(i,i+10))},reconcile(e){return e.reconcileStraightRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")}}),$o=Object.freeze({placeTriggers(e,t){let r=[],n=e.slice();for(n.sort((i,a)=>i.start-a.start);r.length<4&&n.length>0;){let i=t.uniform(n.length),a=n[i],o=a.start+t.uniform(a.end-a.start-10);o+20<=a.end?n.splice(i,1,new I(o+10,a.end)):n.splice(i,1),n.splice(0,i),r.push(o)}return new I(r[0],r[0]+10)},sample(e,t,r){let n=[];for(let i=0;i<t;++i)n.push(this.placeTriggers(e,r));return n},reconcile(e){return e.reconcileAllCornerRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")},reconcileAllCornerRandom(e){return this}})});var on="delete",J=5,Wt=1<<J,Ot=Wt-1,H={};function ha(){return{value:!1}}function re(e){e&&(e.value=!0)}function Ia(){}function fr(e){return e.size===void 0&&(e.size=e.__iterate(Ys)),e.size}function Ae(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?fr(e)+t:t}function Ys(){return!0}function ri(e,t,r){return(e===0&&!Vs(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function sn(e,t){return Js(e,t,0)}function ni(e,t){return Js(e,t,t)}function Js(e,t,r){return e===void 0?r:Vs(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Vs(e){return e<0||e===0&&1/e===-1/0}var Xs="@@__IMMUTABLE_ITERABLE__@@";function Vt(e){return!!(e&&e[Xs])}var Zs="@@__IMMUTABLE_KEYED__@@";function ot(e){return!!(e&&e[Zs])}var Qs="@@__IMMUTABLE_INDEXED__@@";function Jt(e){return!!(e&&e[Qs])}function Ta(e){return ot(e)||Jt(e)}var wt=function(t){return Vt(t)?t:Xt(t)},ie=function(e){function t(r){return ot(r)?r:ze(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wt),Xe=function(e){function t(r){return Jt(r)?r:ue(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wt),yr=function(e){function t(r){return Vt(r)&&!Ta(r)?r:Ir(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(wt);wt.Keyed=ie;wt.Indexed=Xe;wt.Set=yr;var $s="@@__IMMUTABLE_SEQ__@@";function Ca(e){return!!(e&&e[$s])}var t0="@@__IMMUTABLE_RECORD__@@";function vr(e){return!!(e&&e[t0])}function ve(e){return Vt(e)||vr(e)}var br="@@__IMMUTABLE_ORDERED__@@";function ye(e){return!!(e&&e[br])}var cn=0,ce=1,ne=2,la=typeof Symbol=="function"&&Symbol.iterator,e0="@@iterator",ii=la||e0,B=function(t){this.next=t};B.prototype.toString=function(){return"[Iterator]"};B.KEYS=cn;B.VALUES=ce;B.ENTRIES=ne;B.prototype.inspect=B.prototype.toSource=function(){return this.toString()};B.prototype[ii]=function(){return this};function it(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function Lt(){return{value:void 0,done:!0}}function r0(e){return Array.isArray(e)?!0:!!ai(e)}function Ts(e){return e&&typeof e.next=="function"}function ma(e){var t=ai(e);return t&&t.call(e)}function ai(e){var t=e&&(la&&e[la]||e[e0]);if(typeof t=="function")return t}function Ju(e){var t=ai(e);return t&&t===e.entries}function Vu(e){var t=ai(e);return t&&t===e.keys}var Sr=Object.prototype.hasOwnProperty;function n0(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Xt=function(e){function t(r){return r==null?Ma():ve(r)?r.toSeq():Zu(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var c=a[i?o-++s:s++];if(n(c[1],c[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new B(function(){if(s===o)return Lt();var c=a[i?o-++s:s++];return it(n,c[0],c[1])})}return this.__iteratorUncached(n,i)},t}(wt),ze=function(e){function t(r){return r==null?Ma().toKeyedSeq():Vt(r)?ot(r)?r.toSeq():r.fromEntrySeq():vr(r)?r.toSeq():Da(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Xt),ue=function(e){function t(r){return r==null?Ma():Vt(r)?ot(r)?r.entrySeq():r.toIndexedSeq():vr(r)?r.toSeq().entrySeq():i0(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Xt),Ir=function(e){function t(r){return(Vt(r)&&!Ta(r)?r:ue(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Xt);Xt.isSeq=Ca;Xt.Keyed=ze;Xt.Set=Ir;Xt.Indexed=ue;Xt.prototype[$s]=!0;var Ve=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[Ae(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var c=i?o-++s:s++;if(n(a[c],c,this)===!1)break}return s},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new B(function(){if(s===o)return Lt();var c=i?o-++s:s++;return it(n,c,a[c])})},t}(ue),wa=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return Sr.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,c=0;c!==s;){var u=o[i?s-++c:c++];if(n(a[u],u,this)===!1)break}return c},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,c=0;return new B(function(){if(c===s)return Lt();var u=o[i?s-++c:c++];return it(n,u,a[u])})},t}(ze);wa.prototype[br]=!0;var Xu=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=ma(a),s=0;if(Ts(o))for(var c;!(c=o.next()).done&&n(c.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=ma(a);if(!Ts(o))return new B(Lt);var s=0;return new B(function(){var c=o.next();return c.done?c:it(n,s++,c.value)})},t}(ue),Cs;function Ma(){return Cs||(Cs=new Ve([]))}function Da(e){var t=Ra(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new wa(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function i0(e){var t=Ra(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Zu(e){var t=Ra(e);if(t)return Ju(e)?t.fromEntrySeq():Vu(e)?t.toSetSeq():t;if(typeof e=="object")return new wa(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Ra(e){return n0(e)?new Ve(e):r0(e)?new Xu(e):void 0}var a0="@@__IMMUTABLE_MAP__@@";function Pa(e){return!!(e&&e[a0])}function o0(e){return Pa(e)&&ye(e)}function ws(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Yt(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(ws(e)&&ws(t)&&e.equals(t))}var Yr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function oi(e){return e>>>1&1073741824|e&3221225471}var Qu=Object.prototype.valueOf;function Ft(e){if(e==null)return Ms(e);if(typeof e.hashCode=="function")return oi(e.hashCode(e));var t=i1(e);if(t==null)return Ms(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return $u(t);case"string":return t.length>a1?t1(t):_a(t);case"object":case"function":return r1(t);case"symbol":return e1(t);default:if(typeof t.toString=="function")return _a(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Ms(e){return e===null?1108378658:1108378659}function $u(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return oi(t)}function t1(e){var t=ua[e];return t===void 0&&(t=_a(e),ca===o1&&(ca=0,ua={}),ca++,ua[e]=t),t}function _a(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return oi(t)}function e1(e){var t=Ps[e];return t!==void 0||(t=s0(),Ps[e]=t),t}function r1(e){var t;if(ga&&(t=ya.get(e),t!==void 0)||(t=e[Je],t!==void 0)||!Rs&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Je],t!==void 0||(t=n1(e),t!==void 0)))return t;if(t=s0(),ga)ya.set(e,t);else{if(Ds!==void 0&&Ds(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Rs)Object.defineProperty(e,Je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Je]=t;else if(e.nodeType!==void 0)e[Je]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Ds=Object.isExtensible,Rs=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function n1(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function i1(e){return e.valueOf!==Qu&&typeof e.valueOf=="function"?e.valueOf(e):e}function s0(){var e=++sa;return sa&1073741824&&(sa=0),e}var ga=typeof WeakMap=="function",ya;ga&&(ya=new WeakMap);var Ps=Object.create(null),sa=0,Je="__immutablehash__";typeof Symbol=="function"&&(Je=Symbol(Je));var a1=16,o1=255,ca=0,ua={},si=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=ka(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=p0(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(ze);si.prototype[br]=!0;var c0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&fr(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(ce,i),s=0;return i&&fr(this),new B(function(){var c=o.next();return c.done?c:it(n,i?a.size-++s:s++,c.value,c)})},t}(ue),u0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ce,i);return new B(function(){var o=a.next();return o.done?o:it(n,o.value,o.value,o)})},t}(Ir),d0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){Os(o);var s=Vt(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ce,i);return new B(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){Os(s);var c=Vt(s);return it(n,c?s.get(0):s[0],c?s.get(1):s[1],o)}}})},t}(ze);c0.prototype.cacheResult=si.prototype.cacheResult=u0.prototype.cacheResult=d0.prototype.cacheResult=Ea;function f0(e){var t=be(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Ea,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===ne){var i=e.__iterator(r,n);return new B(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===ce?cn:ce,n)},t}function p0(e,t,r){var n=be(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,H);return o===H?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,c,u){return i(t.call(r,s,c,u),c,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(ne,a);return new B(function(){var s=o.next();if(s.done)return s;var c=s.value,u=c[0];return it(i,u,t.call(r,c[1],u,e),s)})},n}function ka(e,t){var r=this,n=be(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=f0(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Ea,n.__iterate=function(i,a){var o=this,s=0;return a&&fr(e),e.__iterate(function(c,u){return i(c,t?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&fr(e);var s=e.__iterator(ne,!a);return new B(function(){var c=s.next();if(c.done)return c;var u=c.value;return it(i,t?u[0]:a?r.size-++o:o++,u[1],c)})},n}function h0(e,t,r,n){var i=be(e);return n&&(i.has=function(a){var o=e.get(a,H);return o!==H&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,H);return s!==H&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,c=0;return e.__iterate(function(u,d,f){if(t.call(r,u,d,f))return c++,a(u,n?d:c-1,s)},o),c},i.__iteratorUncached=function(a,o){var s=e.__iterator(ne,o),c=0;return new B(function(){for(;;){var u=s.next();if(u.done)return u;var d=u.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return it(a,n?f:c++,p,u)}})},i}function s1(e,t,r){var n=zt().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function c1(e,t,r){var n=ot(e),i=(ye(e)?Ce():zt()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(c){return c=c||[],c.push(n?[s,o]:o),c})});var a=xa(e);return i.map(function(o){return Y(e,a(o))}).asImmutable()}function u1(e,t,r){var n=ot(e),i=[[],[]];e.__iterate(function(o,s){i[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)});var a=xa(e);return i.map(function(o){return Y(e,a(o))})}function Oa(e,t,r,n){var i=e.size;if(ri(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return Oa(e.toSeq().cacheResult(),t,r,n);var a=sn(t,i),o=ni(r,i),s=o-a,c;s===s&&(c=s<0?0:s);var u=be(e);return u.size=c===0?c:e.size&&c||void 0,!n&&Ca(e)&&c>=0&&(u.get=function(d,f){return d=Ae(this,d),d>=0&&d<c?e.get(d+a,f):f}),u.__iterateUncached=function(d,f){var p=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var l=0,h=!0,m=0;return e.__iterate(function(_,b){if(!(h&&(h=l++<a)))return m++,d(_,n?b:m-1,p)!==!1&&m!==c}),m},u.__iteratorUncached=function(d,f){if(c!==0&&f)return this.cacheResult().__iterator(d,f);if(c===0)return new B(Lt);var p=e.__iterator(d,f),l=0,h=0;return new B(function(){for(;l++<a;)p.next();if(++h>c)return Lt();var m=p.next();return n||d===ce||m.done?m:d===cn?it(d,h-1,void 0,m):it(d,h-1,m.value[1],m)})},u}function d1(e,t,r){var n=be(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(c,u,d){return t.call(r,c,u,d)&&++s&&i(c,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(ne,a),c=!0;return new B(function(){if(!c)return Lt();var u=s.next();if(u.done)return u;var d=u.value,f=d[0],p=d[1];return t.call(r,p,f,o)?i===ne?u:it(i,f,p,u):(c=!1,Lt())})},n}function l0(e,t,r,n){var i=be(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var c=!0,u=0;return e.__iterate(function(d,f,p){if(!(c&&(c=t.call(r,d,f,p))))return u++,a(d,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var c=e.__iterator(ne,o),u=!0,d=0;return new B(function(){var f,p,l;do{if(f=c.next(),f.done)return n||a===ce?f:a===cn?it(a,d++,void 0,f):it(a,d++,f.value[1],f);var h=f.value;p=h[0],l=h[1],u&&(u=t.call(r,l,p,s))}while(u);return a===ne?f:it(a,p,l,f)})},i}function f1(e,t){var r=ot(e),n=[e].concat(t).map(function(o){return Vt(o)?r&&(o=ie(o)):o=r?Da(o):i0(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&ot(i)||Jt(e)&&Jt(i))return i}var a=new Ve(n);return r?a=a.toKeyedSeq():Jt(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var c=s.size;if(c!==void 0)return o+c}},0),a}function m0(e,t,r){var n=be(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function c(u,d){u.__iterate(function(f,p){return(!t||d<t)&&Vt(f)?c(f,d+1):(o++,i(f,r?p:o-1,n)===!1&&(s=!0)),!s},a)}return c(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],c=0;return new B(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var d=u.value;if(i===ne&&(d=d[1]),(!t||s.length<t)&&Vt(d))s.push(o),o=d.__iterator(i,a);else return r?u:it(i,c++,d,u)}return Lt()})},n}function p1(e,t,r){var n=xa(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function h1(e,t){var r=be(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(ce,i),o=0,s;return new B(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?it(n,o++,t):it(n,o++,s.value,s)})},r}function pr(e,t,r){t||(t=_0);var n=ot(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?ze(a):Jt(e)?ue(a):Ir(a)}function Vn(e,t,r){if(t||(t=_0),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return ks(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return ks(t,i,a)?a:i})}function ks(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function Xn(e,t,r,n){var i=be(e),a=new Ve(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var c=this.__iterator(ce,s),u,d=0;!(u=c.next()).done&&o(u.value,d++,this)!==!1;);return d},i.__iteratorUncached=function(o,s){var c=r.map(function(f){return f=wt(f),ma(s?f.reverse():f)}),u=0,d=!1;return new B(function(){var f;return d||(f=c.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?Lt():it(o,u++,t.apply(null,f.map(function(p){return p.value})))})},i}function Y(e,t){return e===t?e:Ca(e)?t:e.constructor(t)}function Os(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function xa(e){return ot(e)?ie:Jt(e)?Xe:yr}function be(e){return Object.create((ot(e)?ze:Jt(e)?ue:Ir).prototype)}function Ea(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Xt.prototype.cacheResult.call(this)}function _0(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function _e(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Zr(e,t){if(!e)throw new Error(t)}function Gt(e){Zr(e!==1/0,"Cannot perform this action with an infinite size.")}function g0(e){if(n0(e)&&typeof e!="string")return e;if(ye(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var l1=Object.prototype.toString;function m1(e){if(!e||typeof e!="object"||l1.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function Le(e){return typeof e=="object"&&(ve(e)||Array.isArray(e)||m1(e))}function $r(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function _1(e,t){return ve(e)?e.has(t):Le(e)&&Sr.call(e,t)}function y0(e,t,r){return ve(e)?e.get(t,r):_1(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function ti(e){if(Array.isArray(e))return _e(e);var t={};for(var r in e)Sr.call(e,r)&&(t[r]=e[r]);return t}function g1(e,t){if(!Le(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ve(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Sr.call(e,t))return e;var r=ti(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function y1(e,t,r){if(!Le(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ve(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Sr.call(e,t)&&r===e[t])return e;var n=ti(e);return n[t]=r,n}function Tr(e,t,r,n){n||(n=r,r=void 0);var i=v0(ve(e),e,g0(t),0,r,n);return i===H?r:i}function v0(e,t,r,n,i,a){var o=t===H;if(n===r.length){var s=o?i:t,c=a(s);return c===s?t:c}if(!o&&!Le(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map($r)+"]: "+t);var u=r[n],d=o?H:y0(t,u,H),f=v0(d===H?e:ve(d),d,r,n+1,i,a);return f===d?t:f===H?g1(t,u):y1(o?e?ge():{}:t,u,f)}function v1(e,t,r){return Tr(e,t,H,function(){return r})}function Aa(e,t){return v1(this,e,t)}function b1(e,t){return Tr(e,t,function(){return H})}function La(e){return b1(this,e)}function b0(e,t,r,n){return Tr(e,[t],r,n)}function za(e,t,r){return arguments.length===1?e(this):b0(this,e,t,r)}function qa(e,t,r){return Tr(this,e,t,r)}function S0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return T0(this,e)}function I0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return T0(this,t,e)}function T0(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=ie(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(u,d){b0(o,d,H,function(f){return f===H?u:r(f,u,d)})}:function(u,d){o.set(d,u)},c=0;c<n.length;c++)n[c].forEach(s)})}function Na(e,t,r){return Ha(e,t,S1(r))}function Ha(e,t,r){if(!Le(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ve(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Xe:ie,o=n?function(c){i===e&&(i=ti(i)),i.push(c)}:function(c,u){var d=Sr.call(i,u),f=d&&r?r(i[u],c,u):c;(!d||f!==i[u])&&(i===e&&(i=ti(i)),i[u]=f)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function S1(e){function t(r,n,i){return Le(r)&&Le(n)&&I1(r,n)?Ha(r,[n],t):e?e(r,n,i):n}return t}function I1(e,t){var r=Xt(e),n=Xt(t);return Jt(r)===Jt(n)&&ot(r)===ot(n)}function C0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Na(this,e)}function w0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Na(this,t,e)}function Ua(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tr(this,e,ge(),function(n){return Ha(n,t)})}function Ka(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tr(this,e,ge(),function(n){return Na(n,t)})}function un(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function dn(){return this.__ownerID?this:this.__ensureOwner(new Ia)}function fn(){return this.__ensureOwner()}function ja(){return this.__altered}var zt=function(e){function t(r){return r==null?ge():Pa(r)&&!ye(r)?r:ge().withMutations(function(n){var i=e(r);Gt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return As(this,n,i)},t.prototype.remove=function(n){return As(this,n,H)},t.prototype.deleteAll=function(n){var i=wt(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ge()},t.prototype.sort=function(n){return Ce(pr(this,n))},t.prototype.sortBy=function(n,i){return Ce(pr(this,i,n))},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,c){o.set(c,n.call(i,s,c,a))})})},t.prototype.__iterator=function(n,i){return new T1(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ba(this.size,this._root,n,this.__hash):this.size===0?ge():(this.__ownerID=n,this.__altered=!1,this)},t}(ie);zt.isMap=Pa;var et=zt.prototype;et[a0]=!0;et[on]=et.remove;et.removeAll=et.deleteAll;et.setIn=Aa;et.removeIn=et.deleteIn=La;et.update=za;et.updateIn=qa;et.merge=et.concat=S0;et.mergeWith=I0;et.mergeDeep=C0;et.mergeDeepWith=w0;et.mergeIn=Ua;et.mergeDeepIn=Ka;et.withMutations=un;et.wasAltered=ja;et.asImmutable=fn;et["@@transducer/init"]=et.asMutable=dn;et["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};et["@@transducer/result"]=function(e){return e.asImmutable()};var tn=function(t,r){this.ownerID=t,this.entries=r};tn.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Yt(n,a[o][0]))return a[o][1];return i};tn.prototype.update=function(t,r,n,i,a,o,s){for(var c=a===H,u=this.entries,d=0,f=u.length;d<f&&!Yt(i,u[d][0]);d++);var p=d<f;if(p?u[d][1]===a:c)return this;if(re(s),(c||!p)&&re(o),!(c&&u.length===1)){if(!p&&!c&&u.length>=P1)return C1(t,u,i,a);var l=t&&t===this.ownerID,h=l?u:_e(u);return p?c?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,a]:h.push([i,a]),l?(this.entries=h,this):new tn(t,h)}};var hr=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};hr.prototype.get=function(t,r,n,i){r===void 0&&(r=Ft(n));var a=1<<((t===0?r:r>>>t)&Ot),o=this.bitmap;return o&a?this.nodes[M0(o&a-1)].get(t+J,r,n,i):i};hr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Ft(i));var c=(r===0?n:n>>>r)&Ot,u=1<<c,d=this.bitmap,f=(d&u)!==0;if(!f&&a===H)return this;var p=M0(d&u-1),l=this.nodes,h=f?l[p]:void 0,m=Fa(h,t,r+J,n,i,a,o,s);if(m===h)return this;if(!f&&m&&l.length>=k1)return M1(t,l,d,c,m);if(f&&!m&&l.length===2&&Ls(l[p^1]))return l[p^1];if(f&&m&&l.length===1&&Ls(m))return m;var _=t&&t===this.ownerID,b=f?m?d:d^u:d|u,g=f?m?D0(l,p,m,_):R1(l,p,_):D1(l,p,m,_);return _?(this.bitmap=b,this.nodes=g,this):new hr(t,b,g)};var en=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};en.prototype.get=function(t,r,n,i){r===void 0&&(r=Ft(n));var a=(t===0?r:r>>>t)&Ot,o=this.nodes[a];return o?o.get(t+J,r,n,i):i};en.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Ft(i));var c=(r===0?n:n>>>r)&Ot,u=a===H,d=this.nodes,f=d[c];if(u&&!f)return this;var p=Fa(f,t,r+J,n,i,a,o,s);if(p===f)return this;var l=this.count;if(!f)l++;else if(!p&&(l--,l<O1))return w1(t,d,l,c);var h=t&&t===this.ownerID,m=D0(d,c,p,h);return h?(this.count=l,this.nodes=m,this):new en(t,l,m)};var lr=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};lr.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Yt(n,a[o][0]))return a[o][1];return i};lr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Ft(i));var c=a===H;if(n!==this.keyHash)return c?this:(re(s),re(o),Ga(this,t,r,n,[i,a]));for(var u=this.entries,d=0,f=u.length;d<f&&!Yt(i,u[d][0]);d++);var p=d<f;if(p?u[d][1]===a:c)return this;if(re(s),(c||!p)&&re(o),c&&f===2)return new Te(t,this.keyHash,u[d^1]);var l=t&&t===this.ownerID,h=l?u:_e(u);return p?c?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,a]:h.push([i,a]),l?(this.entries=h,this):new lr(t,this.keyHash,h)};var Te=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Te.prototype.get=function(t,r,n,i){return Yt(n,this.entry[0])?this.entry[1]:i};Te.prototype.update=function(t,r,n,i,a,o,s){var c=a===H,u=Yt(i,this.entry[0]);if(u?a===this.entry[1]:c)return this;if(re(s),c){re(o);return}return u?t&&t===this.ownerID?(this.entry[1]=a,this):new Te(t,this.keyHash,[i,a]):(re(o),Ga(this,t,r,Ft(i),[i,a]))};tn.prototype.iterate=lr.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};hr.prototype.iterate=en.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Te.prototype.iterate=function(e,t){return e(this.entry)};var T1=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&xs(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return da(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return da(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var c=a.nodes[this._reverse?s-o:o];if(c){if(c.entry)return da(n,c.entry);i=this._stack=xs(c,i)}continue}i=this._stack=this._stack.__prev}return Lt()},t}(B);function da(e,t){return it(e,t[0],t[1])}function xs(e,t){return{node:e,index:0,__prev:t}}function Ba(e,t,r,n){var i=Object.create(et);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Es;function ge(){return Es||(Es=Ba(0))}function As(e,t,r){var n,i;if(e._root){var a=ha(),o=ha();if(n=Fa(e._root,e.__ownerID,0,void 0,t,r,a,o),!o.value)return e;i=e.size+(a.value?r===H?-1:1:0)}else{if(r===H)return e;i=1,n=new tn(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ba(i,n):ge()}function Fa(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===H?e:(re(s),re(o),new Te(t,n,[i,a]))}function Ls(e){return e.constructor===Te||e.constructor===lr}function Ga(e,t,r,n,i){if(e.keyHash===n)return new lr(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&Ot,o=(r===0?n:n>>>r)&Ot,s,c=a===o?[Ga(e,t,r+J,n,i)]:(s=new Te(t,n,i),a<o?[e,s]:[s,e]);return new hr(t,1<<a|1<<o,c)}function C1(e,t,r,n){e||(e=new Ia);for(var i=new Te(e,Ft(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function w1(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,c=1,u=t.length;s<u;s++,c<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=c,o[a++]=d)}return new hr(e,i,o)}function M1(e,t,r,n,i){for(var a=0,o=new Array(Wt),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new en(e,a+1,o)}function M0(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function D0(e,t,r,n){var i=n?e:_e(e);return i[t]=r,i}function D1(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function R1(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var P1=Wt/4,k1=Wt/2,O1=Wt/4,R0="@@__IMMUTABLE_LIST__@@";function P0(e){return!!(e&&e[R0])}var ci=function(e){function t(r){var n=$n();if(r==null)return n;if(P0(r))return r;var i=e(r),a=i.size;return a===0?n:(Gt(a),a>0&&a<Wt?rn(0,a,J,null,new Ee(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,c){return o.set(c,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=Ae(this,n),n>=0&&n<this.size){n+=this._origin;var a=k0(this,n);return a&&a.array[n&Ot]}return i},t.prototype.set=function(n,i){return x1(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=J,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):$n()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){xe(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return xe(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){xe(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return xe(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&r0(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(c){i.forEach(function(u){return u.forEach(function(d){return c.push(d)})})})},t.prototype.setSize=function(n){return xe(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},t.prototype.slice=function(n,i){var a=this.size;return ri(n,i,a)?this:xe(this,sn(n,a),ni(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=zs(this,i);return new B(function(){var s=o();return s===Qr?Lt():it(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=zs(this,i),s;(s=o())!==Qr&&n(s,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?rn(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?$n():(this.__ownerID=n,this.__altered=!1,this)},t}(Xe);ci.isList=P0;var ft=ci.prototype;ft[R0]=!0;ft[on]=ft.remove;ft.merge=ft.concat;ft.setIn=Aa;ft.deleteIn=ft.removeIn=La;ft.update=za;ft.updateIn=qa;ft.mergeIn=Ua;ft.mergeDeepIn=Ka;ft.withMutations=un;ft.wasAltered=ja;ft.asImmutable=fn;ft["@@transducer/init"]=ft.asMutable=dn;ft["@@transducer/step"]=function(e,t){return e.push(t)};ft["@@transducer/result"]=function(e){return e.asImmutable()};var Ee=function(t,r){this.array=t,this.ownerID=r};Ee.prototype.removeBefore=function(t,r,n){if(!(n&(1<<r+J)-1)||this.array.length===0)return this;var i=n>>>r&Ot;if(i>=this.array.length)return new Ee([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-J,n),o===s&&a)return this}if(a&&!o)return this;var c=mr(this,t);if(!a)for(var u=0;u<i;u++)c.array[u]=void 0;return o&&(c.array[i]=o),c};Ee.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r+J:Wt)||this.array.length===0)return this;var i=n-1>>>r&Ot;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-J,n),a===o&&i===this.array.length-1)return this}var s=mr(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Qr={};function zs(e,t){var r=e._origin,n=e._capacity,i=nn(n),a=e._tail;return o(e._root,e._level,0);function o(u,d,f){return d===0?s(u,f):c(u,d,f)}function s(u,d){var f=d===i?a&&a.array:u&&u.array,p=d>r?0:r-d,l=n-d;return l>Wt&&(l=Wt),function(){if(p===l)return Qr;var h=t?--l:p++;return f&&f[h]}}function c(u,d,f){var p,l=u&&u.array,h=f>r?0:r-f>>d,m=(n-f>>d)+1;return m>Wt&&(m=Wt),function(){for(;;){if(p){var _=p();if(_!==Qr)return _;p=null}if(h===m)return Qr;var b=t?--m:h++;p=o(l&&l[b],d-J,f+(b<<d))}}}}function rn(e,t,r,n,i,a,o){var s=Object.create(ft);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}function $n(){return rn(0,0,J)}function x1(e,t,r){if(t=Ae(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?xe(o,t).set(0,r):xe(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=ha();return t>=nn(e._capacity)?n=va(n,e.__ownerID,0,t,r,a):i=va(i,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):rn(e._origin,e._capacity,e._level,i,n):e}function va(e,t,r,n,i,a){var o=n>>>r&Ot,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var c;if(r>0){var u=e&&e.array[o],d=va(u,t,r-J,n,i,a);return d===u?e:(c=mr(e,t),c.array[o]=d,c)}return s&&e.array[o]===i?e:(a&&re(a),c=mr(e,t),i===void 0&&o===c.array.length-1?c.array.pop():c.array[o]=i,c)}function mr(e,t){return t&&e&&t===e.ownerID?e:new Ee(e?e.array.slice():[],t)}function k0(e,t){if(t>=nn(e._capacity))return e._tail;if(t<1<<e._level+J){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Ot],n-=J;return r}}function xe(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new Ia,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var c=e._level,u=e._root,d=0;o+d<0;)u=new Ee(u&&u.array.length?[void 0,u]:[],n),c+=J,d+=1<<c;d&&(o+=d,i+=d,s+=d,a+=d);for(var f=nn(a),p=nn(s);p>=1<<c+J;)u=new Ee(u&&u.array.length?[u]:[],n),c+=J;var l=e._tail,h=p<f?k0(e,s-1):p>f?new Ee([],n):l;if(l&&p>f&&o<a&&l.array.length){u=mr(u,n);for(var m=u,_=c;_>J;_-=J){var b=f>>>_&Ot;m=m.array[b]=mr(m.array[b],n)}m.array[f>>>J&Ot]=l}if(s<a&&(h=h&&h.removeAfter(n,0,s)),o>=p)o-=p,s-=p,c=J,u=null,h=h&&h.removeBefore(n,0,o);else if(o>i||p<f){for(d=0;u;){var g=o>>>c&Ot;if(g!==p>>>c&Ot)break;g&&(d+=(1<<c)*g),c-=J,u=u.array[g]}u&&o>i&&(u=u.removeBefore(n,c,o-d)),u&&p<f&&(u=u.removeAfter(n,c,p-d)),d&&(o-=d,s-=d)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=c,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):rn(o,s,c,u,h)}function nn(e){return e<Wt?0:e-1>>>J<<J}var Ce=function(e){function t(r){return r==null?Jr():o0(r)?r:Jr().withMutations(function(n){var i=ie(r);Gt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Jr()},t.prototype.set=function(n,i){return Ns(this,n,i)},t.prototype.remove=function(n){return Ns(this,n,H)},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?Wa(i,a,n,this.__hash):this.size===0?Jr():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},t}(zt);Ce.isOrderedMap=o0;Ce.prototype[br]=!0;Ce.prototype[on]=Ce.prototype.remove;function Wa(e,t,r,n){var i=Object.create(Ce.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var qs;function Jr(){return qs||(qs=Wa(ge(),$n()))}function Ns(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,c;if(r===H){if(!o)return e;i.size>=Wt&&i.size>=n.size*2?(c=i.filter(function(u,d){return u!==void 0&&a!==d}),s=c.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=c.__ownerID=e.__ownerID)):(s=n.remove(t),c=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,c=i.set(a,[t,r])}else s=n.set(t,i.size),c=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=c,e.__hash=void 0,e.__altered=!0,e):Wa(s,c)}var O0="@@__IMMUTABLE_STACK__@@";function ba(e){return!!(e&&e[O0])}var Ya=function(e){function t(r){return r==null?Zn():ba(r)?r:Zn().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=Ae(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Vr(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&ba(n))return n;Gt(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Vr(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Zn()},t.prototype.slice=function(n,i){if(ri(n,i,this.size))return this;var a=sn(n,this.size),o=ni(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,c=this._head;a--;)c=c.next;return this.__ownerID?(this.size=s,this._head=c,this.__hash=void 0,this.__altered=!0,this):Vr(s,c)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Vr(this.size,this._head,n,this.__hash):this.size===0?Zn():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new Ve(this.toArray()).__iterate(function(c,u){return n(c,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new Ve(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new B(function(){if(o){var s=o.value;return o=o.next,it(n,a++,s)}return Lt()})},t}(Xe);Ya.isStack=ba;var xt=Ya.prototype;xt[O0]=!0;xt.shift=xt.pop;xt.unshift=xt.push;xt.unshiftAll=xt.pushAll;xt.withMutations=un;xt.wasAltered=ja;xt.asImmutable=fn;xt["@@transducer/init"]=xt.asMutable=dn;xt["@@transducer/step"]=function(e,t){return e.unshift(t)};xt["@@transducer/result"]=function(e){return e.asImmutable()};function Vr(e,t,r,n){var i=Object.create(xt);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Hs;function Zn(){return Hs||(Hs=Vr(0))}var x0="@@__IMMUTABLE_SET__@@";function Ja(e){return!!(e&&e[x0])}function E0(e){return Ja(e)&&ye(e)}function A0(e,t){if(e===t)return!0;if(!Vt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||ot(e)!==ot(t)||Jt(e)!==Jt(t)||ye(e)!==ye(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!Ta(e);if(ye(e)){var n=e.entries();return t.every(function(c,u){var d=n.next().value;return d&&Yt(d[1],c)&&(r||Yt(d[0],u))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(c,u){if(r?!e.has(c):i?!Yt(c,e.get(u,H)):!Yt(e.get(u,H),c))return o=!1,!1});return o&&e.size===s}function Ze(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function ei(e){if(!e||typeof e!="object")return e;if(!Vt(e)){if(!Le(e))return e;e=Xt(e)}if(ot(e)){var t={};return e.__iterate(function(n,i){t[i]=ei(n)}),t}var r=[];return e.__iterate(function(n){r.push(ei(n))}),r}var ui=function(e){function t(r){return r==null?Xr():Ja(r)&&!ye(r)?r:Xr().withMutations(function(n){var i=e(r);Gt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(ie(n).keySeq())},t.intersect=function(n){return n=wt(n).toArray(),n.length?It.intersect.apply(t(n.pop()),n):Xr()},t.union=function(n){return n=wt(n).toArray(),n.length?It.union.apply(t(n.pop()),n):Xr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Qn(this,this._map.set(n,n))},t.prototype.remove=function(n){return Qn(this,this._map.remove(n))},t.prototype.clear=function(){return Qn(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=!1,s=Qn(this,this._map.mapEntries(function(c){var u=c[1],d=n.call(i,u,u,a);return d!==u&&(o=!0),[d,d]},i));return o?s:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return an(pr(this,n))},t.prototype.sortBy=function(n,i){return an(pr(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(yr);ui.isSet=Ja;var It=ui.prototype;It[x0]=!0;It[on]=It.remove;It.merge=It.concat=It.union;It.withMutations=un;It.asImmutable=fn;It["@@transducer/init"]=It.asMutable=dn;It["@@transducer/step"]=function(e,t){return e.add(t)};It["@@transducer/result"]=function(e){return e.asImmutable()};It.__empty=Xr;It.__make=L0;function Qn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function L0(e,t){var r=Object.create(It);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Us;function Xr(){return Us||(Us=L0(ge()))}var E1=function(e){function t(r,n,i){if(i===void 0&&(i=1),!(this instanceof t))return new t(r,n,i);if(Zr(i!==0,"Cannot step a Range by 0"),Zr(r!==void 0,"You must define a start value when using Range"),Zr(n!==void 0,"You must define an end value when using Range"),i=Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(fa)return fa;fa=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+Ae(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return ri(n,i,this.size)?this:(n=sn(n,this.size),i=ni(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,c=0;c!==a&&n(s,i?a-++c:c++,this)!==!1;)s+=i?-o:o;return c},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,c=0;return new B(function(){if(c===a)return Lt();var u=s;return s+=i?-o:o,it(n,i?a-++c:c++,u)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:A0(this,n)},t}(ue),fa;function z0(e,t,r){for(var n=g0(t),i=0;i!==n.length;)if(e=y0(e,n[i++],H),e===H)return r;return e}function q0(e,t){return z0(this,e,t)}function A1(e,t){return z0(e,t,H)!==H}function L1(e){return A1(this,e)}function N0(){Gt(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}wt.Iterator=B;Ze(wt,{toArray:function(){Gt(this.size);var t=new Array(this.size||0),r=ot(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new c0(this)},toJS:function(){return ei(this)},toKeyedSeq:function(){return new si(this,!0)},toMap:function(){return zt(this.toKeyedSeq())},toObject:N0,toOrderedMap:function(){return Ce(this.toKeyedSeq())},toOrderedSet:function(){return an(ot(this)?this.valueSeq():this)},toSet:function(){return ui(ot(this)?this.valueSeq():this)},toSetSeq:function(){return new u0(this)},toSeq:function(){return Jt(this)?this.toIndexedSeq():ot(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ya(ot(this)?this.valueSeq():this)},toList:function(){return ci(ot(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return Y(this,f1(this,t))},includes:function(t){return this.some(function(r){return Yt(r,t)})},entries:function(){return this.__iterator(ne)},every:function(t,r){Gt(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return Y(this,h0(this,t,r,!0))},partition:function(t,r){return u1(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Gt(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Gt(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(cn)},map:function(t,r){return Y(this,p0(this,t,r))},reduce:function(t,r,n){return Ks(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return Ks(this,t,r,n,arguments.length<2,!0)},reverse:function(){return Y(this,ka(this,!0))},slice:function(t,r){return Y(this,Oa(this,t,r,!0))},some:function(t,r){Gt(this.size);var n=!1;return this.__iterate(function(i,a,o){if(t.call(r,i,a,o))return n=!0,!1}),n},sort:function(t){return Y(this,pr(this,t))},values:function(){return this.__iterator(ce)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return fr(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return s1(this,t,r)},equals:function(t){return A0(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Ve(t._cache);var r=t.toSeq().map(q1).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(pa(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(Ys,null,t)},flatMap:function(t,r){return Y(this,p1(this,t,r))},flatten:function(t){return Y(this,m0(this,t,!0))},fromEntrySeq:function(){return new d0(this)},get:function(t,r){return this.find(function(n,i){return Yt(i,t)},void 0,r)},getIn:q0,groupBy:function(t,r){return c1(this,t,r)},has:function(t){return this.get(t,H)!==H},hasIn:L1,isSubset:function(t){return t=typeof t.includes=="function"?t:wt(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:wt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Yt(r,t)})},keySeq:function(){return this.toSeq().map(z1).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Vn(this,t)},maxBy:function(t,r){return Vn(this,r,t)},min:function(t){return Vn(this,t?js(t):Fs)},minBy:function(t,r){return Vn(this,r?js(r):Fs,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return Y(this,l0(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(pa(t),r)},sortBy:function(t,r){return Y(this,pr(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return Y(this,d1(this,t,r))},takeUntil:function(t,r){return this.takeWhile(pa(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=N1(this))}});var Mt=wt.prototype;Mt[Xs]=!0;Mt[ii]=Mt.values;Mt.toJSON=Mt.toArray;Mt.__toStringMapper=$r;Mt.inspect=Mt.toSource=function(){return this.toString()};Mt.chain=Mt.flatMap;Mt.contains=Mt.includes;Ze(ie,{flip:function(){return Y(this,f0(this))},mapEntries:function(t,r){var n=this,i=0;return Y(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return Y(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var pn=ie.prototype;pn[Zs]=!0;pn[ii]=Mt.entries;pn.toJSON=N0;pn.__toStringMapper=function(e,t){return $r(t)+": "+$r(e)};Ze(Xe,{toKeyedSeq:function(){return new si(this,!1)},filter:function(t,r){return Y(this,h0(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return Y(this,ka(this,!1))},slice:function(t,r){return Y(this,Oa(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=sn(t,t<0?this.count():this.size);var i=this.slice(0,t);return Y(this,n===1?i:i.concat(_e(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Y(this,m0(this,t,!1))},get:function(t,r){return t=Ae(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=Ae(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Y(this,h1(this,t))},interleave:function(){var t=[this].concat(_e(arguments)),r=Xn(this.toSeq(),ue.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),Y(this,n)},keySeq:function(){return E1(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return Y(this,l0(this,t,r,!1))},zip:function(){var t=[this].concat(_e(arguments));return Y(this,Xn(this,Bs,t))},zipAll:function(){var t=[this].concat(_e(arguments));return Y(this,Xn(this,Bs,t,!0))},zipWith:function(t){var r=_e(arguments);return r[0]=this,Y(this,Xn(this,t,r))}});var Cr=Xe.prototype;Cr[Qs]=!0;Cr[br]=!0;Ze(yr,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var _r=yr.prototype;_r.has=Mt.includes;_r.contains=_r.includes;_r.keys=_r.values;Ze(ze,pn);Ze(ue,Cr);Ze(Ir,_r);function Ks(e,t,r,n,i,a){return Gt(e.size),e.__iterate(function(o,s,c){i?(i=!1,r=o):r=t.call(n,r,o,s,c)},a),r}function z1(e,t){return t}function q1(e,t){return[t,e]}function pa(e){return function(){return!e.apply(this,arguments)}}function js(e){return function(){return-e.apply(this,arguments)}}function Bs(){return _e(arguments)}function Fs(e,t){return e<t?1:e>t?-1:0}function N1(e){if(e.size===1/0)return 0;var t=ye(e),r=ot(e),n=t?1:0;return e.__iterate(r?t?function(i,a){n=31*n+Gs(Ft(i),Ft(a))|0}:function(i,a){n=n+Gs(Ft(i),Ft(a))|0}:t?function(i){n=31*n+Ft(i)|0}:function(i){n=n+Ft(i)|0}),H1(e.size,n)}function H1(e,t){return t=Yr(t,3432918353),t=Yr(t<<15|t>>>-15,461845907),t=Yr(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Yr(t^t>>>16,2246822507),t=Yr(t^t>>>13,3266489909),t=oi(t^t>>>16),t}function Gs(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var an=function(e){function t(r){return r==null?Sa():E0(r)?r:Sa().withMutations(function(n){var i=yr(r);Gt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(ie(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(ui);an.isOrderedSet=E0;var Qe=an.prototype;Qe[br]=!0;Qe.zip=Cr.zip;Qe.zipWith=Cr.zipWith;Qe.zipAll=Cr.zipAll;Qe.__empty=Sa;Qe.__make=H0;function H0(e,t){var r=Object.create(Qe);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Ws;function Sa(){return Ws||(Ws=H0(Jr()))}function U1(e){if(vr(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ve(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var pt=function(t,r){var n;U1(t);var i=function(s){var c=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(t),d=a._indices={};a._name=r,a._keys=u,a._defaultValues=t;for(var f=0;f<u.length;f++){var p=u[f];d[p]=f,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Xa(this)+' with property "'+p+'" since that property name is part of the Record API.'):K1(a,p)}}return this.__ownerID=void 0,this._values=ci().withMutations(function(l){l.setSize(c._keys.length),ie(s).forEach(function(h,m){l.set(c._indices[m],h===c._defaultValues[m]?void 0:h)})}),this},a=i.prototype=Object.create(Z);return a.constructor=i,r&&(i.displayName=r),i};pt.prototype.toString=function(){for(var t=Xa(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],t+=(i?", ":"")+n+": "+$r(this.get(n));return t+" }"};pt.prototype.equals=function(t){return this===t||vr(t)&&gr(this).equals(gr(t))};pt.prototype.hashCode=function(){return gr(this).hashCode()};pt.prototype.has=function(t){return this._indices.hasOwnProperty(t)};pt.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};pt.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return Va(this,n)}return this};pt.prototype.remove=function(t){return this.set(t)};pt.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Va(this,t)};pt.prototype.wasAltered=function(){return this._values.wasAltered()};pt.prototype.toSeq=function(){return gr(this)};pt.prototype.toJS=function(){return ei(this)};pt.prototype.entries=function(){return this.__iterator(ne)};pt.prototype.__iterator=function(t,r){return gr(this).__iterator(t,r)};pt.prototype.__iterate=function(t,r){return gr(this).__iterate(t,r)};pt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?Va(this,r,t):(this.__ownerID=t,this._values=r,this)};pt.isRecord=vr;pt.getDescriptiveName=Xa;var Z=pt.prototype;Z[t0]=!0;Z[on]=Z.remove;Z.deleteIn=Z.removeIn=La;Z.getIn=q0;Z.hasIn=Mt.hasIn;Z.merge=S0;Z.mergeWith=I0;Z.mergeIn=Ua;Z.mergeDeep=C0;Z.mergeDeepWith=w0;Z.mergeDeepIn=Ka;Z.setIn=Aa;Z.update=za;Z.updateIn=qa;Z.withMutations=un;Z.asMutable=dn;Z.asImmutable=fn;Z[ii]=Z.entries;Z.toJSON=Z.toObject=Mt.toObject;Z.inspect=Z.toSource=function(){return this.toString()};function Va(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Xa(e){return e.constructor.displayName||e.constructor.name||"Record"}function gr(e){return Da(e._keys.map(function(t){return[t,e.get(t)]}))}function K1(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Zr(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var Ar="delete",rt=5,ae=1<<rt,Et=ae-1,T={};function ct(){return{value:!1}}function at(e){e&&(e.value=!0)}function Q(e){return e.value}function yo(){}function Rr(e){return e.size===void 0&&(e.size=e.__iterate(lc)),e.size}function He(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Rr(e)+t:t}function lc(){return!0}function Dn(e,t,r){return(e===0&&!_c(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Lr(e,t){return mc(e,t,0)}function Rn(e,t){return mc(e,t,t)}function mc(e,t,r){return e===void 0?r:_c(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function _c(e){return e<0||e===0&&1/e===-1/0}var gc="@@__IMMUTABLE_ITERABLE__@@";function Nt(e){return!!(e&&e[gc])}var yc="@@__IMMUTABLE_KEYED__@@";function st(e){return!!(e&&e[yc])}var vc="@@__IMMUTABLE_INDEXED__@@";function Qt(e){return!!(e&&e[vc])}function vi(e){return st(e)||Qt(e)}var ut=function(t){return Nt(t)?t:he(t)},Rt=function(e){function t(r){return st(r)?r:oe(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ut),Be=function(e){function t(r){return Qt(r)?r:$t(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ut),Ie=function(e){function t(r){return Nt(r)&&!vi(r)?r:rr(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ut);ut.Keyed=Rt;ut.Indexed=Be;ut.Set=Ie;var bc="@@__IMMUTABLE_SEQ__@@";function vo(e){return!!(e&&e[bc])}var Sc="@@__IMMUTABLE_RECORD__@@";function bi(e){return!!(e&&e[Sc])}function Pe(e){return Nt(e)||bi(e)}var zr="@@__IMMUTABLE_ORDERED__@@";function fe(e){return!!(e&&e[zr])}var Pn=0,pe=1,se=2,so=typeof Symbol=="function"&&Symbol.iterator,Ic="@@iterator",Si=so||Ic,U=function(t){this.next=t};U.prototype.toString=function(){return"[Iterator]"};U.KEYS=Pn;U.VALUES=pe;U.ENTRIES=se;U.prototype.inspect=U.prototype.toSource=function(){return this.toString()};U.prototype[Si]=function(){return this};function V(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function Ct(){return{value:void 0,done:!0}}function bo(e){return!!Tc(e)}function U0(e){return e&&typeof e.next=="function"}function co(e){var t=Tc(e);return t&&t.call(e)}function Tc(e){var t=e&&(so&&e[so]||e[Ic]);if(typeof t=="function")return t}var qr=Object.prototype.hasOwnProperty;function Cc(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var he=function(e){function t(r){return r==null?Io():Pe(r)?r.toSeq():j1(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this,o=this._cache;if(o){for(var s=o.length,c=0;c!==s;){var u=o[i?s-++c:c++];if(n(u[1],u[0],a)===!1)break}return c}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new U(function(){if(s===o)return Ct();var c=a[i?o-++s:s++];return V(n,c[0],c[1])})}return this.__iteratorUncached(n,i)},t}(ut),oe=function(e){function t(r){return r==null?Io().toKeyedSeq():Nt(r)?st(r)?r.toSeq():r.fromEntrySeq():bi(r)?r.toSeq():To(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(he),$t=function(e){function t(r){return r==null?Io():Nt(r)?st(r)?r.entrySeq():r.toIndexedSeq():bi(r)?r.toSeq().entrySeq():Mc(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(he),rr=function(e){function t(r){return(Nt(r)&&!vi(r)?r:$t(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(he);he.isSeq=vo;he.Keyed=oe;he.Set=rr;he.Indexed=$t;he.prototype[bc]=!0;var Ue=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[He(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this,o=this._array,s=o.length,c=0;c!==s;){var u=i?s-++c:c++;if(n(o[u],u,a)===!1)break}return c},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new U(function(){if(s===o)return Ct();var c=i?o-++s:s++;return V(n,c,a[c])})},t}($t),So=function(e){function t(r){var n=Object.keys(r);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return qr.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this,o=this._object,s=this._keys,c=s.length,u=0;u!==c;){var d=s[i?c-++u:u++];if(n(o[d],d,a)===!1)break}return u},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,c=0;return new U(function(){if(c===s)return Ct();var u=o[i?s-++c:c++];return V(n,u,a[u])})},t}(oe);So.prototype[zr]=!0;var wc=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterate(n,i);var o=this._collection,s=co(o),c=0;if(U0(s))for(var u;!(u=s.next()).done&&n(u.value,c++,a)!==!1;);return c},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=co(a);if(!U0(o))return new U(Ct);var s=0;return new U(function(){var c=o.next();return c.done?c:V(n,s++,c.value)})},t}($t),K0;function Io(){return K0||(K0=new Ue([]))}function To(e){var t=Array.isArray(e)?new Ue(e):bo(e)?new wc(e):void 0;if(t)return t.fromEntrySeq();if(typeof e=="object")return new So(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Mc(e){var t=Dc(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function j1(e){var t=Dc(e);if(t)return t;if(typeof e=="object")return new So(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Dc(e){return Cc(e)?new Ue(e):bo(e)?new wc(e):void 0}var Rc="@@__IMMUTABLE_MAP__@@";function Ii(e){return!!(e&&e[Rc])}function Pc(e){return Ii(e)&&fe(e)}function j0(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function lt(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(j0(e)&&j0(t)&&e.equals(t))}var Co="@@__IMMUTABLE_SORTED__@@";function Pr(e){return!!(e&&e[Co])}var hn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Ti(e){return e>>>1&1073741824|e&3221225471}var B1=Object.prototype.valueOf;function Zt(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return F1(e);case"string":return e.length>J1?G1(e):uo(e);case"object":case"function":return e===null?1108378658:typeof e.hashCode=="function"?Ti(e.hashCode(e)):(e.valueOf!==B1&&typeof e.valueOf=="function"&&(e=e.valueOf(e)),W1(e));case"undefined":return 1108378659;default:if(typeof e.toString=="function")return uo(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function F1(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return Ti(t)}function G1(e){var t=$a[e];return t===void 0&&(t=uo(e),Qa===V1&&(Qa=0,$a={}),Qa++,$a[e]=t),t}function uo(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Ti(t)}function W1(e){var t;if(fo&&(t=po.get(e),t!==void 0)||(t=e[$e],t!==void 0)||!F0&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[$e],t!==void 0||(t=Y1(e),t!==void 0)))return t;if(t=++Za,Za&1073741824&&(Za=0),fo)po.set(e,t);else{if(B0!==void 0&&B0(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(F0)Object.defineProperty(e,$e,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[$e]=t;else if(e.nodeType!==void 0)e[$e]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var B0=Object.isExtensible,F0=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Y1(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var fo=typeof WeakMap=="function",po;fo&&(po=new WeakMap);var Za=0,$e="__immutablehash__";typeof Symbol=="function"&&($e=Symbol($e));var J1=16,V1=255,Qa=0,$a={},ln=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n},X1=1e3,Z1=.5,mi=function(e,t,r,n,i){if(!(n<t||n>r))for(;r>t;){if(r-t>X1){var a=r-t+1,o=n-t+1,s=Math.log(a),c=Z1*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(a-c)/a)*Math.sign(o-a/2),d=Math.max(t,Math.floor(n-o*c/a+u)),f=Math.min(r,Math.floor(n+(a-o)*c/a+u));mi(e,d,f,n,i)}var p=e[n],l=t,h=r;for(ln(e,t,n),i(e[r],p)>0&&ln(e,r,t);l<h;){for(ln(e,l++,h--);i(e[l],p)<0;)l++;for(;i(e[h],p)>0;)h--}e[t]===p?ln(e,t,h):ln(e,++h,r),h<=n&&(t=h+1),n<=h&&(r=h-1)}},Q1=function(e,t,r){r||(r=function(n,i){return n>i?1:n<i?-1:0}),mi(e,0,e.length-1,t,r)},Ci=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=Mo(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=wo(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(oe);Ci.prototype[zr]=!0;var kc=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Rr(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(pe,i),s=0;return i&&Rr(this),new U(function(){var c=o.next();return c.done?c:V(n,i?a.size-++s:s++,c.value,c)})},t}($t),Oc=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(pe,i);return new U(function(){var o=a.next();return o.done?o:V(n,o.value,o.value,o)})},t}(rr),xc=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){Y0(o);var s=Nt(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(pe,i);return new U(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){Y0(s);var c=Nt(s);return V(n,c?s.get(0):s[0],c?s.get(1):s[1],o)}}})},t}(oe);kc.prototype.cacheResult=Ci.prototype.cacheResult=Oc.prototype.cacheResult=xc.prototype.cacheResult=Ro;function Ec(e){var t=le(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Ro,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===se){var i=e.__iterator(r,n);return new U(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===pe?Pn:pe,n)},t}function wo(e,t,r){var n=le(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,T);return o===T?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,c,u){return i(t.call(r,s,c,u),c,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(se,a);return new U(function(){var s=o.next();if(s.done)return s;var c=s.value,u=c[0];return V(i,u,t.call(r,c[1],u,e),s)})},n}function Mo(e,t){var r=this,n=le(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=Ec(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Ro,n.__iterate=function(i,a){var o=this,s=0;return a&&Rr(e),e.__iterate(function(c,u){return i(c,t?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Rr(e);var s=e.__iterator(se,!a);return new U(function(){var c=s.next();if(c.done)return c;var u=c.value;return V(i,t?u[0]:a?r.size-++o:o++,u[1],c)})},n}function Ac(e,t,r,n){var i=le(e);return n&&(i.has=function(a){var o=e.get(a,T);return o!==T&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,T);return s!==T&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,c=0;return e.__iterate(function(u,d,f){if(t.call(r,u,d,f))return c++,a(u,n?d:c-1,s)},o),c},i.__iteratorUncached=function(a,o){var s=e.__iterator(se,o),c=0;return new U(function(){for(;;){var u=s.next();if(u.done)return u;var d=u.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return V(a,n?f:c++,p,u)}})},i}function $1(e,t,r){var n=nr().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function td(e,t,r){var n=st(e),i=(fe(e)?Re():nr()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(c){return c=c||[],c.push(n?[s,o]:o),c})});var a=qc(e);return i.map(function(o){return j(e,a(o))}).asImmutable()}function Do(e,t,r,n){var i=e.size;if(Dn(t,r,i))return e;var a=Lr(t,i),o=Rn(r,i);if(a!==a||o!==o)return Do(e.toSeq().cacheResult(),t,r,n);var s=o-a,c;s===s&&(c=s<0?0:s);var u=le(e);return u.size=c===0?c:e.size&&c||void 0,!n&&vo(e)&&c>=0&&(u.get=function(d,f){return d=He(this,d),d>=0&&d<c?e.get(d+a,f):f}),u.__iterateUncached=function(d,f){var p=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var l=0,h=!0,m=0;return e.__iterate(function(_,b){if(!(h&&(h=l++<a)))return m++,d(_,n?b:m-1,p)!==!1&&m!==c}),m},u.__iteratorUncached=function(d,f){if(c!==0&&f)return this.cacheResult().__iterator(d,f);if(c===0)return new U(Ct);var p=e.__iterator(d,f),l=0,h=0;return new U(function(){for(;l++<a;)p.next();if(++h>c)return Ct();var m=p.next();return n||d===pe||m.done?m:d===Pn?V(d,h-1,void 0,m):V(d,h-1,m.value[1],m)})},u}function ed(e,t,r){var n=le(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(c,u,d){return t.call(r,c,u,d)&&++s&&i(c,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(se,a),c=!0;return new U(function(){if(!c)return Ct();var u=s.next();if(u.done)return u;var d=u.value,f=d[0],p=d[1];return t.call(r,p,f,o)?i===se?u:V(i,f,p,u):(c=!1,Ct())})},n}function Lc(e,t,r,n){var i=le(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var c=!0,u=0;return e.__iterate(function(d,f,p){if(!(c&&(c=t.call(r,d,f,p))))return u++,a(d,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var c=e.__iterator(se,o),u=!0,d=0;return new U(function(){var f,p,l;do{if(f=c.next(),f.done)return n||a===pe?f:a===Pn?V(a,d++,void 0,f):V(a,d++,f.value[1],f);var h=f.value;p=h[0],l=h[1],u&&(u=t.call(r,l,p,s))}while(u);return a===se?f:V(a,p,l,f)})},i}function rd(e,t){var r=st(e),n=[e].concat(t).map(function(o){return Nt(o)?r&&(o=Rt(o)):o=r?To(o):Mc(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&st(i)||Qt(e)&&Qt(i))return i}var a=new Ue(n);return r?a=a.toKeyedSeq():Qt(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var c=s.size;if(c!==void 0)return o+c}},0),a}function zc(e,t,r){var n=le(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function c(u,d){u.__iterate(function(f,p){return(!t||d<t)&&Nt(f)?c(f,d+1):(o++,i(f,r?p:o-1,n)===!1&&(s=!0)),!s},a)}return c(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],c=0;return new U(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var d=u.value;if(i===se&&(d=d[1]),(!t||s.length<t)&&Nt(d))s.push(o),o=d.__iterator(i,a);else return r?u:V(i,c++,d,u)}return Ct()})},n}function nd(e,t,r){var n=qc(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function id(e,t){var r=le(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(pe,i),o=0,s;return new U(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?V(n,o++,t):V(n,o++,s.value,s)})},r}function tr(e,t,r){t||(t=wi);var n=st(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?oe(a):Qt(e)?$t(a):rr(a)}function G0(e,t,r,n){r||(r=wi);var i=st(e),a=0,o=e.toSeq().map(function(c,u){return[u,c,a++,n?n(c,u,e):c]}).valueSeq().toArray(),s=function(c,u){return r(c[3],u[3])||c[2]-u[2]};return Q1(o,t,s),o=o.slice(0,t),o.sort(s).forEach(i?function(c,u){o[u].length=2}:function(c,u){o[u]=c[1]}),i?oe(o):Qt(e)?$t(o):rr(o)}function _i(e,t,r,n){t||(t=wi);var i=0,a=e.toSeq().map(function(s,c){return[c,s,i++,r?r(s,c,e):s]}).valueSeq(),o=le(e);return o.__iterateUncached=function(s,c){var u=this,d=a.toArray(),f=c?function(x,w){return t(w,x)}:t,p=function(x,w){return f(x[3],w[3])||x[2]-w[2]},l=d.length>>10;l=Math.min(d.length,10);var h=0,m=-1,_=0,b=0,g;function y(){h=m+1,m=Math.min(m+l,d.length-1),_=m-h+1,b=0,l<<=2,mi(d,h,d.length-1,m,p),g=d.slice(h,m+1),g.sort(p).forEach(function(x,w){g[w].length=2})}function v(){return b>=_&&y(),g[b++]}for(var P=0;P<d.length;){var O=v();if(s(O[1],n?O[0]:P,u)===!1)break;P++}return P},o.__iteratorUncached=function(s,c){var u=a.toArray(),d=c?function(P,O){return t(O,P)}:t,f=function(P,O){return d(P[3],O[3])||P[2]-O[2]},p=u.length>>10;p=Math.min(u.length,10);var l=0,h=-1,m=0,_=0,b;function g(){l=h+1,h=Math.min(h+p,u.length-1),m=h-l+1,_=0,p<<=2,mi(u,l,u.length-1,h,f),b=u.slice(l,h+1),b.sort(f).forEach(function(P,O){b[O].length=2})}function y(){return _>=m&&g(),b[_++]}var v=0;return new U(function(){if(v>=u.length)return Ct();v++;var P=y(f);return V(s,n?P[0]:v,P[1])})},o}function di(e,t,r){if(t||(t=wi),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return W0(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return W0(t,i,a)?a:i})}function W0(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function fi(e,t,r,n){var i=le(e),a=new Ue(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var c=this,u=this.__iterator(pe,s),d,f=0;!(d=u.next()).done&&o(d.value,f++,c)!==!1;);return f},i.__iteratorUncached=function(o,s){var c=r.map(function(f){return f=ut(f),co(s?f.reverse():f)}),u=0,d=!1;return new U(function(){var f;return d||(f=c.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?Ct():V(o,u++,t.apply(null,f.map(function(p){return p.value})))})},i}function j(e,t){return e===t?e:vo(e)?t:e.constructor(t)}function Y0(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function qc(e){return st(e)?Rt:Qt(e)?Be:Ie}function le(e){return Object.create((st(e)?oe:Qt(e)?$t:rr).prototype)}function Ro(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):he.prototype.cacheResult.call(this)}function wi(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Se(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Po(e,t){if(!e)throw new Error(t)}function qt(e){Po(e!==1/0,"Cannot perform this action with an infinite size.")}function Nc(e){if(Cc(e)&&typeof e!="string")return e;if(fe(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function ad(e){return e&&(typeof e.constructor!="function"||e.constructor.name==="Object")}function Ke(e){return typeof e=="object"&&(Pe(e)||Array.isArray(e)||ad(e))}function bn(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function od(e,t){return Pe(e)?e.has(t):Ke(e)&&qr.call(e,t)}function Hc(e,t,r){return Pe(e)?e.get(t,r):od(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function gi(e){if(Array.isArray(e))return Se(e);var t={};for(var r in e)qr.call(e,r)&&(t[r]=e[r]);return t}function sd(e,t){if(!Ke(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pe(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!qr.call(e,t))return e;var r=gi(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function cd(e,t,r){if(!Ke(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Pe(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(qr.call(e,t)&&r===e[t])return e;var n=gi(e);return n[t]=r,n}function Nr(e,t,r,n){n||(n=r,r=void 0);var i=Uc(Pe(e),e,Nc(t),0,r,n);return i===T?r:i}function Uc(e,t,r,n,i,a){var o=t===T;if(n===r.length){var s=o?i:t,c=a(s);return c===s?t:c}if(!o&&!Ke(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(bn)+"]: "+t);var u=r[n],d=o?T:Hc(t,u,T),f=Uc(d===T?e:Pe(d),d,r,n+1,i,a);return f===d?t:f===T?sd(t,u):cd(o?e?de():{}:t,u,f)}function ud(e,t,r){return Nr(e,t,T,function(){return r})}function ko(e,t){return ud(this,e,t)}function dd(e,t){return Nr(e,t,function(){return T})}function Oo(e){return dd(this,e)}function Kc(e,t,r,n){return Nr(e,[t],r,n)}function xo(e,t,r){return arguments.length===1?e(this):Kc(this,e,t,r)}function Eo(e,t,r){return Nr(this,e,t,r)}function jc(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Fc(this,e)}function Bc(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return Fc(this,t,e)}function Fc(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=Rt(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(u,d){Kc(o,d,T,function(f){return f===T?u:r(f,u,d)})}:function(u,d){o.set(d,u)},c=0;c<n.length;c++)n[c].forEach(s)})}function Ao(e,t,r){return Lo(e,t,fd(r))}function Lo(e,t,r){if(!Ke(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Pe(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Be:Rt,o=n?function(c){i===e&&(i=gi(i)),i.push(c)}:function(c,u){var d=qr.call(i,u),f=d&&r?r(i[u],c,u):c;(!d||f!==i[u])&&(i===e&&(i=gi(i)),i[u]=f)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function fd(e){function t(r,n,i){return Ke(r)&&Ke(n)?Lo(r,[n],t):e?e(r,n,i):n}return t}function Gc(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ao(this,e)}function Wc(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ao(this,t,e)}function zo(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Nr(this,e,de(),function(n){return Lo(n,t)})}function qo(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Nr(this,e,de(),function(n){return Ao(n,t)})}function kn(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function On(){return this.__ownerID?this:this.__ensureOwner(new yo)}function xn(){return this.__ensureOwner()}function No(){return this.__altered}var nr=function(e){function t(r){return r==null?de():Ii(r)&&!fe(r)&&!Pr(r)?r:de().withMutations(function(n){var i=e(r);qt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return de().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return X0(this,n,i)},t.prototype.remove=function(n){return X0(this,n,T)},t.prototype.deleteAll=function(n){var i=ut(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):de()},t.prototype.sort=function(n){return Re(tr(this,n))},t.prototype.sortBy=function(n,i){return Re(tr(this,i,n))},t.prototype.map=function(n,i){return this.withMutations(function(a){a.forEach(function(o,s){a.set(s,n.call(i,o,s,a))})})},t.prototype.__iterator=function(n,i){return new pd(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ho(this.size,this._root,n,this.__hash):this.size===0?de():(this.__ownerID=n,this.__altered=!1,this)},t}(Rt);nr.isMap=Ii;var nt=nr.prototype;nt[Rc]=!0;nt[Ar]=nt.remove;nt.removeAll=nt.deleteAll;nt.setIn=ko;nt.removeIn=nt.deleteIn=Oo;nt.update=xo;nt.updateIn=Eo;nt.merge=nt.concat=jc;nt.mergeWith=Bc;nt.mergeDeep=Gc;nt.mergeDeepWith=Wc;nt.mergeIn=zo;nt.mergeDeepIn=qo;nt.withMutations=kn;nt.wasAltered=No;nt.asImmutable=xn;nt["@@transducer/init"]=nt.asMutable=On;nt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};nt["@@transducer/result"]=function(e){return e.asImmutable()};var Sn=function(t,r){this.ownerID=t,this.entries=r};Sn.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(lt(n,a[o][0]))return a[o][1];return i};Sn.prototype.update=function(t,r,n,i,a,o,s){for(var c=a===T,u=this.entries,d=0,f=u.length;d<f&&!lt(i,u[d][0]);d++);var p=d<f;if(p?u[d][1]===a:c)return this;if(at(s),(c||!p)&&at(o),!(c&&u.length===1)){if(!p&&!c&&u.length>=yd)return hd(t,u,i,a);var l=t&&t===this.ownerID,h=l?u:Se(u);return p?c?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,a]:h.push([i,a]),l?(this.entries=h,this):new Sn(t,h)}};var kr=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};kr.prototype.get=function(t,r,n,i){r===void 0&&(r=Zt(n));var a=1<<((t===0?r:r>>>t)&Et),o=this.bitmap;return o&a?this.nodes[Yc(o&a-1)].get(t+rt,r,n,i):i};kr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Zt(i));var c=(r===0?n:n>>>r)&Et,u=1<<c,d=this.bitmap,f=(d&u)!==0;if(!f&&a===T)return this;var p=Yc(d&u-1),l=this.nodes,h=f?l[p]:void 0,m=Uo(h,t,r+rt,n,i,a,o,s);if(m===h)return this;if(!f&&m&&l.length>=vd)return md(t,l,d,c,m);if(f&&!m&&l.length===2&&Z0(l[p^1]))return l[p^1];if(f&&m&&l.length===1&&Z0(m))return m;var _=t&&t===this.ownerID,b=f?m?d:d^u:d|u,g=f?m?Jc(l,p,m,_):gd(l,p,_):_d(l,p,m,_);return _?(this.bitmap=b,this.nodes=g,this):new kr(t,b,g)};var In=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};In.prototype.get=function(t,r,n,i){r===void 0&&(r=Zt(n));var a=(t===0?r:r>>>t)&Et,o=this.nodes[a];return o?o.get(t+rt,r,n,i):i};In.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Zt(i));var c=(r===0?n:n>>>r)&Et,u=a===T,d=this.nodes,f=d[c];if(u&&!f)return this;var p=Uo(f,t,r+rt,n,i,a,o,s);if(p===f)return this;var l=this.count;if(!f)l++;else if(!p&&(l--,l<bd))return ld(t,d,l,c);var h=t&&t===this.ownerID,m=Jc(d,c,p,h);return h?(this.count=l,this.nodes=m,this):new In(t,l,m)};var Or=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Or.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(lt(n,a[o][0]))return a[o][1];return i};Or.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Zt(i));var c=a===T;if(n!==this.keyHash)return c?this:(at(s),at(o),Ko(this,t,r,n,[i,a]));for(var u=this.entries,d=0,f=u.length;d<f&&!lt(i,u[d][0]);d++);var p=d<f;if(p?u[d][1]===a:c)return this;if(at(s),(c||!p)&&at(o),c&&f===2)return new De(t,this.keyHash,u[d^1]);var l=t&&t===this.ownerID,h=l?u:Se(u);return p?c?d===f-1?h.pop():h[d]=h.pop():h[d]=[i,a]:h.push([i,a]),l?(this.entries=h,this):new Or(t,this.keyHash,h)};var De=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};De.prototype.get=function(t,r,n,i){return lt(n,this.entry[0])?this.entry[1]:i};De.prototype.update=function(t,r,n,i,a,o,s){var c=a===T,u=lt(i,this.entry[0]);if(u?a===this.entry[1]:c)return this;if(at(s),c){at(o);return}return u?t&&t===this.ownerID?(this.entry[1]=a,this):new De(t,this.keyHash,[i,a]):(at(o),Ko(this,t,r,Zt(i),[i,a]))};Sn.prototype.iterate=Or.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};kr.prototype.iterate=In.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};De.prototype.iterate=function(e,t){return e(this.entry)};var pd=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&J0(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,a=this._stack;a;){var o=a.node,s=a.index++,c=void 0;if(o.entry){if(s===0)return to(i,o.entry)}else if(o.entries){if(c=o.entries.length-1,s<=c)return to(i,o.entries[n._reverse?c-s:s])}else if(c=o.nodes.length-1,s<=c){var u=o.nodes[n._reverse?c-s:s];if(u){if(u.entry)return to(i,u.entry);a=n._stack=J0(u,a)}continue}a=n._stack=n._stack.__prev}return Ct()},t}(U);function to(e,t){return V(e,t[0],t[1])}function J0(e,t){return{node:e,index:0,__prev:t}}function Ho(e,t,r,n){var i=Object.create(nt);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var V0;function de(){return V0||(V0=Ho(0))}function X0(e,t,r){var n,i;if(e._root){var a=ct(),o=ct();if(n=Uo(e._root,e.__ownerID,0,void 0,t,r,a,o),!Q(o))return e;i=e.size+(Q(a)?r===T?-1:1:0)}else{if(r===T)return e;i=1,n=new Sn(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ho(i,n):de()}function Uo(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===T?e:(at(s),at(o),new De(t,n,[i,a]))}function Z0(e){return e.constructor===De||e.constructor===Or}function Ko(e,t,r,n,i){if(e.keyHash===n)return new Or(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&Et,o=(r===0?n:n>>>r)&Et,s,c=a===o?[Ko(e,t,r+rt,n,i)]:(s=new De(t,n,i),a<o?[e,s]:[s,e]);return new kr(t,1<<a|1<<o,c)}function hd(e,t,r,n){e||(e=new yo);for(var i=new De(e,Zt(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function ld(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,c=1,u=t.length;s<u;s++,c<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=c,o[a++]=d)}return new kr(e,i,o)}function md(e,t,r,n,i){for(var a=0,o=new Array(ae),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new In(e,a+1,o)}function Yc(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Jc(e,t,r,n){var i=n?e:Se(e);return i[t]=r,i}function _d(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function gd(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var yd=ae/4,vd=ae/2,bd=ae/4,Vc="@@__IMMUTABLE_LIST__@@";function Xc(e){return!!(e&&e[Vc])}var Mi=function(e){function t(r){var n=li();if(r==null)return n;if(Xc(r))return r;var i=e(r),a=i.size;return a===0?n:(qt(a),a>0&&a<ae?Tn(0,a,rt,null,new Ne(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,c){return o.set(c,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=He(this,n),n>=0&&n<this.size){n+=this._origin;var a=Zc(this,n);return a&&a.array[n&Et]}return i},t.prototype.set=function(n,i){return Sd(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=rt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):li()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){qe(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return qe(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){qe(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return qe(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&bo(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(c){i.forEach(function(u){return u.forEach(function(d){return c.push(d)})})})},t.prototype.setSize=function(n){return qe(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,o))})},t.prototype.slice=function(n,i){var a=this.size;return Dn(n,i,a)?this:qe(this,Lr(n,a),Rn(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=Q0(this,i);return new U(function(){var s=o();return s===vn?Ct():V(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=this,o=i?this.size:0,s=Q0(this,i),c;(c=s())!==vn&&n(c,i?--o:o++,a)!==!1;);return o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Tn(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?li():(this.__ownerID=n,this.__altered=!1,this)},t}(Be);Mi.isList=Xc;var mt=Mi.prototype;mt[Vc]=!0;mt[Ar]=mt.remove;mt.merge=mt.concat;mt.setIn=ko;mt.deleteIn=mt.removeIn=Oo;mt.update=xo;mt.updateIn=Eo;mt.mergeIn=zo;mt.mergeDeepIn=qo;mt.withMutations=kn;mt.wasAltered=No;mt.asImmutable=xn;mt["@@transducer/init"]=mt.asMutable=On;mt["@@transducer/step"]=function(e,t){return e.push(t)};mt["@@transducer/result"]=function(e){return e.asImmutable()};var Ne=function(t,r){this.array=t,this.ownerID=r};Ne.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Et;if(i>=this.array.length)return new Ne([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-rt,n),o===s&&a)return this}if(a&&!o)return this;var c=xr(this,t);if(!a)for(var u=0;u<i;u++)c.array[u]=void 0;return o&&(c.array[i]=o),c};Ne.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Et;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-rt,n),a===o&&i===this.array.length-1)return this}var s=xr(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var vn={};function Q0(e,t){var r=e._origin,n=e._capacity,i=Cn(n),a=e._tail;return o(e._root,e._level,0);function o(u,d,f){return d===0?s(u,f):c(u,d,f)}function s(u,d){var f=d===i?a&&a.array:u&&u.array,p=d>r?0:r-d,l=n-d;return l>ae&&(l=ae),function(){if(p===l)return vn;var h=t?--l:p++;return f&&f[h]}}function c(u,d,f){var p,l=u&&u.array,h=f>r?0:r-f>>d,m=(n-f>>d)+1;return m>ae&&(m=ae),function(){for(;;){if(p){var _=p();if(_!==vn)return _;p=null}if(h===m)return vn;var b=t?--m:h++;p=o(l&&l[b],d-rt,f+(b<<d))}}}}function Tn(e,t,r,n,i,a,o){var s=Object.create(mt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var $0;function li(){return $0||($0=Tn(0,0,rt))}function Sd(e,t,r){if(t=He(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?qe(o,t).set(0,r):qe(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=ct();return t>=Cn(e._capacity)?n=ho(n,e.__ownerID,0,t,r,a):i=ho(i,e.__ownerID,e._level,t,r,a),Q(a)?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Tn(e._origin,e._capacity,e._level,i,n):e}function ho(e,t,r,n,i,a){var o=n>>>r&Et,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var c;if(r>0){var u=e&&e.array[o],d=ho(u,t,r-rt,n,i,a);return d===u?e:(c=xr(e,t),c.array[o]=d,c)}return s&&e.array[o]===i?e:(a&&at(a),c=xr(e,t),i===void 0&&o===c.array.length-1?c.array.pop():c.array[o]=i,c)}function xr(e,t){return t&&e&&t===e.ownerID?e:new Ne(e?e.array.slice():[],t)}function Zc(e,t){if(t>=Cn(e._capacity))return e._tail;if(t<1<<e._level+rt){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Et],n-=rt;return r}}function qe(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new yo,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var c=e._level,u=e._root,d=0;o+d<0;)u=new Ne(u&&u.array.length?[void 0,u]:[],n),c+=rt,d+=1<<c;d&&(o+=d,i+=d,s+=d,a+=d);for(var f=Cn(a),p=Cn(s);p>=1<<c+rt;)u=new Ne(u&&u.array.length?[u]:[],n),c+=rt;var l=e._tail,h=p<f?Zc(e,s-1):p>f?new Ne([],n):l;if(l&&p>f&&o<a&&l.array.length){u=xr(u,n);for(var m=u,_=c;_>rt;_-=rt){var b=f>>>_&Et;m=m.array[b]=xr(m.array[b],n)}m.array[f>>>rt&Et]=l}if(s<a&&(h=h&&h.removeAfter(n,0,s)),o>=p)o-=p,s-=p,c=rt,u=null,h=h&&h.removeBefore(n,0,o);else if(o>i||p<f){for(d=0;u;){var g=o>>>c&Et;if(g!==p>>>c&Et)break;g&&(d+=(1<<c)*g),c-=rt,u=u.array[g]}u&&o>i&&(u=u.removeBefore(n,c,o-d)),u&&p<f&&(u=u.removeAfter(n,c,p-d)),d&&(o-=d,s-=d)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=c,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):Tn(o,s,c,u,h)}function Cn(e){return e<ae?0:e-1>>>rt<<rt}var Re=function(e){function t(r){return r==null?_n():Pc(r)?r:_n().withMutations(function(n){var i=Rt(r);qt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):_n()},t.prototype.set=function(n,i){return ec(this,n,i)},t.prototype.remove=function(n){return ec(this,n,T)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?jo(i,a,n,this.__hash):this.size===0?_n():(this.__ownerID=n,this._map=i,this._list=a,this)},t}(nr);Re.isOrderedMap=Pc;Re.prototype[zr]=!0;Re.prototype[Ar]=Re.prototype.remove;function jo(e,t,r,n){var i=Object.create(Re.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}var tc;function _n(){return tc||(tc=jo(de(),li()))}function ec(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,c;if(r===T){if(!o)return e;i.size>=ae&&i.size>=n.size*2?(c=i.filter(function(u,d){return u!==void 0&&a!==d}),s=c.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=c.__ownerID=e.__ownerID)):(s=n.remove(t),c=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,c=i.set(a,[t,r])}else s=n.set(t,i.size),c=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=c,e.__hash=void 0,e):jo(s,c)}function Qc(e){return Ii(e)&&Pr(e)}var ke=function(t,r,n){this.comparator=t,this.options=r,this.ownerID=n};ke.prototype.getComparator=function(){};ke.prototype.get=function(t,r){};ke.prototype.upsert=function(t,r,n,i,a){};ke.prototype.remove=function(t,r,n,i){};ke.prototype.fastRemove=function(t,r,n,i){};ke.prototype.iterate=function(t,r){};ke.prototype.print=function(t,r){};ke.prototype.checkConsistency=function(t){};var $c=function(){};$c.prototype.pack=function(t,r,n,i){};var Di=function(){};Di.prototype.createNode=function(t,r,n,i,a){};Di.prototype.createPacker=function(){};Di.prototype.createIterator=function(t,r,n){};var Id="btree",tu=33,yt=function(e){function t(r,n,i,a,o){return e.call(this,r,n,i),this.entries=a,this.nodes=o,this.btreeOrder=n&&n.btreeOrder?n.btreeOrder:tu,this.btreeNodeSplitSize=Math.floor((this.btreeOrder-1)/2),this._calcSize(),this}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._calcSize=function(){var n=this;this.size=0;for(var i=0;i<this.entries.length;i++)n.entries[i][1]!==T&&n.size++;if(this.nodes)for(var a=0;a<this.nodes.length;a++)n.size+=n.nodes[a].size},t.prototype.getComparator=function(){return this.comparator},t.prototype.get=function(n,i){var a=this.entries,o=ct(),s=Dr(this.comparator,a,n,o);if(Q(o)){var c=a[s][1];return c===T?i:c}var u=this.nodes;if(u){var d=u[s].get(n,i);return d===T?i:d}return i},t.prototype.entryAt=function(n){var i=ct(),a=ct(),o=this.indexSearch(n,i,a);if(Q(i)){var s=this.entries[o],c=s[0],u=s[1];return[c,u]}return this.nodes[o].entryAt(a.value)},t.prototype.keyAt=function(n){var i=ct(),a=ct(),o=this.indexSearch(n,i,a);if(Q(i)){var s=this.entries[o],c=s[0];return c}return this.nodes[o].keyAt(a.value)},t.prototype.valueAt=function(n){var i=ct(),a=ct(),o=this.indexSearch(n,i,a);if(Q(i)){var s=this.entries[o],c=s[1];return c}return this.nodes[o].valueAt(a.value)},t.prototype.firstKey=function(){var n=this.nodes;if(n)return n[0].firstKey();var i=this.entries;return i[0][0]},t.prototype.lastKey=function(){var n=this.nodes;if(n)return n[n.length-1].lastKey();var i=this.entries;return i[i.length-1][0]},t.prototype.upsert=function(n,i,a,o,s,c){var u=this._upsert(n,i,a,o,s,c);return this===u&&Q(o)&&this.size++,u},t.prototype._upsert=function(n,i,a,o,s,c){if(!c){var u=[],d=this.upsert(n,i,a,o,s,u);if(u[0]){var f=[u[0]],p=[d,u[1]];d=new t(this.comparator,this.options,n,f,p)}return d}var l=this.entries,h=ct(),m=Dr(this.comparator,l,i,h),_=Q(h),b=this.nodes,g=n&&n===this.ownerID,y,v;if(_){if(l[m][1]===a)return this;var P=[i,a];at(s),l[m][1]===T&&at(o),y=Me(l,m,P,g),v=wr(b,g)}else if(b){var O=[],x=b[m].upsert(n,i,a,o,s,O);if(Q(s))if(O[0]){if(l.length>=this.btreeOrder-1)return this.splitNode(m,x,O,c,n,g);y=ro(l,m,O[0],g),v=ro(b,m+1,O[1],g),v[m]=x}else y=wr(l,g),v=Me(b,m,x,g);else return this}else{var w=[i,a];if(at(s),at(o),l.length>=this.btreeOrder-1)return this.splitLeaf(m,w,c,n,g);y=ro(l,m,w,g)}return this.makeNewNode(y,v,n,g)},t.prototype.fastRemove=function(n,i,a,o){var s=this._fastRemove(n,i,a,o);return this===s&&Q(a)&&this.size--,s},t.prototype._fastRemove=function(n,i,a,o){var s=this.entries,c=ct(),u=Dr(this.comparator,s,i,c),d=Q(c),f=this.nodes,p=n&&n===this.ownerID,l,h;if(d){if(s[u][1]===T)return this;at(o),at(a);var m=[i,T];l=Me(s,u,m,p),h=wr(f,p)}else if(f){var _=f[u].fastRemove(n,i,a,o);if(Q(o))l=wr(s,p),h=Me(f,u,_,p);else return this}else return this;return this.makeNewNode(l,h,n,p)},t.prototype.remove=function(n,i,a,o,s,c,u){var d=this._remove(n,i,a,o,s,c,u);return this===d&&Q(a)&&this.size--,d},t.prototype._remove=function(n,i,a,o,s,c,u){var d=this.entries,f=ct(),p=Dr(this.comparator,d,i,f),l=Q(f),h=this.nodes,m=n&&n===this.ownerID,_,b;if(l)if(h){if(d[p][1]===T)return this;at(o),at(a);var g=[i,T];_=Me(d,p,g,m),b=wr(h,m)}else{if(d[p][1]===T)return this;if(at(o),at(a),d.length<=this.btreeNodeSplitSize&&s)return this.consolidateLeaf(n,p,s,c,m,u);_=er(d,p,m)}else if(h){var y=[void 0,void 0,void 0],v=h[p].remove(n,i,a,o,this,p,y);return Q(o)?this.spliceNode(n,p,v,s,c,m,y,u):this}else return this;return this.makeNewNode(_,b,n,m)},t.prototype.makeNewNode=function(n,i,a,o){return n.length===0?i?i[0]:void 0:o?(this.entries=n,this.nodes=i,this._calcSize(),this):new t(this.comparator,this.options,a,n,i)},t.prototype.print=function(n,i){function a(l){process.stdout.write(l)}if(!(i&&n>=i)){var o=this.nodes,s=this.entries;if(a(mn(n)),a("SIZE="+this.size+`
`),o)for(var c=0;c<o.length;c++){var u=o[c];if(a(mn(n)),!u||!(u instanceof e)?a("+ CORRUPT NODE["+c+"] (L"+n+") "+JSON.stringify(u)+`
`):(u.nodes?a("+ NODE["+c+"] (L"+n+`)
`):a("+ LEAF["+c+"] (L"+n+`)
`),u.print(n+1,i)),c<s.length){a(mn(n));var d=s[c];d?d[1]===T?a("- REMOVED ENTRY["+c+"]: "+JSON.stringify(d[0])+`
`):a("- ENTRY["+c+"]: "+JSON.stringify(d[0])+`
`):a("- CORRUPT ENTRY["+c+"]: "+JSON.stringify(d)+`
`)}}else for(var f=0;f<s.length;f++){a(mn(n));var p=s[f];p?p[1]===T?a("- REMOVED ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):a("- ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):a("- CORRUPT ENTRY["+f+"]: "+JSON.stringify(p)+`
`)}}},t.prototype.checkConsistency=function(n,i,a,o){var s=this;function c(y){if(n){var v=y();v!==void 0&&(process.stdout.write(mn(i)),process.stdout.write(v))}}i||(i=0),a||(a=0),o||(o=[void 0]),this.nodes?c(function(){return"+ Checking NODE["+a+"] (L"+i+`)
`}):(c(function(){return"+ Checking LEAF["+a+"] (L"+i+`)
`}),o[0]===void 0?o[0]=i:o[0]!==i&&u(112,"leaves are not on the same level"));function u(y,v){var P="Consistency Check Failed with error code "+y+": "+v;if(n)return c(function(){return P+`
`}),y;throw new Error(P)}var d=this.entries,f=this.nodes;if(!d)return u(101,"empty entries in a node");if(!(d.length>0&&d.length<this.btreeOrder))return u(102,"entries length is out of range from 0 to (btreeOrder-1)");if(i>0&&!(this.btreeNodeSplitSize<=d.length))return u(103,"entries length is shorter than btreeNodeSplitSize");if(f&&f.length!==d.length+1)return u(104,"nodes length out of sync with entries length");for(var p=function(y){var v=d[y];if(!v)return{v:u(105,"empty entry")};if(!(typeof v=="object"&&v instanceof Array))return{v:u(106,"entry is not Array")};if(v.length!==2)return{v:u(107,"entry is not Array[2]")};v[1]===T?(c(function(){return"    - Checking REMOVED ENTRY["+y+"]: "+JSON.stringify(v[0])+`
`}),f||u(113,"NOT_SET values are not allowed in leaves")):c(function(){return"    - Checking ENTRY["+y+"]: "+JSON.stringify(v[0])+`
`})},l=0;l<d.length;l++){var h=p(l);if(h)return h.v}for(var m=0;m<d.length-1;m++)if(!(s.comparator(d[m][0],d[m+1][0])<0))return u(108,"the entries are not sorted");if(f)for(var _=0;_<f.length;_++){var b=f[_];if(!b||!(b instanceof e))return u(109,"empty or corrupt node");var g=b.checkConsistency(n,i+1,_,o);if(g!==0)return g;if(_>0&&!(s.comparator(d[_-1][0],b.firstKey())<0))return u(110,"the entry and right node not sorted");if(_<d.length&&!(s.comparator(b.lastKey(),d[_][0])<0))return u(111,"the entry and left node not sorted")}return 0},t}(ke);yt.prototype.iterate=function(e,t){var r=this.entries,n=this.nodes;if(n){for(var i=0,a=r.length-1;i<=a;i++){var o=n[t?a+1-i:i];if(o.iterate(e,t)===!1)return!1;var s=r[t?a-i:i];if(s[1]!==T&&e(s)===!1)return!1}var c=n[t?0:n.length-1];if(c.iterate(e,t)===!1)return!1}else for(var u=0,d=r.length-1;u<=d;u++){var f=r[t?d-u:u];if(f[1]!==T&&e(f)===!1)return!1}return!0};yt.prototype.iterateFrom=function(e,t,r){var n=this;if(r)return this.iterate(function(_){return n.comparator(e,_[0])<=0?t(_):!0},r);var i=this.entries,a=this.nodes,o=ct(),s=Dr(this.comparator,i,e,o);if(a){for(var c=s,u=i.length-1;c<=u;c++){var d=a[c];if(c===s&&!Q(o)){if(d.iterateFrom(e,t,r)===!1)return!1}else if(c>s&&d.iterate(t,r)===!1)return!1;var f=i[c];if(f[1]!==T&&t(f)===!1)return!1}var p=a[a.length-1];if(s===a.length-1){if(p.iterateFrom(e,t,r)===!1)return!1}else if(p.iterate(t,r)===!1)return!1}else for(var l=s,h=i.length-1;l<=h;l++){var m=i[l];if(m[1]!==T&&t(m)===!1)return!1}return!0};yt.prototype.iterateFromBackwards=function(e,t,r){var n=this;if(r)return this.iterate(function(l){return n.comparator(l[0],e)<=0?t(l):!0},!1);var i=this.entries,a=this.nodes,o=ct(),s=Dr(this.comparator,i,e,o);if(a)for(var c=s;c>=0;c--){if(c<s||Q(o)){var u=i[c];if(u[1]===T)continue;if(t(u)===!1)return!1}var d=a[c];if(c===s&&!Q(o)){if(d.iterateFromBackwards(e,t,r)===!1)return!1}else if(d.iterate(t,!0)===!1)return!1}else for(var f=Q(o)?s:s-1;f>=0;f--){var p=i[f];if(p[1]!==T&&t(p)===!1)return!1}return!0};yt.prototype.iterateFromIndex=function(e,t){var r=this.entries,n=this.nodes,i=ct(),a=ct(),o=this.indexSearch(e,i,a);if(n){for(var s=o,c=r.length-1;s<=c;s++){var u=n[s];if(s===o&&!Q(i)){if(u.iterateFromIndex(a.value,t)===!1)return!1}else if(s>o&&u.iterate(t,!1)===!1)return!1;var d=r[s];if(d[1]!==T&&t(d)===!1)return!1}var f=n[n.length-1];if(o===n.length-1){if(f.iterateFromIndex(a.value,t)===!1)return!1}else if(f.iterate(t,!1)===!1)return!1}else for(var p=o,l=r.length-1;p<=l;p++){var h=r[p];if(h[1]!==T&&t(h)===!1)return!1}return!0};yt.prototype.iterateFromIndexBackwards=function(e,t){var r=this.entries,n=this.nodes,i=ct(),a=ct(),o=this.indexSearch(e,i,a);if(n)for(var s=o;s>=0;s--){if(s<o||Q(i)){var c=r[s];if(c[1]===T)continue;if(t(c)===!1)return!1}var u=n[s];if(s===o&&!Q(i)){if(u.iterateFromIndexBackwards(a.value,t)===!1)return!1}else if(u.iterate(t,!0)===!1)return!1}else for(var d=Q(i)?o:o-1;d>=0;d--){var f=r[d];if(f[1]!==T&&t(f)===!1)return!1}return!0};var Td=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&nc(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,a=this._stack;a;){var o=a.node,s=a.index++;if(o.nodes){var c=o.entries.length+o.nodes.length-1;if(s<=c)if(s%2===0){s/=2;var u=o.nodes[n._reverse?o.nodes.length-1-s:s];u&&(a=n._stack=nc(u,a));continue}else{s=(s-1)/2;var d=o.entries[n._reverse?o.entries.length-1-s:s];if(d[1]===T)continue;return rc(i,d)}}else{var f=o.entries.length-1;if(s<=f){var p=o.entries[n._reverse?f-s:s];if(p[1]===T)continue;return rc(i,p)}}a=n._stack=n._stack.__prev}return Ct()},t}(U);function rc(e,t){return V(e,t[0],t[1])}function nc(e,t){return{node:e,index:0,__prev:t}}function ht(e){var t=new Array(e);return t}var eo=new Array(120).join(" ");function mn(e){var t=4*e;return t>eo.length&&(t=eo.length),eo.substring(0,t)}function wr(e,t){if(e===void 0||t)return e;for(var r=e.length,n=ht(r),i=0;i<r;i++)n[i]=e[i];return n}function Me(e,t,r,n){if(n)return e[t]=r,e;for(var i=e.length,a=ht(i),o=0;o<t;o++)a[o]=e[o];a[t]=r;for(var s=t+1;s<i;s++)a[s]=e[s];return a}function ro(e,t,r,n){var i=e.length+1;if(n){for(var a=i-1,o=t+1;a>=o;a--)e[a]=e[a-1];return e[t]=r,e}for(var s=ht(i),c=0;c<t;c++)s[c]=e[c];s[t]=r;for(var u=t+1;u<i;u++)s[u]=e[u-1];return s}function er(e,t,r){var n=e.length-1;if(r){for(var i=t;i<n;i++)e[i]=e[i+1];return e.length=n,e}for(var a=ht(n),o=0;o<t;o++)a[o]=e[o];for(var s=t;s<n;s++)a[s]=e[s+1];return a}function Mr(e,t,r,n){var i=e.length-r;if(n){for(var a=t;a<i;a++)e[a]=e[a+r];return e.length=i,e}for(var o=ht(i),s=0;s<t;s++)o[s]=e[s];for(var c=t;c<i;c++)o[c]=e[c+r];return o}function lo(e,t,r,n){var i=e.length-1+r,a;n?(e.length=i,a=e):a=ht(i);for(var o=i-1,s=t+r;o>=s;o--)a[o]=e[o-r+1];for(var c=t+r-1;c>=r;c--)a[c]=e[c-r];return a}function ic(e,t,r,n,i){var a=er(e,n,i);return t<n?a[t]=r:t>n&&(a[t-1]=r),a}function Dr(e,t,r,n){for(var i=0,a=t.length;a>0;){var o=Math.floor(a/2),s=t[i+o],c=s[0],u=e(r,c);if(u===0)return at(n),i+o;u>0?(i+=o+1,a-=o+1):a=o}return i}yt.prototype.indexSearch=function(e,t,r){if(e<0||e>=this.size)throw new Error("BtreeNode.indexSearch: index is out of bounds: "+e+" vs "+this.size);for(var n=this.entries,i=this.nodes,a=0;a<n.length;a++){if(i){var o=i[a];if(e<o.size)return r.value=e,a;e-=o.size}var s=n[a];if(s[1]!==T){if(e===0)return at(t),a;e--}}if(i){var c=i[i.length-1];if(e<c.size)return r.value=e,i.length-1}throw new Error("BtreeNode.indexSearch: inconsistent node size")};yt.prototype.splitNode=function(e,t,r,n,i,a){var o=this.entries,s=this.nodes,c=this.btreeNodeSplitSize,u,d;if(e<c){var f=o.slice(c,o.length),p=s.slice(c,s.length),l=new yt(this.comparator,this.options,this.ownerID,f,p);if(n[0]=o[c-1],n[1]=l,a){o.length=c,s.length=c+1;for(var h=c-1;h>=e+1;h--)o[h]=o[h-1],s[h+1]=s[h];o[e]=r[0],s[e]=t,s[e+1]=r[1],u=o,d=s}else{u=ht(c),d=ht(c+1);for(var m=0;m<e;m++)u[m]=o[m],d[m]=s[m];u[e]=r[0],d[e]=t,d[e+1]=r[1];for(var _=e+1;_<c;_++)u[_]=o[_-1],d[_+1]=s[_]}}else if(e===c){var b=ht(o.length-c),g=ht(s.length-c);b[0]=o[c],g[0]=r[1];for(var y=1,v=b.length;y<v;y++)b[y]=o[c+y],g[y]=s[c+y];g[g.length-1]=s[s.length-1];var P=new yt(this.comparator,this.options,this.ownerID,b,g);if(n[0]=r[0],n[1]=P,a)o.length=c,s.length=c+1,s[e]=t,u=o,d=s;else{u=ht(c),d=ht(c+1);for(var O=0;O<c;O++)u[O]=o[O],d[O]=s[O];d[e]=t}}else{for(var x=ht(o.length-c),w=ht(s.length-c),F=c+1,X=e-F,tt=0,gt=X;tt<gt;tt++)x[tt]=o[F+tt],w[tt]=s[F+tt];x[X]=r[0],w[X]=t,w[X+1]=r[1];for(var q=X+1,dt=x.length;q<dt;q++)x[q]=o[c+q],w[q+1]=s[c+q+1];var We=new yt(this.comparator,this.options,this.ownerID,x,w);n[0]=o[c],n[1]=We,a?(o.length=c,s.length=c+1,u=o,d=s):(u=o.slice(0,c),d=s.slice(0,c+1))}return this.makeNewNode(u,d,i,a)};yt.prototype.splitLeaf=function(e,t,r,n,i){var a=this.entries,o=this.btreeNodeSplitSize,s,c;if(e<o){var u=a.slice(o,a.length),d=new yt(this.comparator,this.options,this.ownerID,u);if(r[0]=a[o-1],r[1]=d,i){a.length=o;for(var f=o-1;f>=e+1;f--)a[f]=a[f-1];a[e]=t,s=a}else{s=ht(o);for(var p=0;p<e;p++)s[p]=a[p];s[e]=t;for(var l=e+1;l<o;l++)s[l]=a[l-1]}}else if(e===o){var h=ht(a.length-o);h[0]=a[o];for(var m=1,_=h.length;m<_;m++)h[m]=a[o+m];var b=new yt(this.comparator,this.options,this.ownerID,h);if(r[0]=t,r[1]=b,i)a.length=o,s=a;else{s=ht(o);for(var g=0;g<o;g++)s[g]=a[g]}}else{for(var y=ht(a.length-o),v=o+1,P=e-v,O=0,x=P;O<x;O++)y[O]=a[v+O];y[P]=t;for(var w=P+1,F=y.length;w<F;w++)y[w]=a[o+w];var X=new yt(this.comparator,this.options,this.ownerID,y);r[0]=a[o],r[1]=X,i?(a.length=o,s=a):s=a.slice(0,o)}return this.makeNewNode(s,c,n,i)};yt.prototype.spliceNode=function(e,t,r,n,i,a,o,s){var c=this.entries,u=this.nodes,d,f,p=o[0],l=o[1],h=o[2];if(l===T){if(c.length<=this.btreeNodeSplitSize&&n)return h?this.consolidateNode(e,t,r,t-1,t-1,n,i,a,s):this.consolidateNode(e,t,r,t,t+1,n,i,a,s);h?(f=ic(u,t,r,t-1,a),d=er(c,t-1,a)):(f=ic(u,t,r,t+1,a),d=er(c,t,a))}else f=Me(u,t,r,a),l?h?(f[t-1]=l,d=Me(c,t-1,p,a)):(f[t+1]=l,d=Me(c,t,p,a)):p?d=Me(c,t,p,a):d=wr(c,a);return this.makeNewNode(d,f,e,a)};yt.prototype.consolidateNode=function(e,t,r,n,i,a,o,s,c){var u=this.entries,d=this.nodes,f=a.entries,p=a.nodes,l,h,m,_;if(o===0)_=p[o+1],h=l=_;else if(o===p.length-1)m=p[o-1],h=l=m;else{m=p[o-1],_=p[o+1];var b=(m.entries.length-this.btreeNodeSplitSize+1)/2,g=(_.entries.length-this.btreeNodeSplitSize+1)/2;b>=g?(l=m,h=_):(l=_,h=m)}var y,v;function P(w,F,X){y=lo(u,n,F,s),v=lo(d,i,F,s);var tt=t<i?t+F:t+F-1;v[tt]=r;var gt=F-1;y[gt]=f[o-1],v[gt--]=w.nodes[w.nodes.length-1];var q;for(q=w.entries.length-1;gt>=0;gt--,q--)y[gt]=w.entries[q],v[gt]=w.nodes[q];if(X)c[1]=T;else{c[0]=w.entries[q];var dt=Mr(w.entries,w.entries.length-F,F,s),We=Mr(w.nodes,w.nodes.length-F,F,s);c[1]=w.makeNewNode(dt,We,e,s)}c[2]=!0}function O(w,F,X){y=er(u,n,s),v=er(d,i,s);var tt=y.length;y.length+=F,v.length+=F;var gt=t<i?t:t-1;v[gt]=r,y[tt++]=f[o],v[tt]=w.nodes[0];for(var q=0,dt=F-1;q<dt;q++)y[tt+q]=w.entries[q],v[tt+q+1]=w.nodes[q+1];if(X)c[1]=T;else{c[0]=w.entries[F-1];var We=Mr(w.entries,0,F,s),Bt=Mr(w.nodes,0,F,s);c[1]=w.makeNewNode(We,Bt,e,s)}c[2]=!1}var x=Math.floor((l.entries.length-this.btreeNodeSplitSize+1)/2);return x>0?l===m?P(l,x):O(l,x):h===m?P(h,h.entries.length+1,!0):O(h,h.entries.length+1,!0),this.makeNewNode(y,v,e,s)};yt.prototype.consolidateLeaf=function(e,t,r,n,i,a){var o=this.entries,s=r.entries,c=r.nodes,u,d,f;if(n===0)f=c[n+1],u=f;else if(n===c.length-1)d=c[n-1],u=d;else{d=c[n-1],f=c[n+1];var p=d.entries.length-this.btreeNodeSplitSize,l=f.entries.length-this.btreeNodeSplitSize;p>=l?u=d:u=f}var h;function m(x,w,F){h=lo(o,t,w,i);var X=w;g||(h[w-1]=b,X--);for(var tt=0;tt<X;tt++)h[tt]=x.entries[x.entries.length-X+tt];if(F)a[1]=T;else{X++,a[0]=x.entries[x.entries.length-X];var gt=Mr(x.entries,x.entries.length-X,X,i);a[1]=x.makeNewNode(gt,void 0,e,i)}a[2]=!0}function _(x,w,F){h=er(o,t,i);var X=h.length;h.length+=w;var tt=w;g||(h[X++]=b,tt--);for(var gt=0;gt<tt;gt++)h[X+gt]=x.entries[gt];if(F)a[1]=T;else{a[0]=x.entries[tt++];var q=Mr(x.entries,0,tt,i);a[1]=x.makeNewNode(q,void 0,e,i)}a[2]=!1}var b=u===d?s[n-1]:s[n],g=b[1]===T,y=g?1:0,v=u.entries.length-this.btreeNodeSplitSize-y;if(v>0){var P=Math.floor((v+1)/2);u===d?m(u,P):_(u,P)}else{var O=u.entries.length+1-y;u===d?m(u,O,!0):_(u,O,!0)}return this.makeNewNode(h,void 0,e,i)};var Bo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.calcPlanCnt=function(n,i){if(i<1||i>20)throw new Error("Height is out of supported limit");for(var a=n-1,o=1;o<i;o++)a=a*n+(n-1);return a},t.prototype.prepareCachedPlan=function(n,i){var a=n.toString()+" "+i.toString(),o=t.cache[a];if(o)return o;var s=this.preparePlan(n,i);return this.verifyPlan(s),n<100&&i<=100&&i>=n&&t.cacheSize<500&&(t.cache[a]=s,t.cacheSize++),s},t.prototype.preparePlan=function(n,i){for(var a=n-1,o=1,s=a,c;s<i;)c=s,s=s*n+a,o++;if(s===i)return{op:"build",full:!0,height:o,order:n,repeat:1,total:i};if(o===1)return{op:"build",full:!1,height:o,order:n,repeat:1,total:i};var u=c,d=1+Math.floor(i/(u+1));if(d<2)throw new Error("Something is wrong, the rootOrder is expected to be >= 2");if(d*u+(d-1)===i){var f=d,p=[],l=f*u+f-1;return p.push({op:"build",full:!0,height:o-1,order:n,repeat:d,total:l}),{op:"assemble",height:o,order:n,total:l,items:p}}var h=[];if(d>2){var m=d-2,_=m*u+m-1,b={op:"build",full:!0,height:o-1,order:n,repeat:m,total:_};h.push(b),i-=_,i--}i--;var g=Math.floor(i/2);i-g>0&&h.push(this.prepareCachedPlan(n,i-g)),g>0&&h.push(this.prepareCachedPlan(n,g));for(var y=0,v=h.length,P=0;P<v;P++)y+=h[P].total;return y+=h.length-1,{op:"assemble",height:o,order:n,total:y,items:h}},t.prototype.verifyPlan=function(n,i){var a=this;function o(h){throw new Error(h)}if(i===void 0&&(i=0),n.op==="assemble"){for(var s=0,c=n.items.length,u=0;u<c;u++){var d=n.items[u];s+=d.total,d.op==="build"&&(d.order>=d.repeat||o("Plan verification test failed: pl.order >= pl.repeat: "+JSON.stringify(d))),n.height!==d.height+1&&o("Plan verification test failed: plan.height === pl.height+1"),a.verifyPlan(d,i+1)}s+=n.items.length-1,n.total!==s&&o("Count mismatch: "+n.total+" vs "+s)}else if(n.op==="build"){var f=this.calcPlanCnt(n.order,n.height);if(n.full){var p=f*n.repeat+n.repeat-1;n.total!==p&&o("Plan verification test failed: plan.total === ec")}else{n.height!==1&&o("Plan verification test failed: expected height 1, got instead "+n.height),n.total<f||o("Plan verification test failed: plan.total < ec");var l=Math.floor((n.order-1)/2);i>0&&!(n.total>=l)&&o("Plan verification test failed: plan.total >= halfSize: "+n.total+", "+l)}}else o("Plan verification test failed: invalid op: "+n.op)},t.prototype.runPlan=function(n,i){var a=this;function o(f){throw f="Packing Plan is corrupt: "+f,new Error(f)}if(n.op==="assemble")for(var s=n.items.length,c=0;c<s;c++)c>0&&a.populate(i,1),a.runPlan(n.items[c],i);else if(n.op==="build")for(var u=(n.total-n.repeat+1)/n.repeat,d=0;d<n.repeat;d++)d>0&&a.populate(i,1),a.populate(i,u);else o("invalid op: "+n.op);this.flush(n.height)},t.prototype.flushLevel=function(n){this.prepareLevel(n+1);var i=this.stack[n];i._calcSize(),this.addNode(n+1,i),this.stack[n]=void 0},t.prototype.flush=function(n){for(var i=this,a=0;a<n;a++){var o=a;i.stack[o]&&i.flushLevel(o)}this.stackLevel=n},t.prototype.populate=function(n,i){for(var a=this,o=0;o<i;o++){var s=n.next();if(a.entriesCnt++,s.done)throw new Error("unexpected end of iterator at "+a.entriesCnt+" vs "+n.size);var c=s.value,u=a.stackLevel;a.prepareLevel(u),a.addEntry(u,c),u>0?a.stackLevel=0:a.stackIndices[u]===a.order-1&&(a.flushLevel(u),a.stackLevel++)}},t.prototype.addEntry=function(n,i){this.stack[n].entries[this.stackIndices[n]++]=i},t.prototype.addNode=function(n,i){this.stack[n].nodes[this.stackIndices[n]]=i,this.stackIndices[n]===this.order-1&&(this.flushLevel(n),this.stackLevel++)},t.prototype.prepareLevel=function(n){if(!this.stack[n]){var i=ht(this.order-1);i.length=0;var a;n>0&&(a=ht(this.order),a.length=0),this.stack[n]=new yt(this.comparator,this.options,this.ownerID,i,a),this.stackIndices[n]=0}},t.prototype.finish=function(){var n=this.stackLevel;if(!(n>=this.stack.length))return this.stack[n].nodes[0]},t.prototype.pack=function(n,i,a,o){if(i&&i.type&&i.type!==Id)throw new Error("Unsuported type by btree factory: "+i.type);this.order=i&&i.btreeOrder?i.btreeOrder:tu;var s=Rt(o);qt(s.size);var c=this.preparePlan(this.order,s.size);this.comparator=n,this.options=i,this.ownerID=a,this.stack=[],this.stackIndices=[],this.stackLevel=0,this.entriesCnt=0;var u=s.entries();if(this.runPlan(c,u),!u.next().done)throw new Error("iterator did not end when expected");return this.finish()},t}($c);Bo.cache={};Bo.cacheSize=0;var Cd=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n,i,a,o,s){return new yt(n,i,a,o,s)},t.prototype.createPacker=function(){return new Bo},t.prototype.createIterator=function(n,i,a){return new Td(n,i,a)},t}(Di),bt=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this.getOptions()),i||(i=t.defaultOptions)),r==null?we(n,i):Qc(r)&&r.getComparator()===n&&r.getOptions()===i?r:we(n,i).withMutations(function(a){a.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return we().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("SortedMap {","}")},t.prototype.getComparator=function(){return this._comparator},t.prototype.getOptions=function(){return this._options},t.prototype.get=function(n,i){return this._root?this._root.get(n,i):i},t.prototype.entryAt=function(n){return this._root?this._root.entryAt(n):new Error("index is out of bounds")},t.prototype.keyAt=function(n){return this._root?this._root.keyAt(n):new Error("index is out of bounds")},t.prototype.valueAt=function(n){return this._root?this._root.valueAt(n):new Error("index is out of bounds")},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__altered=!0,this):we(this._comparator,this._options)},t.prototype.pack=function(n){var i=this,a;if(n===void 0)a=this;else{var o=0,s=Rt(n).map(function(g,y){return[y,g,o++]}).valueSeq().toArray();if(s.length===0)return this.__ownerID?(this._root=void 0,this.size=0,this.__altered=!0,this):we(this._comparator,this._options);s.sort(function(g,y){return i._comparator(g[0],y[0])||g[2]-y[2]});for(var c=[],u=0,d=s.length-1;u<d;u++){var f=s[u],p=s[u+1];if(i._comparator(f[0],p[0])<0){var l=[f[0],f[1]];c.push(l)}}var h=s[s.length-1],m=[h[0],h[1]];c.push(m),a=oe(c)}qt(a.size);var _=a.size,b=this._factory.createPacker().pack(this._comparator,this._options,this.__ownerID,a);return this.__ownerID?(this._root=b,this.size=_,this.__altered=!0,this):b?wn(this._comparator,this._options,_,b):we(this._comparator,this._options)},t.prototype.set=function(n,i){return no(this,n,i)},t.prototype.remove=function(n){return no(this,n,T)},t.prototype.fastRemove=function(n){return no(this,n,T,!0)},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t(tr(this,i,n),i,this.getOptions())},t.prototype.__iterator=function(n,i){return this._factory.createIterator(this,n,i)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?wn(this._comparator,this._options,this.size,this._root,n):this.size===0?we(this._comparator,this._options):(this.__ownerID=n,this.__altered=!1,this)},t.prototype.checkConsistency=function(n){var i=this;if(this._root)return this.size>0?this._root.checkConsistency(n):1;if(this.size!==0)return 2;var a=0,o;return this.keySeq().forEach(function(s){if(a&&!(i._comparator(o,s)<0))return 3;o=s,a++}),this.size!==a?4:0},t.prototype.print=function(n){var i="SORTED MAP: size="+this.size;return this._options&&(i=i+", options="+JSON.stringify(this._options)),console.log(i),this._root&&this._root.print(1,n),this},t.prototype.from=function(n,i){var a=this,o=Object.create(oe).prototype;return o.__iterateUncached=function(s,c){var u=this;if(!a._root)return 0;var d=0;return i?a._root.iterateFromBackwards(n,function(f){return d++,s(f[1],f[0],u)},c):a._root.iterateFrom(n,function(f){return d++,s(f[1],f[0],u)},c),d},o},t.prototype.fromIndex=function(n,i){var a=this,o=Object.create(oe).prototype;return o.__iterateUncached=function(s,c){var u=this;if(c)throw new Error("fromIndex: reverse mode not supported");if(!a._root)return 0;var d=0;return i?a._root.iterateFromIndexBackwards(n,function(f){return d++,s(f[1],f[0],u)},c):a._root.iterateFromIndex(n,function(f){return d++,s(f[1],f[0],u)},c),d},o},t}(nr);bt.isSortedMap=Qc;bt.defaultComparator=wd;bt.defaultOptions={type:"btree"};var je=bt.prototype;je[Co]=!0;je[Ar]=je.remove;je.removeIn=je.deleteIn;je.removeAll=je.deleteAll;function wn(e,t,r,n,i){var a=Object.create(je);if(a._comparator=e||bt.defaultComparator,a._options=t||bt.defaultOptions,a.size=r,a._root=n,a._factory=bt.getFactory(a._options),a.__ownerID=i,a.__altered=!1,a._options.btreeOrder&&a._options.btreeOrder<3)throw new Error("SortedMap: minimum value of options.btreeOrder is 3, but got: "+a._options.btreeOrder);if(!a._factory)throw new Error("SortedMap type not supported: "+a._options.type);return a}var ac;function we(e,t){return e===bt.defaultComparator&&t===bt.defaultOptions?ac||(ac=wn(bt.defaultComparator,bt.defaultOptions,0)):wn(e,t,0)}function no(e,t,r,n){var i=r===T,a=e._root,o,s;if(a){var u=ct(),d=ct();if(i?n?o=e._root.fastRemove(e.__ownerID,t,u,d):o=e._root.remove(e.__ownerID,t,u,d):o=e._root.upsert(e.__ownerID,t,r,u,d),!Q(d))return e;s=e.size+(Q(u)?i?-1:1:0),s===0&&(o=void 0)}else{if(i)return e;s=1;var c=[[t,r]];o=e._factory.createNode(e._comparator,e._options,e.__ownerID,c)}return e.__ownerID?(e.size=s,e._root=o,e.__altered=!0,e):o?wn(e._comparator,e._options,s,o):we(e._comparator,e._options)}function wd(e,t){if(lt(e,t))return 0;var r=typeof e,n=typeof t;if(r!==n)return r<n?-1:1;switch(r){case"undefined":break;case"object":if(e===null)return 1;if(t===null)return-1;e=e.toString(),t=t.toString();break;case"boolean":break;case"number":if(lt(e,NaN))return 1;if(lt(t,NaN))return-1;break;case"string":break;case"symbol":e=e.toString(),t=t.toString();break;case"function":e=e.toString(),t=t.toString();break;default:break}return e<t?-1:e>t?1:0}bt.getFactory=function(e){var t=e&&e.type?e.type:bt.defaultOptions.type;return bt.factories[t]};bt.factories={btree:new Cd};var eu="@@__IMMUTABLE_STACK__@@";function mo(e){return!!(e&&e[eu])}var Fo=function(e){function t(r){return r==null?pi():mo(r)?r:pi().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=He(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):gn(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&mo(n))return n;qt(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):gn(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):pi()},t.prototype.slice=function(n,i){if(Dn(n,i,this.size))return this;var a=Lr(n,this.size),o=Rn(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,c=this._head;a--;)c=c.next;return this.__ownerID?(this.size=s,this._head=c,this.__hash=void 0,this.__altered=!0,this):gn(s,c)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?gn(this.size,this._head,n,this.__hash):this.size===0?pi():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new Ue(this.toArray()).__iterate(function(c,u){return n(c,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,a)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new Ue(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new U(function(){if(o){var s=o.value;return o=o.next,V(n,a++,s)}return Ct()})},t}(Be);Fo.isStack=mo;var At=Fo.prototype;At[eu]=!0;At.shift=At.pop;At.unshift=At.push;At.unshiftAll=At.pushAll;At.withMutations=kn;At.wasAltered=No;At.asImmutable=xn;At["@@transducer/init"]=At.asMutable=On;At["@@transducer/step"]=function(e,t){return e.unshift(t)};At["@@transducer/result"]=function(e){return e.asImmutable()};function gn(e,t,r,n){var i=Object.create(At);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var oc;function pi(){return oc||(oc=gn(0))}var ru="@@__IMMUTABLE_SET__@@";function Ri(e){return!!(e&&e[ru])}function nu(e){return Ri(e)&&fe(e)}function Go(e,t){if(e===t)return!0;if(!Nt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||st(e)!==st(t)||Qt(e)!==Qt(t)||fe(e)!==fe(t)||Pr(e)!==Pr(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!vi(e);if(fe(e)){var n=e.entries();return t.every(function(c,u){var d=n.next().value;return d&&lt(d[1],c)&&(r||lt(d[0],u))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(c,u){if(r?!e.has(c):i?!lt(c,e.get(u,T)):!lt(e.get(u,T),c))return o=!1,!1});return o&&e.size===s}function ir(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function yi(e){if(!e||typeof e!="object")return e;if(!Nt(e)){if(!Ke(e))return e;e=he(e)}if(st(e)){var t={};return e.__iterate(function(n,i){t[i]=yi(n)}),t}var r=[];return e.__iterate(function(n){r.push(yi(n))}),r}function iu(e){return Ri(e)&&Pr(e)}var En=function(e){function t(r){return r==null?yn():Ri(r)&&!fe(r)&&!Pr(r)?r:yn().withMutations(function(n){var i=e(r);qt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Rt(n).keySeq())},t.intersect=function(n){return n=ut(n).toArray(),n.length?Tt.intersect.apply(t(n.pop()),n):yn()},t.union=function(n){return n=ut(n).toArray(),n.length?Tt.union.apply(t(n.pop()),n):yn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return io(this,this._map.set(n,n))},t.prototype.remove=function(n){return io(this,this._map.remove(n))},t.prototype.clear=function(){return io(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=[],s=[];return this.forEach(function(c){var u=n.call(i,c,c,a);u!==c&&(o.push(c),s.push(u))}),this.withMutations(function(c){o.forEach(function(u){return c.remove(u)}),s.forEach(function(u){return c.add(u)})})},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return Mn(tr(this,n))},t.prototype.sortBy=function(n,i){return Mn(tr(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(Ie);En.isSet=Ri;var Tt=En.prototype;Tt[ru]=!0;Tt[Ar]=Tt.remove;Tt.merge=Tt.concat=Tt.union;Tt.withMutations=kn;Tt.asImmutable=xn;Tt["@@transducer/init"]=Tt.asMutable=On;Tt["@@transducer/step"]=function(e,t){return e.add(t)};Tt["@@transducer/result"]=function(e){return e.asImmutable()};Tt.__empty=yn;Tt.__make=au;function io(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function au(e,t){var r=Object.create(Tt);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var sc;function yn(){return sc||(sc=au(de()))}var ar=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this._map&&this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this._map&&this.getOptions()),i||(i=t.defaultOptions)),r==null?_o(n,i):iu(r)&&r.getComparator()===n&&r.getOptions()===i?r:_o(n,i).withMutations(function(a){a.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Rt(n).keySeq())},t.prototype.toString=function(){return this.__toString("SortedSet {","}")},t.prototype.getComparator=function(){return this._map.getComparator()},t.prototype.getOptions=function(){return this._map.getOptions()},t.prototype.pack=function(n){var i=n===void 0?void 0:Ie(n).toKeyedSeq().mapKeys(function(a,o){return o});return Md(this,this._map.pack(i))},t.prototype.from=function(n,i){return this._map.from(n,i).toSetSeq()},t.prototype.fromIndex=function(n,i){return this._map.fromIndex(n,i).toSetSeq()},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t(wo(this,n),i,this.getOptions())},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(En);ar.isSortedSet=iu;ar.defaultComparator=bt.defaultComparator;ar.defaultOptions=bt.defaultOptions;var Pi=ar.prototype;Pi[Co]=!0;Pi.__empty=function(){return _o(this.getComparator(),this.getOptions())};Pi.__make=ou;function Md(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function ou(e,t){var r=Object.create(Pi);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function _o(e,t){return ou(we(e,t))}var Dd=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(Po(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(ao)return ao;ao=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+He(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return Dn(n,i,this.size)?this:(n=Lr(n,this.size),i=Rn(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this,o=this.size,s=this._step,c=i?this._start+(o-1)*s:this._start,u=0;u!==o&&n(c,i?o-++u:u++,a)!==!1;)c+=i?-s:s;return u},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,c=0;return new U(function(){if(c===a)return Ct();var u=s;return s+=i?-o:o,V(n,i?a-++c:c++,u)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:Go(this,n)},t}($t),ao;function su(e,t,r){for(var n=Nc(t),i=0;i!==n.length;)if(e=Hc(e,n[i++],T),e===T)return r;return e}function cu(e,t){return su(this,e,t)}function Rd(e,t){return su(e,t,T)!==T}function Pd(e){return Rd(this,e)}function uu(){qt(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}ut.isIterable=Nt;ut.isKeyed=st;ut.isIndexed=Qt;ut.isAssociative=vi;ut.isOrdered=fe;ut.Iterator=U;ir(ut,{toArray:function(){qt(this.size);var t=new Array(this.size||0),r=st(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new kc(this)},toJS:function(){return yi(this)},toKeyedSeq:function(){return new Ci(this,!0)},toMap:function(){return nr(this.toKeyedSeq())},toObject:uu,toOrderedMap:function(){return Re(this.toKeyedSeq())},toSortedMap:function(t,r){return bt(this.toKeyedSeq(),t,r)},toSortedSet:function(t,r){return ar(st(this)?this.valueSeq():this,t,r)},toOrderedSet:function(){return Mn(st(this)?this.valueSeq():this)},toSet:function(){return En(st(this)?this.valueSeq():this)},toSetSeq:function(){return new Oc(this)},toSeq:function(){return Qt(this)?this.toIndexedSeq():st(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fo(st(this)?this.valueSeq():this)},toList:function(){return Mi(st(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return j(this,rd(this,t))},includes:function(t){return this.some(function(r){return lt(r,t)})},entries:function(){return this.__iterator(se)},every:function(t,r){qt(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return j(this,Ac(this,t,r,!0))},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return qt(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){qt(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Pn)},map:function(t,r){return j(this,wo(this,t,r))},reduce:function(t,r,n){return cc(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return cc(this,t,r,n,arguments.length<2,!0)},reverse:function(){return j(this,Mo(this,!0))},slice:function(t,r){return j(this,Do(this,t,r,!0))},some:function(t,r){return!this.every(hi(t),r)},sort:function(t){return j(this,tr(this,t))},partialSort:function(t,r){return j(this,G0(this,t,r))},incSort:function(t){return j(this,_i(this,t,null,!0))},values:function(){return this.__iterator(pe)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Rr(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return $1(this,t,r)},equals:function(t){return Go(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Ue(t._cache);var r=t.toSeq().map(Od).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(hi(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(lc,null,t)},flatMap:function(t,r){return j(this,nd(this,t,r))},flatten:function(t){return j(this,zc(this,t,!0))},fromEntrySeq:function(){return new xc(this)},get:function(t,r){return this.find(function(n,i){return lt(i,t)},void 0,r)},getIn:cu,groupBy:function(t,r){return td(this,t,r)},has:function(t){return this.get(t,T)!==T},hasIn:Pd,isSubset:function(t){return t=typeof t.includes=="function"?t:ut(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:ut(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return lt(r,t)})},keySeq:function(){return this.toSeq().map(kd).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return di(this,t)},maxBy:function(t,r){return di(this,r,t)},min:function(t){return di(this,t?uc(t):fc)},minBy:function(t,r){return di(this,r?uc(r):fc,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return j(this,Lc(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(hi(t),r)},sortBy:function(t,r){return j(this,tr(this,r,t))},partialSortBy:function(t,r,n){return j(this,G0(this,t,n,r))},incSortBy:function(t,r){return j(this,_i(this,r,t,!0))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return j(this,ed(this,t,r))},takeUntil:function(t,r){return this.takeWhile(hi(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=xd(this))}});var Dt=ut.prototype;Dt[gc]=!0;Dt[Si]=Dt.values;Dt.toJSON=Dt.toArray;Dt.__toStringMapper=bn;Dt.inspect=Dt.toSource=function(){return this.toString()};Dt.chain=Dt.flatMap;Dt.contains=Dt.includes;ir(Rt,{flip:function(){return j(this,Ec(this))},mapEntries:function(t,r){var n=this,i=0;return j(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return j(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var ki=Rt.prototype;ki[yc]=!0;ki[Si]=Dt.entries;ki.toJSON=uu;ki.__toStringMapper=function(e,t){return bn(t)+": "+bn(e)};ir(Be,{toKeyedSeq:function(){return new Ci(this,!1)},filter:function(t,r){return j(this,Ac(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return j(this,Mo(this,!1))},slice:function(t,r){return j(this,Do(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Lr(t,t<0?this.count():this.size);var i=this.slice(0,t);return j(this,n===1?i:i.concat(Se(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return j(this,zc(this,t,!1))},get:function(t,r){return t=He(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=He(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return j(this,id(this,t))},interleave:function(){var t=[this].concat(Se(arguments)),r=fi(this.toSeq(),$t.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),j(this,n)},keySeq:function(){return Dd(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return j(this,Lc(this,t,r,!1))},incSort:function(t){return j(this,_i(this,t,null,!1))},incSortBy:function(t,r){return j(this,_i(this,r,t,!1))},zip:function(){var t=[this].concat(Se(arguments));return j(this,fi(this,dc,t))},zipAll:function(){var t=[this].concat(Se(arguments));return j(this,fi(this,dc,t,!0))},zipWith:function(t){var r=Se(arguments);return r[0]=this,j(this,fi(this,t,r))}});var Oi=Be.prototype;Oi[vc]=!0;Oi[zr]=!0;ir(Ie,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});Ie.prototype.has=Dt.includes;Ie.prototype.contains=Ie.prototype.includes;ir(oe,Rt.prototype);ir($t,Be.prototype);ir(rr,Ie.prototype);function cc(e,t,r,n,i,a){return qt(e.size),e.__iterate(function(o,s,c){i?(i=!1,r=o):r=t.call(n,r,o,s,c)},a),r}function kd(e,t){return t}function Od(e,t){return[t,e]}function hi(e){return function(){return!e.apply(this,arguments)}}function uc(e){return function(){return-e.apply(this,arguments)}}function dc(){return Se(arguments)}function fc(e,t){return e<t?1:e>t?-1:0}function xd(e){if(e.size===1/0)return 0;var t=fe(e),r=st(e),n=t?1:0,i=e.__iterate(r?t?function(a,o){n=31*n+pc(Zt(a),Zt(o))|0}:function(a,o){n=n+pc(Zt(a),Zt(o))|0}:t?function(a){n=31*n+Zt(a)|0}:function(a){n=n+Zt(a)|0});return Ed(i,n)}function Ed(e,t){return t=hn(t,3432918353),t=hn(t<<15|t>>>-15,461845907),t=hn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=hn(t^t>>>16,2246822507),t=hn(t^t>>>13,3266489909),t=Ti(t^t>>>16),t}function pc(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var Mn=function(e){function t(r){return r==null?go():nu(r)?r:go().withMutations(function(n){var i=Ie(r);qt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Rt(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(En);Mn.isOrderedSet=nu;var Hr=Mn.prototype;Hr[zr]=!0;Hr.zip=Oi.zip;Hr.zipWith=Oi.zipWith;Hr.__empty=go;Hr.__make=du;function du(e,t){var r=Object.create(Hr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var hc;function go(){return hc||(hc=du(_n()))}var St=function(t,r){var n,i=function(s){var c=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(t),d=a._indices={};a._name=r,a._keys=u,a._defaultValues=t;for(var f=0;f<u.length;f++){var p=u[f];d[p]=f,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Yo(c)+' with property "'+p+'" since that property name is part of the Record API.'):Ad(a,p)}}this.__ownerID=void 0,this._values=Mi().withMutations(function(l){l.setSize(c._keys.length),Rt(s).forEach(function(h,m){l.set(c._indices[m],h===c._defaultValues[m]?void 0:h)})})},a=i.prototype=Object.create($);return a.constructor=i,r&&(i.displayName=r),i};St.prototype.toString=function(){for(var t=this,r=Yo(this)+" { ",n=this._keys,i,a=0,o=n.length;a!==o;a++)i=n[a],r+=(a?", ":"")+i+": "+bn(t.get(i));return r+" }"};St.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&Er(this).equals(Er(t))};St.prototype.hashCode=function(){return Er(this).hashCode()};St.prototype.has=function(t){return this._indices.hasOwnProperty(t)};St.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};St.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return Wo(this,n)}return this};St.prototype.remove=function(t){return this.set(t)};St.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Wo(this,t)};St.prototype.wasAltered=function(){return this._values.wasAltered()};St.prototype.toSeq=function(){return Er(this)};St.prototype.toJS=function(){return yi(this)};St.prototype.entries=function(){return this.__iterator(se)};St.prototype.__iterator=function(t,r){return Er(this).__iterator(t,r)};St.prototype.__iterate=function(t,r){return Er(this).__iterate(t,r)};St.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?Wo(this,r,t):(this.__ownerID=t,this._values=r,this)};St.isRecord=bi;St.getDescriptiveName=Yo;var $=St.prototype;$[Sc]=!0;$[Ar]=$.remove;$.deleteIn=$.removeIn=Oo;$.getIn=cu;$.hasIn=Dt.hasIn;$.merge=jc;$.mergeWith=Bc;$.mergeIn=zo;$.mergeDeep=Gc;$.mergeDeepWith=Wc;$.mergeDeepIn=qo;$.setIn=ko;$.update=xo;$.updateIn=Eo;$.withMutations=kn;$.asMutable=On;$.asImmutable=xn;$[Si]=$.entries;$.toJSON=$.toObject=Dt.toObject;$.inspect=$.toSource=function(){return this.toString()};function Wo(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Yo(e){return e.constructor.displayName||e.constructor.name||"Record"}function Er(e){return To(e._keys.map(function(t){return[t,e.get(t)]}))}function Ad(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Po(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var yf=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(oo)return oo;oo=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return lt(this._value,n)},t.prototype.slice=function(n,i){var a=this.size;return Dn(n,i,a)?this:new t(this._value,Rn(i,a)-Lr(n,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return lt(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return lt(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var a=this,o=this.size,s=0;s!==o&&n(a._value,i?o-++s:s++,a)!==!1;);return s},t.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new U(function(){return s===o?Ct():V(n,i?o-++s:s++,a._value)})},t.prototype.equals=function(n){return n instanceof t?lt(this._value,n._value):Go(n)},t}($t),oo;var fu={"100011":{baseCost:0,groupId:10001,iconId:"20013",order:10},"100021":{baseCost:0,groupId:10002,iconId:"20013",order:10},"100031":{baseCost:0,groupId:10003,iconId:"20013",order:10},"100041":{baseCost:0,groupId:10004,iconId:"20043",order:10},"100051":{baseCost:0,groupId:10005,iconId:"20013",order:10},"100061":{baseCost:0,groupId:10006,iconId:"20013",order:10},"100071":{baseCost:0,groupId:10007,iconId:"20013",order:10},"100081":{baseCost:0,groupId:10008,iconId:"20013",order:10},"100091":{baseCost:0,groupId:10009,iconId:"20013",order:10},"100101":{baseCost:0,groupId:10010,iconId:"20043",order:10},"100111":{baseCost:0,groupId:10011,iconId:"20013",order:10},"100121":{baseCost:0,groupId:10012,iconId:"20013",order:10},"100131":{baseCost:0,groupId:10013,iconId:"20013",order:10},"100141":{baseCost:0,groupId:10014,iconId:"20013",order:10},"100151":{baseCost:0,groupId:10015,iconId:"20013",order:10},"100161":{baseCost:0,groupId:10016,iconId:"20013",order:10},"100171":{baseCost:0,groupId:10017,iconId:"20013",order:10},"100181":{baseCost:0,groupId:10018,iconId:"20013",order:10},"100201":{baseCost:0,groupId:10020,iconId:"20043",order:10},"100231":{baseCost:0,groupId:10023,iconId:"20013",order:10},"100241":{baseCost:0,groupId:10024,iconId:"20013",order:10},"100261":{baseCost:0,groupId:10026,iconId:"20013",order:10},"100271":{baseCost:0,groupId:10027,iconId:"20043",order:10},"100281":{baseCost:0,groupId:10028,iconId:"20013",order:10},"100301":{baseCost:0,groupId:10030,iconId:"20013",order:10},"100321":{baseCost:0,groupId:10032,iconId:"20023",order:10},"100351":{baseCost:0,groupId:10035,iconId:"20013",order:10},"100371":{baseCost:0,groupId:10037,iconId:"20013",order:10},"100381":{baseCost:0,groupId:10038,iconId:"20013",order:10},"100391":{baseCost:0,groupId:10039,iconId:"20013",order:10},"100401":{baseCost:0,groupId:10040,iconId:"20043",order:10},"100411":{baseCost:0,groupId:10041,iconId:"20013",order:10},"100451":{baseCost:0,groupId:10045,iconId:"20023",order:10},"100461":{baseCost:0,groupId:10046,iconId:"20013",order:10},"100501":{baseCost:0,groupId:10050,iconId:"20013",order:10},"100521":{baseCost:0,groupId:10052,iconId:"20023",order:10},"100561":{baseCost:0,groupId:10056,iconId:"20013",order:10},"100581":{baseCost:0,groupId:10058,iconId:"20013",order:10},"100601":{baseCost:0,groupId:10060,iconId:"20013",order:10},"100611":{baseCost:0,groupId:10061,iconId:"20013",order:10},"10071":{baseCost:0,groupId:1007,iconId:"20013",order:10},"10081":{baseCost:0,groupId:1008,iconId:"20013",order:10},"10091":{baseCost:0,groupId:1009,iconId:"20013",order:10},"10111":{baseCost:0,groupId:1011,iconId:"20013",order:10},"10141":{baseCost:0,groupId:1014,iconId:"20013",order:10},"10181":{baseCost:0,groupId:1018,iconId:"20013",order:10},"10241":{baseCost:0,groupId:1024,iconId:"20013",order:10},"10271":{baseCost:0,groupId:1027,iconId:"20043",order:10},"10321":{baseCost:0,groupId:1032,iconId:"20023",order:10},"10351":{baseCost:0,groupId:1035,iconId:"20013",order:10},"10411":{baseCost:0,groupId:1041,iconId:"20013",order:10},"10451":{baseCost:0,groupId:1045,iconId:"20023",order:10},"10521":{baseCost:0,groupId:1052,iconId:"20023",order:10},"10561":{baseCost:0,groupId:1056,iconId:"20013",order:10},"10601":{baseCost:0,groupId:1060,iconId:"20013",order:10},"10611":{baseCost:0,groupId:1061,iconId:"20013",order:10},"110011":{baseCost:0,groupId:11001,iconId:"20023",order:10},"110031":{baseCost:0,groupId:11003,iconId:"20013",order:10},"110041":{baseCost:0,groupId:11004,iconId:"20013",order:10},"110111":{baseCost:0,groupId:11011,iconId:"20023",order:10},"110131":{baseCost:0,groupId:11013,iconId:"20013",order:10},"110141":{baseCost:0,groupId:11014,iconId:"20043",order:10},"110181":{baseCost:0,groupId:11018,iconId:"20013",order:10},"110241":{baseCost:0,groupId:11024,iconId:"20013",order:10},"110561":{baseCost:0,groupId:11056,iconId:"20013",order:10},"200011":{baseCost:110,groupId:20001,iconId:"10011",order:1005},"200012":{baseCost:90,groupId:20001,iconId:"10011",order:1010},"200013":{baseCost:50,groupId:20001,iconId:"10014",order:1020},"200021":{baseCost:110,groupId:20002,iconId:"10011",order:1030},"200022":{baseCost:90,groupId:20002,iconId:"10011",order:1040},"200023":{baseCost:50,groupId:20002,iconId:"10014",order:1050},"200031":{baseCost:110,groupId:20003,iconId:"10021",order:1060},"200032":{baseCost:90,groupId:20003,iconId:"10021",order:1070},"200033":{baseCost:50,groupId:20003,iconId:"10024",order:1080},"200041":{baseCost:110,groupId:20004,iconId:"10021",order:1090},"200042":{baseCost:90,groupId:20004,iconId:"10021",order:1100},"200043":{baseCost:50,groupId:20004,iconId:"10024",order:1110},"200051":{baseCost:110,groupId:20005,iconId:"10021",order:1120},"200052":{baseCost:90,groupId:20005,iconId:"10021",order:1130},"200053":{baseCost:50,groupId:20005,iconId:"10024",order:1140},"200061":{baseCost:110,groupId:20006,iconId:"10021",order:1150},"200062":{baseCost:90,groupId:20006,iconId:"10021",order:1160},"200063":{baseCost:50,groupId:20006,iconId:"10024",order:1170},"200071":{baseCost:110,groupId:20007,iconId:"10021",order:1180},"200072":{baseCost:90,groupId:20007,iconId:"10021",order:1190},"200073":{baseCost:50,groupId:20007,iconId:"10024",order:1200},"200081":{baseCost:90,groupId:20008,iconId:"10021",order:1210},"200082":{baseCost:70,groupId:20008,iconId:"10021",order:1220},"200083":{baseCost:40,groupId:20008,iconId:"10024",order:1230},"200091":{baseCost:90,groupId:20009,iconId:"10021",order:1240},"200092":{baseCost:70,groupId:20009,iconId:"10021",order:1250},"200093":{baseCost:40,groupId:20009,iconId:"10024",order:1260},"200101":{baseCost:90,groupId:20010,iconId:"10021",order:1270},"200102":{baseCost:70,groupId:20010,iconId:"10021",order:1280},"200103":{baseCost:40,groupId:20010,iconId:"10024",order:1290},"200111":{baseCost:90,groupId:20011,iconId:"10021",order:1300},"200112":{baseCost:70,groupId:20011,iconId:"10021",order:1310},"200113":{baseCost:40,groupId:20011,iconId:"10024",order:1320},"200121":{baseCost:90,groupId:20012,iconId:"10021",order:1330},"200122":{baseCost:70,groupId:20012,iconId:"10021",order:1340},"200123":{baseCost:40,groupId:20012,iconId:"10024",order:1350},"200131":{baseCost:110,groupId:20013,iconId:"10021",order:1390},"200132":{baseCost:90,groupId:20013,iconId:"10021",order:1400},"200133":{baseCost:50,groupId:20013,iconId:"10024",order:1410},"200141":{baseCost:110,groupId:20014,iconId:"10021",order:1420},"200142":{baseCost:90,groupId:20014,iconId:"10021",order:1430},"200143":{baseCost:50,groupId:20014,iconId:"10024",order:1440},"200151":{baseCost:110,groupId:20015,iconId:"10031",order:1450},"200152":{baseCost:90,groupId:20015,iconId:"10031",order:1460},"200153":{baseCost:50,groupId:20015,iconId:"10034",order:1470},"200161":{baseCost:110,groupId:20016,iconId:"10031",order:1480},"200162":{baseCost:90,groupId:20016,iconId:"10031",order:1490},"200163":{baseCost:50,groupId:20016,iconId:"10034",order:1500},"200171":{baseCost:110,groupId:20017,iconId:"10011",order:1510},"200172":{baseCost:90,groupId:20017,iconId:"10011",order:1520},"200173":{baseCost:50,groupId:20017,iconId:"10014",order:1530},"200181":{baseCost:110,groupId:20018,iconId:"10011",order:1540},"200182":{baseCost:90,groupId:20018,iconId:"10011",order:1550},"200183":{baseCost:50,groupId:20018,iconId:"10014",order:1560},"200191":{baseCost:110,groupId:20019,iconId:"10011",order:1570},"200192":{baseCost:90,groupId:20019,iconId:"10011",order:1580},"200193":{baseCost:50,groupId:20019,iconId:"10014",order:1590},"200201":{baseCost:110,groupId:20020,iconId:"10011",order:1600},"200202":{baseCost:90,groupId:20020,iconId:"10011",order:1610},"200203":{baseCost:50,groupId:20020,iconId:"10014",order:1620},"200211":{baseCost:110,groupId:20021,iconId:"10041",order:1630},"200212":{baseCost:90,groupId:20021,iconId:"10041",order:1640},"200221":{baseCost:110,groupId:20022,iconId:"10041",order:1650},"200222":{baseCost:90,groupId:20022,iconId:"10041",order:1660},"200231":{baseCost:110,groupId:20023,iconId:"10041",order:1670},"200232":{baseCost:90,groupId:20023,iconId:"10041",order:1680},"200233":{baseCost:50,groupId:20023,iconId:"10044",order:1690},"200241":{baseCost:110,groupId:20024,iconId:"10041",order:1700},"200242":{baseCost:90,groupId:20024,iconId:"10041",order:1710},"200251":{baseCost:110,groupId:20025,iconId:"10051",order:1720},"200252":{baseCost:90,groupId:20025,iconId:"10051",order:1730},"200253":{baseCost:50,groupId:20025,iconId:"10054",order:1740},"200261":{baseCost:110,groupId:20026,iconId:"10011",order:1750},"200262":{baseCost:90,groupId:20026,iconId:"10011",order:1760},"200263":{baseCost:50,groupId:20026,iconId:"10014",order:1770},"200271":{baseCost:110,groupId:20027,iconId:"10011",order:1780},"200272":{baseCost:90,groupId:20027,iconId:"10011",order:1790},"200281":{baseCost:110,groupId:20028,iconId:"10031",order:1800},"200282":{baseCost:90,groupId:20028,iconId:"10031",order:1810},"200283":{baseCost:50,groupId:20028,iconId:"10034",order:1820},"200291":{baseCost:110,groupId:20029,iconId:"10041",order:1830},"200292":{baseCost:90,groupId:20029,iconId:"10041",order:1840},"200301":{baseCost:110,groupId:20030,iconId:"10011",order:1850},"200302":{baseCost:90,groupId:20030,iconId:"10011",order:1860},"200311":{baseCost:50,groupId:20031,iconId:"10014",order:1870},"200321":{baseCost:50,groupId:20032,iconId:"10024",order:1880},"200331":{baseCost:180,groupId:20033,iconId:"20012",order:1890},"200332":{baseCost:180,groupId:20033,iconId:"20011",order:1900},"200333":{baseCost:100,groupId:20033,iconId:"20014",order:1910},"200341":{baseCost:180,groupId:20034,iconId:"20042",order:1920},"200342":{baseCost:180,groupId:20034,iconId:"20041",order:1930},"200343":{baseCost:100,groupId:20034,iconId:"20044",order:1940},"200351":{baseCost:170,groupId:20035,iconId:"20022",order:1950},"200352":{baseCost:170,groupId:20035,iconId:"20021",order:1960},"200353":{baseCost:100,groupId:20035,iconId:"20024",order:1970},"200361":{baseCost:170,groupId:20036,iconId:"20012",order:1980},"200362":{baseCost:170,groupId:20036,iconId:"20011",order:1990},"200371":{baseCost:170,groupId:20037,iconId:"20042",order:2e3},"200372":{baseCost:170,groupId:20037,iconId:"20041",order:2010},"200381":{baseCost:170,groupId:20038,iconId:"20022",order:2020},"200382":{baseCost:170,groupId:20038,iconId:"20021",order:2030},"200391":{baseCost:100,groupId:20039,iconId:"20024",order:2040},"200401":{baseCost:100,groupId:20040,iconId:"20024",order:2050},"200411":{baseCost:100,groupId:20041,iconId:"20014",order:2060},"200421":{baseCost:100,groupId:20042,iconId:"20014",order:2070},"200431":{baseCost:140,groupId:20043,iconId:"20062",order:2080},"200432":{baseCost:140,groupId:20043,iconId:"20061",order:2090},"200433":{baseCost:70,groupId:20043,iconId:"20064",order:2100},"200441":{baseCost:160,groupId:20044,iconId:"20022",order:2110},"200442":{baseCost:160,groupId:20044,iconId:"20021",order:2120},"200451":{baseCost:120,groupId:20045,iconId:"20052",order:2130},"200452":{baseCost:120,groupId:20045,iconId:"20051",order:2140},"200461":{baseCost:170,groupId:20046,iconId:"20012",order:2150},"200462":{baseCost:170,groupId:20046,iconId:"20011",order:2160},"200471":{baseCost:170,groupId:20047,iconId:"20022",order:2170},"200472":{baseCost:170,groupId:20047,iconId:"20021",order:2180},"200481":{baseCost:170,groupId:20048,iconId:"20022",order:2190},"200482":{baseCost:170,groupId:20048,iconId:"20021",order:2200},"200491":{baseCost:150,groupId:20049,iconId:"20042",order:2210},"200492":{baseCost:150,groupId:20049,iconId:"20041",order:2220},"200501":{baseCost:120,groupId:20050,iconId:"20052",order:2230},"200502":{baseCost:120,groupId:20050,iconId:"20051",order:2240},"200511":{baseCost:170,groupId:20051,iconId:"20012",order:2250},"200512":{baseCost:170,groupId:20051,iconId:"20011",order:2260},"200521":{baseCost:100,groupId:20052,iconId:"20024",order:2270},"200531":{baseCost:120,groupId:20053,iconId:"20042",order:2280},"200532":{baseCost:120,groupId:20053,iconId:"20041",order:2290},"200541":{baseCost:180,groupId:20054,iconId:"20012",order:2300},"200542":{baseCost:180,groupId:20054,iconId:"20011",order:2310},"200551":{baseCost:180,groupId:20055,iconId:"20042",order:2320},"200552":{baseCost:180,groupId:20055,iconId:"20041",order:2330},"200561":{baseCost:180,groupId:20056,iconId:"20022",order:2340},"200562":{baseCost:180,groupId:20056,iconId:"20021",order:2350},"200571":{baseCost:180,groupId:20057,iconId:"20022",order:2360},"200572":{baseCost:180,groupId:20057,iconId:"20021",order:2370},"200581":{baseCost:180,groupId:20058,iconId:"20012",order:2380},"200582":{baseCost:180,groupId:20058,iconId:"20011",order:2390},"200591":{baseCost:180,groupId:20059,iconId:"20012",order:2400},"200592":{baseCost:180,groupId:20059,iconId:"20011",order:2410},"200601":{baseCost:180,groupId:20060,iconId:"20042",order:2420},"200602":{baseCost:180,groupId:20060,iconId:"20041",order:2430},"200611":{baseCost:180,groupId:20061,iconId:"20012",order:2440},"200612":{baseCost:180,groupId:20061,iconId:"20011",order:2450},"200621":{baseCost:180,groupId:20062,iconId:"20022",order:2460},"200622":{baseCost:180,groupId:20062,iconId:"20021",order:2470},"200631":{baseCost:180,groupId:20063,iconId:"20012",order:2480},"200632":{baseCost:180,groupId:20063,iconId:"20011",order:2490},"200641":{baseCost:180,groupId:20064,iconId:"20042",order:2500},"200642":{baseCost:180,groupId:20064,iconId:"20041",order:2510},"200651":{baseCost:160,groupId:20065,iconId:"20042",order:2520},"200652":{baseCost:160,groupId:20065,iconId:"20041",order:2530},"200662":{baseCost:160,groupId:20066,iconId:"20021",order:2550},"200671":{baseCost:160,groupId:20067,iconId:"20012",order:2560},"200672":{baseCost:160,groupId:20067,iconId:"20011",order:2570},"200681":{baseCost:160,groupId:20068,iconId:"20012",order:2580},"200682":{baseCost:160,groupId:20068,iconId:"20011",order:2590},"200691":{baseCost:160,groupId:20069,iconId:"20022",order:2600},"200692":{baseCost:160,groupId:20069,iconId:"20021",order:2610},"200701":{baseCost:160,groupId:20070,iconId:"20042",order:2620},"200702":{baseCost:160,groupId:20070,iconId:"20041",order:2630},"200711":{baseCost:160,groupId:20071,iconId:"20022",order:2640},"200712":{baseCost:160,groupId:20071,iconId:"20021",order:2650},"200721":{baseCost:160,groupId:20072,iconId:"20012",order:2660},"200722":{baseCost:160,groupId:20072,iconId:"20011",order:2670},"200731":{baseCost:160,groupId:20073,iconId:"20012",order:2680},"200732":{baseCost:160,groupId:20073,iconId:"20011",order:2690},"200741":{baseCost:160,groupId:20074,iconId:"20022",order:2700},"200742":{baseCost:160,groupId:20074,iconId:"20021",order:2710},"200751":{baseCost:160,groupId:20075,iconId:"20012",order:2720},"200752":{baseCost:160,groupId:20075,iconId:"20011",order:2730},"200761":{baseCost:160,groupId:20076,iconId:"20022",order:2740},"200762":{baseCost:160,groupId:20076,iconId:"20021",order:2750},"200771":{baseCost:140,groupId:20077,iconId:"30051",order:2760},"200781":{baseCost:140,groupId:20078,iconId:"30051",order:2770},"200791":{baseCost:130,groupId:20079,iconId:"30041",order:2780},"200801":{baseCost:130,groupId:20080,iconId:"30041",order:2790},"200811":{baseCost:130,groupId:20081,iconId:"30041",order:2800},"200821":{baseCost:130,groupId:20082,iconId:"30041",order:2810},"200831":{baseCost:130,groupId:20083,iconId:"30051",order:2820},"200841":{baseCost:130,groupId:20084,iconId:"30051",order:2830},"200851":{baseCost:130,groupId:20085,iconId:"30011",order:2840},"200861":{baseCost:130,groupId:20086,iconId:"30051",order:2850},"200871":{baseCost:130,groupId:20087,iconId:"30051",order:2860},"200881":{baseCost:130,groupId:20088,iconId:"30011",order:2870},"200891":{baseCost:130,groupId:20089,iconId:"30051",order:2880},"200901":{baseCost:130,groupId:20090,iconId:"30051",order:2890},"200911":{baseCost:130,groupId:20091,iconId:"30011",order:2900},"200921":{baseCost:130,groupId:20092,iconId:"30051",order:2910},"200931":{baseCost:130,groupId:20093,iconId:"30051",order:2920},"200941":{baseCost:130,groupId:20094,iconId:"30011",order:2930},"200951":{baseCost:110,groupId:20095,iconId:"10021",order:1360},"200952":{baseCost:90,groupId:20095,iconId:"10021",order:1370},"200953":{baseCost:50,groupId:20095,iconId:"10024",order:1380},"200961":{baseCost:110,groupId:20096,iconId:"20011",order:20010},"200962":{baseCost:100,groupId:20096,iconId:"20011",order:20020},"200971":{baseCost:110,groupId:20097,iconId:"20011",order:20030},"200972":{baseCost:100,groupId:20097,iconId:"20011",order:20040},"200981":{baseCost:170,groupId:20098,iconId:"20012",order:20050},"200982":{baseCost:170,groupId:20098,iconId:"20011",order:20060},"200991":{baseCost:160,groupId:20099,iconId:"20042",order:20070},"200992":{baseCost:160,groupId:20099,iconId:"20041",order:20080},"201001":{baseCost:140,groupId:20100,iconId:"20052",order:20090},"201002":{baseCost:140,groupId:20100,iconId:"20051",order:20100},"201011":{baseCost:170,groupId:20101,iconId:"30012",order:20110},"201012":{baseCost:170,groupId:20101,iconId:"30011",order:20120},"201021":{baseCost:170,groupId:20102,iconId:"30052",order:20130},"201022":{baseCost:170,groupId:20102,iconId:"30051",order:20140},"201031":{baseCost:110,groupId:20103,iconId:"20011",order:20150},"201032":{baseCost:100,groupId:20103,iconId:"20011",order:20160},"201041":{baseCost:110,groupId:20104,iconId:"20011",order:20170},"201042":{baseCost:100,groupId:20104,iconId:"20011",order:20180},"201051":{baseCost:160,groupId:20105,iconId:"20012",order:20190},"201052":{baseCost:160,groupId:20105,iconId:"20011",order:20200},"201061":{baseCost:160,groupId:20106,iconId:"20042",order:20210},"201062":{baseCost:160,groupId:20106,iconId:"20041",order:20220},"201071":{baseCost:120,groupId:20107,iconId:"20012",order:20230},"201072":{baseCost:120,groupId:20107,iconId:"20011",order:20240},"201081":{baseCost:160,groupId:20108,iconId:"30012",order:20250},"201082":{baseCost:160,groupId:20108,iconId:"30011",order:20260},"201091":{baseCost:160,groupId:20109,iconId:"30022",order:20270},"201092":{baseCost:160,groupId:20109,iconId:"30021",order:20280},"201101":{baseCost:110,groupId:20110,iconId:"20011",order:20300},"201102":{baseCost:100,groupId:20110,iconId:"20011",order:20310},"201111":{baseCost:110,groupId:20111,iconId:"20011",order:20320},"201112":{baseCost:100,groupId:20111,iconId:"20011",order:20330},"201121":{baseCost:110,groupId:20112,iconId:"20092",order:20340},"201122":{baseCost:110,groupId:20112,iconId:"20091",order:20350},"201131":{baseCost:140,groupId:20113,iconId:"20052",order:20360},"201132":{baseCost:140,groupId:20113,iconId:"20051",order:20370},"201141":{baseCost:160,groupId:20114,iconId:"20022",order:20380},"201142":{baseCost:160,groupId:20114,iconId:"20021",order:20390},"201151":{baseCost:160,groupId:20115,iconId:"30012",order:20400},"201152":{baseCost:160,groupId:20115,iconId:"30011",order:20410},"201161":{baseCost:160,groupId:20116,iconId:"30052",order:20420},"201162":{baseCost:160,groupId:20116,iconId:"30051",order:20430},"201171":{baseCost:110,groupId:20117,iconId:"20011",order:20440},"201172":{baseCost:100,groupId:20117,iconId:"20011",order:20450},"201181":{baseCost:110,groupId:20118,iconId:"20011",order:20460},"201182":{baseCost:100,groupId:20118,iconId:"20011",order:20470},"201191":{baseCost:160,groupId:20119,iconId:"20012",order:20480},"201192":{baseCost:160,groupId:20119,iconId:"20011",order:20490},"201202":{baseCost:160,groupId:20120,iconId:"20021",order:20510},"201211":{baseCost:160,groupId:20121,iconId:"20012",order:20520},"201212":{baseCost:160,groupId:20121,iconId:"20011",order:20530},"201221":{baseCost:160,groupId:20122,iconId:"30052",order:20540},"201222":{baseCost:160,groupId:20122,iconId:"30051",order:20550},"201231":{baseCost:110,groupId:20123,iconId:"30072",order:20560},"201232":{baseCost:110,groupId:20123,iconId:"30071",order:20570},"201241":{baseCost:140,groupId:20124,iconId:"20011",order:20580},"201242":{baseCost:130,groupId:20124,iconId:"20011",order:20590},"201251":{baseCost:140,groupId:20125,iconId:"20011",order:20600},"201252":{baseCost:130,groupId:20125,iconId:"20011",order:20610},"201261":{baseCost:110,groupId:20126,iconId:"20052",order:20620},"201262":{baseCost:110,groupId:20126,iconId:"20051",order:20630},"201272":{baseCost:180,groupId:20127,iconId:"20011",order:20650},"201281":{baseCost:180,groupId:20128,iconId:"20022",order:20660},"201282":{baseCost:180,groupId:20128,iconId:"20021",order:20670},"201291":{baseCost:180,groupId:20129,iconId:"20042",order:20680},"201292":{baseCost:180,groupId:20129,iconId:"20041",order:20690},"201302":{baseCost:130,groupId:20130,iconId:"30021",order:20710},"201311":{baseCost:140,groupId:20131,iconId:"20011",order:20720},"201312":{baseCost:130,groupId:20131,iconId:"20011",order:20730},"201321":{baseCost:140,groupId:20132,iconId:"20011",order:20740},"201322":{baseCost:130,groupId:20132,iconId:"20011",order:20750},"201331":{baseCost:120,groupId:20133,iconId:"20042",order:20760},"201332":{baseCost:120,groupId:20133,iconId:"20041",order:20770},"201341":{baseCost:120,groupId:20134,iconId:"20042",order:20780},"201342":{baseCost:120,groupId:20134,iconId:"20041",order:20790},"201351":{baseCost:180,groupId:20135,iconId:"20022",order:20800},"201352":{baseCost:180,groupId:20135,iconId:"20021",order:20810},"201361":{baseCost:120,groupId:20136,iconId:"20042",order:20820},"201362":{baseCost:120,groupId:20136,iconId:"20041",order:20830},"201371":{baseCost:110,groupId:20137,iconId:"30072",order:20840},"201372":{baseCost:110,groupId:20137,iconId:"30071",order:20850},"201381":{baseCost:140,groupId:20138,iconId:"20011",order:20860},"201382":{baseCost:130,groupId:20138,iconId:"20011",order:20870},"201391":{baseCost:140,groupId:20139,iconId:"20011",order:20880},"201392":{baseCost:130,groupId:20139,iconId:"20011",order:20890},"201401":{baseCost:120,groupId:20140,iconId:"20042",order:20900},"201402":{baseCost:120,groupId:20140,iconId:"20041",order:20910},"201411":{baseCost:120,groupId:20141,iconId:"20012",order:20920},"201412":{baseCost:120,groupId:20141,iconId:"20011",order:20930},"201421":{baseCost:180,groupId:20142,iconId:"20022",order:20940},"201422":{baseCost:180,groupId:20142,iconId:"20021",order:20950},"201431":{baseCost:120,groupId:20143,iconId:"20092",order:20960},"201432":{baseCost:120,groupId:20143,iconId:"20091",order:20970},"201441":{baseCost:180,groupId:20144,iconId:"30052",order:20980},"201442":{baseCost:180,groupId:20144,iconId:"30051",order:20990},"201451":{baseCost:140,groupId:20145,iconId:"20011",order:21e3},"201452":{baseCost:130,groupId:20145,iconId:"20011",order:21010},"201461":{baseCost:140,groupId:20146,iconId:"20011",order:21020},"201462":{baseCost:130,groupId:20146,iconId:"20011",order:21030},"201471":{baseCost:110,groupId:20147,iconId:"20092",order:21040},"201472":{baseCost:110,groupId:20147,iconId:"20091",order:21050},"201481":{baseCost:170,groupId:20148,iconId:"20022",order:21060},"201482":{baseCost:170,groupId:20148,iconId:"20021",order:21070},"201491":{baseCost:180,groupId:20149,iconId:"20022",order:21080},"201492":{baseCost:180,groupId:20149,iconId:"20021",order:21090},"201501":{baseCost:110,groupId:20150,iconId:"20092",order:21100},"201502":{baseCost:110,groupId:20150,iconId:"20091",order:21110},"201511":{baseCost:180,groupId:20151,iconId:"30012",order:21120},"201512":{baseCost:180,groupId:20151,iconId:"30011",order:21130},"201521":{baseCost:130,groupId:20152,iconId:"10051",order:21140},"201522":{baseCost:110,groupId:20152,iconId:"10051",order:21150},"201531":{baseCost:130,groupId:20153,iconId:"10051",order:21160},"201532":{baseCost:110,groupId:20153,iconId:"10051",order:21170},"201541":{baseCost:130,groupId:20154,iconId:"10051",order:21180},"201542":{baseCost:110,groupId:20154,iconId:"10051",order:21190},"201551":{baseCost:130,groupId:20155,iconId:"10051",order:21200},"201552":{baseCost:110,groupId:20155,iconId:"10051",order:21210},"201561":{baseCost:110,groupId:20156,iconId:"10062",order:21220},"201562":{baseCost:110,groupId:20156,iconId:"10061",order:21230},"201571":{baseCost:160,groupId:20157,iconId:"20021",order:21240},"201581":{baseCost:160,groupId:20158,iconId:"20041",order:21250},"201591":{baseCost:160,groupId:20159,iconId:"20011",order:21270},"201601":{baseCost:100,groupId:20160,iconId:"20041",order:21280},"201611":{baseCost:100,groupId:20161,iconId:"20011",order:21300},"201621":{baseCost:100,groupId:20162,iconId:"20021",order:21310},"201631":{baseCost:70,groupId:20163,iconId:"10011",order:21320},"201641":{baseCost:70,groupId:20164,iconId:"10011",order:21330},"201651":{baseCost:160,groupId:20165,iconId:"20011",order:21340},"201661":{baseCost:160,groupId:20166,iconId:"20011",order:21350},"201671":{baseCost:180,groupId:20167,iconId:"20012",order:21360},"201672":{baseCost:180,groupId:20167,iconId:"20011",order:21370},"201692":{baseCost:180,groupId:20169,iconId:"20021",order:21410},"201701":{baseCost:160,groupId:20170,iconId:"20012",order:21420},"201702":{baseCost:160,groupId:20170,iconId:"20011",order:21430},"201902":{baseCost:180,groupId:20190,iconId:"20041",order:21450},"202022":{baseCost:180,groupId:20202,iconId:"20011",order:21510},"202051":{baseCost:200,groupId:20205,iconId:"40012",order:990},"210011":{baseCost:200,groupId:21001,iconId:"20102",order:31e3},"210012":{baseCost:200,groupId:21001,iconId:"20101",order:31001},"210021":{baseCost:200,groupId:21002,iconId:"20112",order:31002},"210022":{baseCost:200,groupId:21002,iconId:"20111",order:31003},"210031":{baseCost:200,groupId:21003,iconId:"20122",order:31004},"210032":{baseCost:200,groupId:21003,iconId:"20121",order:31005},"210041":{baseCost:200,groupId:21004,iconId:"20102",order:31006},"210042":{baseCost:200,groupId:21004,iconId:"20101",order:31007},"210051":{baseCost:200,groupId:21005,iconId:"20132",order:31008},"210052":{baseCost:200,groupId:21005,iconId:"20131",order:31009},"300011":{baseCost:0,groupId:30001,iconId:"10021",order:7e4},"300021":{baseCost:0,groupId:30002,iconId:"10012",order:70010},"900011":{baseCost:200,groupId:90001,iconId:"20011",order:30},"900021":{baseCost:200,groupId:90002,iconId:"20011",order:30},"900031":{baseCost:200,groupId:90003,iconId:"20011",order:30},"900041":{baseCost:200,groupId:90004,iconId:"20041",order:30},"900051":{baseCost:200,groupId:90005,iconId:"20011",order:30},"900061":{baseCost:200,groupId:90006,iconId:"20011",order:30},"900071":{baseCost:200,groupId:90007,iconId:"20011",order:30},"900081":{baseCost:200,groupId:90008,iconId:"20011",order:30},"900091":{baseCost:200,groupId:90009,iconId:"20011",order:30},"900101":{baseCost:200,groupId:90010,iconId:"20041",order:30},"900111":{baseCost:200,groupId:90011,iconId:"20011",order:30},"900121":{baseCost:200,groupId:90012,iconId:"20011",order:30},"900131":{baseCost:200,groupId:90013,iconId:"20011",order:30},"900141":{baseCost:200,groupId:90014,iconId:"20011",order:30},"900151":{baseCost:200,groupId:90015,iconId:"20011",order:30},"900161":{baseCost:200,groupId:90016,iconId:"20011",order:30},"900171":{baseCost:200,groupId:90017,iconId:"20011",order:30},"900181":{baseCost:200,groupId:90018,iconId:"20011",order:30},"900201":{baseCost:200,groupId:90020,iconId:"20041",order:30},"900231":{baseCost:200,groupId:90023,iconId:"20011",order:30},"900241":{baseCost:200,groupId:90024,iconId:"20011",order:30},"900261":{baseCost:200,groupId:90026,iconId:"20011",order:30},"900271":{baseCost:200,groupId:90027,iconId:"20041",order:30},"900281":{baseCost:200,groupId:90028,iconId:"20011",order:30},"900301":{baseCost:200,groupId:90030,iconId:"20011",order:30},"900321":{baseCost:200,groupId:90032,iconId:"20021",order:30},"900351":{baseCost:200,groupId:90035,iconId:"20011",order:30},"900371":{baseCost:200,groupId:90037,iconId:"20011",order:30},"900381":{baseCost:200,groupId:90038,iconId:"20011",order:30},"900401":{baseCost:200,groupId:90040,iconId:"20041",order:30},"900411":{baseCost:200,groupId:90041,iconId:"20011",order:30},"900451":{baseCost:200,groupId:90045,iconId:"20021",order:30},"900461":{baseCost:200,groupId:90046,iconId:"20011",order:30},"900501":{baseCost:200,groupId:90050,iconId:"20011",order:30},"900521":{baseCost:200,groupId:90052,iconId:"20021",order:30},"900561":{baseCost:200,groupId:90056,iconId:"20011",order:30},"900581":{baseCost:200,groupId:90058,iconId:"20011",order:30},"900601":{baseCost:200,groupId:90060,iconId:"20011",order:30},"900611":{baseCost:200,groupId:90061,iconId:"20011",order:30},"910011":{baseCost:200,groupId:91001,iconId:"20021",order:30},"910031":{baseCost:200,groupId:91003,iconId:"20011",order:30},"910041":{baseCost:200,groupId:91004,iconId:"20011",order:30},"910111":{baseCost:200,groupId:91011,iconId:"20021",order:30},"910131":{baseCost:200,groupId:91013,iconId:"20011",order:30},"910141":{baseCost:200,groupId:91014,iconId:"20041",order:30},"910181":{baseCost:200,groupId:91018,iconId:"20011",order:30},"910241":{baseCost:200,groupId:91024,iconId:"20011",order:30},"910561":{baseCost:200,groupId:91056,iconId:"20011",order:30}};function pu(e){return fu[e.split("-")[0]]}function zd(e,t){let r=pu(e).order,n=pu(t).order;return+(n<r)-+(r<n)||+(t<e)-+(e<t)}function or(e){return ar(e,zd)}var Fe=class extends pt({outfitId:"",speed:1200,stamina:1200,power:800,guts:400,wisdom:400,strategy:"Senkou",distanceAptitude:"S",surfaceAptitude:"A",strategyAptitude:"A",mood:2,skills:or([]),forcedSkillPositions:zt()}){};var bu=Jn(An());var lu=Jn(An()),Ur=(a=>(a[a.Nige=1]="Nige",a[a.Senkou=2]="Senkou",a[a.Sasi=3]="Sasi",a[a.Oikomi=4]="Oikomi",a[a.Oonige=5]="Oonige",a))(Ur||{});var Ht;(r=>{function e(n){(0,lu.strict)(Ur.hasOwnProperty(n))}r.assertIsStrategy=e;function t(n,i){return n==i||n==1&&i==5||n==5&&i==1}r.strategyMatches=t})(Ht||={});var Ln=Jn(An());var mu={"10101":{corners:[{length:275,start:400},{length:259,start:675}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:934}],surface:1,turn:1},"10102":{corners:[{length:275,start:150},{length:275,start:700},{length:259,start:975}],course:1,courseSetStatus:[],distance:1500,distanceType:2,finishTimeMax:95e4,finishTimeMin:879e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:700,frontType:2,start:425},{end:1500,frontType:1,start:1234}],surface:1,turn:1},"10103":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:1e3},{length:259,start:1275}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:175,frontType:1,start:0},{end:1e3,frontType:2,start:725},{end:1800,frontType:1,start:1534}],surface:1,turn:1},"10104":{corners:[{length:275,start:375},{length:275,start:650},{length:275,start:1200},{length:259,start:1475}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:375,frontType:1,start:0},{end:1200,frontType:2,start:925},{end:2e3,frontType:1,start:1734}],surface:1,turn:1},"10105":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:975},{length:275,start:1250},{length:275,start:1800},{length:259,start:2075}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:175,frontType:2,start:0},{end:975,frontType:1,start:725},{end:1800,frontType:2,start:1525},{end:2600,frontType:1,start:2334}],surface:1,turn:1},"10106":{corners:[{length:230,start:280},{length:226,start:510}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:280,frontType:2,start:0},{end:1e3,frontType:1,start:736}],surface:2,turn:1},"10107":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:980},{length:226,start:1210}],course:1,courseSetStatus:[1],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:240,frontType:1,start:0},{end:980,frontType:2,start:700},{end:1700,frontType:1,start:1436}],surface:2,turn:1},"10108":{corners:[{length:230,start:200},{length:230,start:430},{length:230,start:940},{length:230,start:1170},{length:230,start:1680},{length:226,start:1910}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:200,frontType:2,start:0},{end:940,frontType:1,start:660},{end:1680,frontType:2,start:1408},{end:2400,frontType:1,start:2136}],surface:2,turn:1},"10201":{corners:[{length:220,start:310},{length:208,start:530}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:57e4,finishTimeMin:547e3,laneMax:14700,raceTrackId:10002,slopes:[{length:555,slope:1e4,start:0}],straights:[{end:310,frontType:2,start:0},{end:1e3,frontType:1,start:738}],surface:1,turn:1},"10202":{corners:[{length:220,start:510},{length:208,start:730}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14700,raceTrackId:10002,slopes:[{length:755,slope:1e4,start:0}],straights:[{end:510,frontType:2,start:0},{end:1200,frontType:1,start:938}],surface:1,turn:1},"10203":{corners:[{length:220,start:320},{length:220,start:540},{length:220,start:1110},{length:208,start:1330}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14700,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:220},{length:720,slope:1e4,start:665}],straights:[{end:320,frontType:1,start:0},{end:1110,frontType:2,start:760},{end:1800,frontType:1,start:1538}],surface:1,turn:1},"10204":{corners:[{length:220,start:520},{length:220,start:740},{length:220,start:1310},{length:208,start:1530}],course:1,courseSetStatus:[1],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14700,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:420},{length:720,slope:1e4,start:865}],straights:[{end:520,frontType:1,start:0},{end:1310,frontType:2,start:960},{end:2e3,frontType:1,start:1738}],surface:1,turn:1},"10205":{corners:[{length:240,start:260},{length:230,start:500},{length:220,start:1120},{length:220,start:1340},{length:220,start:1910},{length:208,start:2130}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:14700,raceTrackId:10002,slopes:[{length:495,slope:1e4,start:0},{length:200,slope:-1e4,start:970},{length:720,slope:1e4,start:1425}],straights:[{end:260,frontType:2,start:0},{end:1120,frontType:1,start:730},{end:1910,frontType:2,start:1560},{end:2600,frontType:1,start:2338}],surface:1,turn:1},"10206":{corners:[{length:190,start:370},{length:180,start:560}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:11e3,raceTrackId:10002,slopes:[],straights:[{end:370,frontType:2,start:0},{end:1e3,frontType:1,start:740}],surface:2,turn:1},"10207":{corners:[{length:190,start:350},{length:190,start:540},{length:190,start:1070},{length:180,start:1260}],course:1,courseSetStatus:[],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11e3,raceTrackId:10002,slopes:[{length:340,slope:-1e4,start:275},{length:670,slope:1e4,start:615}],straights:[{end:350,frontType:1,start:0},{end:1070,frontType:2,start:730},{end:1700,frontType:1,start:1440}],surface:2,turn:1},"10208":{corners:[{length:190,start:292},{length:190,start:482},{length:190,start:1040},{length:190,start:1230},{length:190,start:1770},{length:180,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11e3,raceTrackId:10002,slopes:[],straights:[{end:292,frontType:2,start:0},{end:1040,frontType:1,start:672},{end:1770,frontType:2,start:1420},{end:2400,frontType:1,start:2140}],surface:2,turn:1},"10301":{corners:[],course:1,courseSetStatus:[3],distance:1e3,distanceType:1,finishTimeMax:57e4,finishTimeMin:547e3,laneMax:23500,raceTrackId:10003,slopes:[{length:240,slope:1e4,start:0},{length:60,slope:-1e4,start:240}],straights:[{end:1e3,frontType:1,start:0}],surface:1,turn:4},"10302":{corners:[{length:200,start:450},{length:192,start:650}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:450,frontType:2,start:0},{end:1200,frontType:1,start:842}],surface:1,turn:2},"10303":{corners:[{length:200,start:650},{length:192,start:850}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:650,frontType:2,start:0},{end:1400,frontType:1,start:1042}],surface:1,turn:2},"10304":{corners:[{length:200,start:550},{length:192,start:750}],course:3,courseSetStatus:[],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:250},{length:300,slope:-15e3,start:600}],straights:[{end:550,frontType:2,start:0},{end:1600,frontType:1,start:942}],surface:1,turn:2},"10305":{corners:[{length:200,start:750},{length:192,start:950}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:450},{length:300,slope:-15e3,start:800}],straights:[{end:750,frontType:2,start:0},{end:1800,frontType:1,start:1142}],surface:1,turn:2},"10306":{corners:[{length:200,start:420},{length:200,start:620},{length:200,start:1250},{length:192,start:1450}],course:2,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:420,frontType:1,start:0},{end:1250,frontType:2,start:820},{end:2e3,frontType:1,start:1642}],surface:1,turn:2},"10307":{corners:[{length:200,start:950},{length:192,start:1150}],course:3,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:650},{length:300,slope:-15e3,start:1e3}],straights:[{end:950,frontType:2,start:0},{end:2e3,frontType:1,start:1342}],surface:1,turn:2},"10308":{corners:[{length:200,start:650},{length:200,start:850},{length:200,start:1450},{length:192,start:1650}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:650,frontType:1,start:0},{end:1450,frontType:2,start:1050},{end:2200,frontType:1,start:1842}],surface:1,turn:2},"10309":{corners:[{length:200,start:810},{length:200,start:1010},{length:200,start:1650},{length:192,start:1850}],course:2,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:810,frontType:1,start:0},{end:1650,frontType:2,start:1210},{end:2400,frontType:1,start:2042}],surface:1,turn:2},"10310":{corners:[{length:160,start:540},{length:147,start:700}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:540,frontType:2,start:0},{end:1200,frontType:1,start:847}],surface:2,turn:2},"10311":{corners:[{length:160,start:400},{length:160,start:560},{length:160,start:1140},{length:147,start:1300}],course:1,courseSetStatus:[5],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:400,frontType:1,start:0},{end:1140,frontType:2,start:720},{end:1800,frontType:1,start:1447}],surface:2,turn:2},"10312":{corners:[{length:160,start:380},{length:160,start:540},{length:160,start:1120},{length:160,start:1280},{length:160,start:1850},{length:160,start:2010}],course:1,courseSetStatus:[],distance:2500,distanceType:4,finishTimeMax:164e4,finishTimeMin:1591e3,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:380,frontType:2,start:0},{end:1120,frontType:1,start:700},{end:1850,frontType:2,start:1440},{end:2500,frontType:1,start:2170}],surface:2,turn:2},"10401":{corners:[{length:300,start:420},{length:188,start:720}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:180}],straights:[{end:420,frontType:2,start:0},{end:1200,frontType:1,start:908}],surface:1,turn:1},"10402":{corners:[{length:200,start:330},{length:200,start:530},{length:300,start:1020},{length:188,start:1320}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:780}],straights:[{end:330,frontType:1,start:0},{end:1020,frontType:2,start:730},{end:1800,frontType:1,start:1508}],surface:1,turn:1},"10403":{corners:[{length:200,start:530},{length:200,start:730},{length:300,start:1220},{length:188,start:1520}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:980}],straights:[{end:530,frontType:1,start:0},{end:1220,frontType:2,start:930},{end:2e3,frontType:1,start:1708}],surface:1,turn:1},"10404":{corners:[{length:300,start:220},{length:200,start:520},{length:200,start:1130},{length:200,start:1330},{length:300,start:1820},{length:188,start:2120}],course:1,courseSetStatus:[],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:80,slope:15e3,start:0},{length:100,slope:15e3,start:1580}],straights:[{end:220,frontType:2,start:0},{end:1130,frontType:1,start:720},{end:1820,frontType:2,start:1530},{end:2600,frontType:1,start:2308}],surface:1,turn:1},"10405":{corners:[{length:210,start:500},{length:145,start:710}],course:1,courseSetStatus:[],distance:1150,distanceType:1,finishTimeMax:72e4,finishTimeMin:666e3,laneMax:11500,raceTrackId:10004,slopes:[],straights:[{end:500,frontType:2,start:0},{end:1150,frontType:1,start:855}],surface:2,turn:1},"10406":{corners:[{length:170,start:360},{length:170,start:530},{length:210,start:1050},{length:145,start:1260}],course:1,courseSetStatus:[3],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11500,raceTrackId:10004,slopes:[{length:320,slope:-1e4,start:285}],straights:[{end:360,frontType:1,start:0},{end:1050,frontType:2,start:700},{end:1700,frontType:1,start:1405}],surface:2,turn:1},"10407":{corners:[{length:210,start:310},{length:160,start:520},{length:170,start:1060},{length:170,start:1230},{length:210,start:1750},{length:145,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11500,raceTrackId:10004,slopes:[],straights:[{end:310,frontType:2,start:0},{end:1060,frontType:1,start:680},{end:1750,frontType:2,start:1400},{end:2400,frontType:1,start:2105}],surface:2,turn:1},"10501":{corners:[{length:350,start:300},{length:240,start:650}],course:3,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:200,slope:-15e3,start:0},{length:110,slope:2e4,start:1025}],straights:[{end:1200,frontType:1,start:890}],surface:1,turn:1},"10502":{corners:[{length:450,start:50},{length:350,start:700},{length:240,start:1050}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:300,slope:-15e3,start:300},{length:110,slope:2e4,start:1425}],straights:[{end:1600,frontType:1,start:1290}],surface:1,turn:1},"10503":{corners:[{length:250,start:175},{length:250,start:425},{length:250,start:1e3},{length:240,start:1250}],course:2,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:35,slope:2e4,start:1},{length:200,slope:15e3,start:125},{length:400,slope:-15e3,start:425},{length:110,slope:2e4,start:1625}],straights:[{end:175,frontType:1,start:0},{end:1e3,frontType:2,start:675},{end:1800,frontType:1,start:1490}],surface:1,turn:1},"10504":{corners:[{length:250,start:375},{length:250,start:625},{length:250,start:1200},{length:240,start:1450}],course:2,courseSetStatus:[1],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:125},{length:200,slope:15e3,start:325},{length:400,slope:-15e3,start:625},{length:110,slope:2e4,start:1825}],straights:[{end:375,frontType:1,start:0},{end:1200,frontType:2,start:875},{end:2e3,frontType:1,start:1690}],surface:1,turn:1},"10505":{corners:[{length:247,start:403},{length:450,start:650},{length:350,start:1300},{length:240,start:1650}],course:3,courseSetStatus:[2,4],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:153},{length:200,slope:15e3,start:353},{length:300,slope:-15e3,start:900},{length:110,slope:2e4,start:2025}],straights:[{end:403,frontType:1,start:0},{end:2200,frontType:1,start:1890}],surface:1,turn:1},"10506":{corners:[{length:146,start:100},{length:250,start:246},{length:250,start:875},{length:250,start:1125},{length:250,start:1700},{length:240,start:1950}],course:2,courseSetStatus:[2,4],distance:2500,distanceType:4,finishTimeMax:157e4,finishTimeMin:1487e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:621},{length:200,slope:15e3,start:825},{length:400,slope:-15e3,start:1125},{length:110,slope:2e4,start:2325}],straights:[{end:875,frontType:1,start:496},{end:1700,frontType:2,start:1375},{end:2500,frontType:1,start:2190}],surface:1,turn:1},"10507":{corners:[{length:250,start:290},{length:250,start:540},{length:250,start:1115},{length:250,start:1365},{length:250,start:1975},{length:250,start:2225},{length:250,start:2800},{length:240,start:3050}],course:2,courseSetStatus:[2],distance:3600,distanceType:4,finishTimeMax:227e4,finishTimeMin:2231e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:40},{length:200,slope:15e3,start:240},{length:400,slope:-15e3,start:540},{length:110,slope:2e4,start:1740},{length:200,slope:15e3,start:1925},{length:400,slope:-15e3,start:2225},{length:110,slope:2e4,start:3425}],straights:[{end:290,frontType:1,start:0},{end:1115,frontType:2,start:790},{end:1975,frontType:1,start:1615},{end:2800,frontType:2,start:2475},{end:3600,frontType:1,start:3290}],surface:1,turn:1},"10508":{corners:[{length:200,start:500},{length:192,start:700}],course:1,courseSetStatus:[3],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10005,slopes:[{length:175,slope:-15e3,start:175},{length:175,slope:15e3,start:1e3}],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:892}],surface:2,turn:1},"10509":{corners:[{length:200,start:350},{length:200,start:550},{length:200,start:1100},{length:192,start:1300}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:175,slope:15e3,start:100},{length:175,slope:1e4,start:350},{length:175,slope:-15e3,start:775},{length:175,slope:15e3,start:1600}],straights:[{end:350,frontType:1,start:0},{end:1100,frontType:1,start:750},{end:1800,frontType:1,start:1492}],surface:2,turn:1},"10510":{corners:[{length:200,start:200},{length:200,start:400},{length:200,start:950},{length:200,start:1150},{length:200,start:1700},{length:192,start:1900}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12e3,raceTrackId:10005,slopes:[],straights:[{end:200,frontType:2,start:0},{end:950,frontType:1,start:600},{end:1700,frontType:2,start:1350},{end:2400,frontType:1,start:2092}],surface:2,turn:1},"10511":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1050},{length:200,start:1250},{length:200,start:1800},{length:192,start:2e3}],course:1,courseSetStatus:[],distance:2500,distanceType:4,finishTimeMax:164e4,finishTimeMin:1591e3,laneMax:12e3,raceTrackId:10005,slopes:[],straights:[{end:300,frontType:2,start:0},{end:1050,frontType:1,start:700},{end:1800,frontType:2,start:1450},{end:2500,frontType:1,start:2192}],surface:2,turn:1},"10601":{corners:[{length:275,start:350},{length:250,start:625}],course:1,courseSetStatus:[2,3],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:125},{length:250,slope:-15e3,start:250},{length:150,slope:15e3,start:950}],straights:[{end:350,frontType:2,start:0},{end:1400,frontType:1,start:875}],surface:1,turn:2},"10602":{corners:[{length:275,start:550},{length:250,start:825}],course:1,courseSetStatus:[2,4],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:325},{length:250,slope:-15e3,start:450},{length:150,slope:15e3,start:1150}],straights:[{end:550,frontType:2,start:0},{end:1600,frontType:1,start:1075}],surface:1,turn:2},"10603":{corners:[{length:250,start:75},{length:275,start:750},{length:250,start:1025}],course:1,courseSetStatus:[1],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:525},{length:250,slope:-15e3,start:650},{length:150,slope:15e3,start:1350}],straights:[{end:750,frontType:2,start:325},{end:1800,frontType:1,start:1275}],surface:1,turn:2},"10604":{corners:[{length:200,start:200},{length:275,start:950},{length:250,start:1225}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:725},{length:250,slope:-15e3,start:850},{length:150,slope:15e3,start:1550}],straights:[{end:950,frontType:2,start:400},{end:2e3,frontType:1,start:1475}],surface:1,turn:2},"10605":{corners:[{length:250,start:225},{length:325,start:475},{length:275,start:1250},{length:250,start:1525}],course:1,courseSetStatus:[3],distance:2300,distanceType:3,finishTimeMax:143e4,finishTimeMin:1393e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:1025},{length:250,slope:-15e3,start:1150},{length:150,slope:15e3,start:1850}],straights:[{end:225,frontType:1,start:0},{end:1250,frontType:2,start:800},{end:2300,frontType:1,start:1775}],surface:1,turn:2},"10606":{corners:[{length:250,start:325},{length:325,start:575},{length:275,start:1350},{length:250,start:1625}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:40,slope:15e3,start:0},{length:75,slope:2e4,start:1125},{length:250,slope:-15e3,start:1250},{length:150,slope:15e3,start:1950}],straights:[{end:325,frontType:1,start:0},{end:1350,frontType:2,start:900},{end:2400,frontType:1,start:1875}],surface:1,turn:2},"10607":{corners:[{length:250,start:425},{length:325,start:675},{length:275,start:1450},{length:250,start:1725}],course:1,courseSetStatus:[2],distance:2500,distanceType:4,finishTimeMax:157e4,finishTimeMin:1487e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:140,slope:15e3,start:0},{length:75,slope:2e4,start:1225},{length:250,slope:-15e3,start:1350},{length:150,slope:15e3,start:2050}],straights:[{end:425,frontType:1,start:0},{end:1450,frontType:2,start:1e3},{end:2500,frontType:1,start:1975}],surface:1,turn:2},"10608":{corners:[{length:275,start:292},{length:275,start:567},{length:250,start:1325},{length:325,start:1575},{length:275,start:2350},{length:250,start:2625}],course:1,courseSetStatus:[],distance:3400,distanceType:4,finishTimeMax:214e4,finishTimeMin:2099e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:67},{length:250,slope:-15e3,start:192},{length:150,slope:15e3,start:892},{length:75,slope:2e4,start:2125},{length:250,slope:-15e3,start:2250},{length:150,slope:15e3,start:2950}],straights:[{end:292,frontType:2,start:0},{end:1325,frontType:1,start:842},{end:2350,frontType:2,start:1900},{end:3400,frontType:1,start:2875}],surface:1,turn:2},"10609":{corners:[{length:225,start:350},{length:224,start:575}],course:1,courseSetStatus:[1],distance:1300,distanceType:1,finishTimeMax:82e4,finishTimeMin:766e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:275},{length:250,slope:15e3,start:800}],straights:[{end:350,frontType:2,start:0},{end:1300,frontType:1,start:799}],surface:2,turn:2},"10610":{corners:[{length:225,start:450},{length:224,start:675}],course:1,courseSetStatus:[2],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:375},{length:250,slope:15e3,start:900}],straights:[{end:450,frontType:2,start:0},{end:1400,frontType:1,start:899}],surface:2,turn:2},"10611":{corners:[{length:225,start:650},{length:224,start:875}],course:1,courseSetStatus:[1,2],distance:1600,distanceType:2,finishTimeMax:108e4,finishTimeMin:941e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:575},{length:250,slope:15e3,start:1100}],straights:[{end:650,frontType:2,start:0},{end:1600,frontType:1,start:1099}],surface:2,turn:2},"10612":{corners:[{length:250,start:200},{length:250,start:450},{length:225,start:1150},{length:224,start:1375}],course:1,courseSetStatus:[],distance:2100,distanceType:3,finishTimeMax:133e4,finishTimeMin:1274e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:1075},{length:250,slope:15e3,start:1600}],straights:[{end:200,frontType:1,start:0},{end:1150,frontType:2,start:700},{end:2100,frontType:1,start:1599}],surface:2,turn:2},"10613":{corners:[{length:250,start:500},{length:250,start:750},{length:225,start:1450},{length:225,start:1675},{length:500,start:2348}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12500,raceTrackId:10006,slopes:[],straights:[{end:500,frontType:1,start:0},{end:1450,frontType:2,start:1e3},{end:2400,frontType:1,start:1900}],surface:2,turn:2},"10701":{corners:[{length:250,start:300},{length:238,start:550}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:100},{length:100,slope:2e4,start:875}],straights:[{end:300,frontType:2,start:0},{end:1200,frontType:1,start:788}],surface:1,turn:2},"10702":{corners:[{length:250,start:500},{length:238,start:750}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:300},{length:100,slope:2e4,start:1075}],straights:[{end:500,frontType:2,start:0},{end:1400,frontType:1,start:988}],surface:1,turn:2},"10703":{corners:[{length:150,start:150},{length:250,start:700},{length:238,start:950}],course:1,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:500},{length:100,slope:2e4,start:1275}],straights:[{end:700,frontType:2,start:300},{end:1600,frontType:1,start:1188}],surface:1,turn:2},"10704":{corners:[{length:200,start:300},{length:200,start:500},{length:250,start:1100},{length:238,start:1350}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14400,raceTrackId:10007,slopes:[{length:50,slope:2e4,start:0},{length:775,slope:-1e4,start:900},{length:100,slope:2e4,start:1675}],straights:[{end:300,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:2e3,frontType:1,start:1588}],surface:1,turn:2},"10705":{corners:[{length:200,start:500},{length:200,start:700},{length:250,start:1300},{length:238,start:1550}],course:1,courseSetStatus:[2],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:14400,raceTrackId:10007,slopes:[{length:150,slope:-1e4,start:0},{length:100,slope:2e4,start:150},{length:775,slope:-1e4,start:1100},{length:100,slope:2e4,start:1875}],straights:[{end:500,frontType:1,start:0},{end:1300,frontType:2,start:900},{end:2200,frontType:1,start:1788}],surface:1,turn:2},"10706":{corners:[{length:200,start:400},{length:190,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:13e3,raceTrackId:10007,slopes:[],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:790}],surface:2,turn:2},"10707":{corners:[{length:200,start:600},{length:190,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:13e3,raceTrackId:10007,slopes:[{length:600,slope:-15e3,start:425},{length:150,slope:15e3,start:1025}],straights:[{end:600,frontType:2,start:0},{end:1400,frontType:1,start:990}],surface:2,turn:2},"10708":{corners:[{length:165,start:270},{length:165,start:435},{length:200,start:1e3},{length:190,start:1200}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:13e3,raceTrackId:10007,slopes:[{length:50,slope:15e3,start:0},{length:600,slope:-15e3,start:825},{length:150,slope:15e3,start:1425}],straights:[{end:270,frontType:1,start:0},{end:1e3,frontType:2,start:600},{end:1800,frontType:1,start:1390}],surface:2,turn:2},"10709":{corners:[{length:165,start:370},{length:165,start:535},{length:200,start:1100},{length:190,start:1300}],course:1,courseSetStatus:[],distance:1900,distanceType:3,finishTimeMax:123e4,finishTimeMin:1142e3,laneMax:13e3,raceTrackId:10007,slopes:[],straights:[{end:370,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1900,frontType:1,start:1490}],surface:2,turn:2},"10801":{corners:[{length:275,start:320},{length:277,start:595}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:120},{length:150,slope:-15e3,start:420}],straights:[{end:320,frontType:2,start:0},{end:1200,frontType:1,start:872}],surface:1,turn:1},"10802":{corners:[{length:275,start:520},{length:277,start:795}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:320},{length:150,slope:-15e3,start:620}],straights:[{end:520,frontType:2,start:0},{end:1400,frontType:1,start:1072}],surface:1,turn:1},"10803":{corners:[{length:250,start:500},{length:247,start:750}],course:3,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:250},{length:225,slope:1e4,start:350},{length:150,slope:-2e4,start:575}],straights:[{end:500,frontType:2,start:0},{end:1400,frontType:1,start:997}],surface:1,turn:1},"10804":{corners:[{length:275,start:720},{length:277,start:995}],course:2,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:520},{length:150,slope:-15e3,start:820}],straights:[{end:720,frontType:2,start:200},{end:1600,frontType:1,start:1272}],surface:1,turn:1},"10805":{corners:[{length:250,start:700},{length:247,start:950}],course:3,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:450},{length:225,slope:1e4,start:550},{length:150,slope:-2e4,start:775}],straights:[{end:700,frontType:2,start:200},{end:1600,frontType:1,start:1197}],surface:1,turn:1},"10806":{corners:[{length:250,start:900},{length:247,start:1150}],course:3,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:650},{length:225,slope:1e4,start:750},{length:150,slope:-2e4,start:975}],straights:[{end:900,frontType:2,start:400},{end:1800,frontType:1,start:1397}],surface:1,turn:1},"10807":{corners:[{length:185,start:400},{length:185,start:585},{length:275,start:1120},{length:277,start:1395}],course:2,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:970},{length:150,slope:-15e3,start:1270}],straights:[{end:400,frontType:1,start:0},{end:1120,frontType:2,start:770},{end:2e3,frontType:1,start:1672}],surface:1,turn:1},"10808":{corners:[{length:200,start:400},{length:200,start:600},{length:250,start:1300},{length:247,start:1550}],course:3,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1050},{length:225,slope:1e4,start:1150},{length:150,slope:-2e4,start:1375}],straights:[{end:400,frontType:1,start:0},{end:1300,frontType:2,start:800},{end:2200,frontType:1,start:1797}],surface:1,turn:1},"10809":{corners:[{length:200,start:600},{length:200,start:800},{length:250,start:1500},{length:247,start:1750}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1250},{length:225,slope:1e4,start:1350},{length:150,slope:-2e4,start:1575}],straights:[{end:600,frontType:1,start:0},{end:1500,frontType:2,start:1e3},{end:2400,frontType:1,start:1997}],surface:1,turn:1},"10810":{corners:[{length:250,start:261},{length:250,start:511},{length:200,start:1250},{length:200,start:1450},{length:250,start:2100},{length:247,start:2350}],course:3,courseSetStatus:[3,5],distance:3e3,distanceType:4,finishTimeMax:19e5,finishTimeMin:1815e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:11},{length:225,slope:1e4,start:111},{length:150,slope:-2e4,start:336},{length:100,slope:2e4,start:1850},{length:225,slope:1e4,start:1950},{length:150,slope:-2e4,start:2175}],straights:[{end:261,frontType:2,start:0},{end:1250,frontType:1,start:761},{end:2100,frontType:2,start:1650},{end:3e3,frontType:1,start:2597}],surface:1,turn:1},"10811":{corners:[{length:250,start:458},{length:250,start:708},{length:200,start:1450},{length:200,start:1650},{length:250,start:2300},{length:247,start:2550}],course:3,courseSetStatus:[],distance:3200,distanceType:4,finishTimeMax:204e4,finishTimeMin:193e4,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:208},{length:225,slope:1e4,start:308},{length:150,slope:-2e4,start:533},{length:100,slope:2e4,start:2050},{length:225,slope:1e4,start:2150},{length:150,slope:-2e4,start:2375}],straights:[{end:458,frontType:2,start:0},{end:1450,frontType:1,start:958},{end:2300,frontType:2,start:1850},{end:3200,frontType:1,start:2797}],surface:1,turn:1},"10812":{corners:[{length:225,start:400},{length:246,start:625}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:175},{length:200,slope:-15e3,start:475}],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:871}],surface:2,turn:1},"10813":{corners:[{length:225,start:600},{length:246,start:825}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:375},{length:200,slope:-15e3,start:675}],straights:[{end:600,frontType:2,start:100},{end:1400,frontType:1,start:1071}],surface:2,turn:1},"10814":{corners:[{length:150,start:300},{length:150,start:450},{length:225,start:1e3},{length:246,start:1225}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:775},{length:200,slope:-15e3,start:1075}],straights:[{end:300,frontType:1,start:0},{end:1e3,frontType:2,start:600},{end:1800,frontType:1,start:1471}],surface:2,turn:1},"10815":{corners:[{length:150,start:400},{length:150,start:550},{length:225,start:1100},{length:246,start:1325}],course:1,courseSetStatus:[],distance:1900,distanceType:3,finishTimeMax:123e4,finishTimeMin:1142e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:875},{length:200,slope:-15e3,start:1175}],straights:[{end:400,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1900,frontType:1,start:1571}],surface:2,turn:1},"10901":{corners:[{length:300,start:250},{length:294,start:550}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:400},{length:125,slope:2e4,start:1e3}],straights:[{end:250,frontType:2,start:0},{end:1200,frontType:1,start:844}],surface:1,turn:1},"10902":{corners:[{length:300,start:450},{length:294,start:750}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:600},{length:125,slope:2e4,start:1200}],straights:[{end:450,frontType:2,start:0},{end:1400,frontType:1,start:1044}],surface:1,turn:1},"10903":{corners:[{length:350,start:450},{length:327,start:800}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:950},{length:120,slope:2e4,start:1405}],straights:[{end:450,frontType:2,start:0},{end:1600,frontType:1,start:1127}],surface:1,turn:1},"10904":{corners:[{length:350,start:650},{length:327,start:1e3}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:1150},{length:120,slope:2e4,start:1605}],straights:[{end:650,frontType:2,start:0},{end:1800,frontType:1,start:1327}],surface:1,turn:1},"10905":{corners:[{length:190,start:320},{length:190,start:510},{length:300,start:1050},{length:294,start:1350}],course:2,courseSetStatus:[4],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:12500,raceTrackId:10009,slopes:[{length:90,slope:-1e4,start:0},{length:125,slope:2e4,start:95},{length:595,slope:-1e4,start:1200},{length:125,slope:2e4,start:1800}],straights:[{end:320,frontType:1,start:0},{end:1050,frontType:2,start:700},{end:2e3,frontType:1,start:1644}],surface:1,turn:1},"10906":{corners:[{length:190,start:520},{length:190,start:710},{length:300,start:1250},{length:294,start:1550}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:12500,raceTrackId:10009,slopes:[{length:290,slope:-1e4,start:0},{length:125,slope:2e4,start:295},{length:595,slope:-1e4,start:1400},{length:125,slope:2e4,start:2e3}],straights:[{end:520,frontType:1,start:0},{end:1250,frontType:2,start:900},{end:2200,frontType:1,start:1844}],surface:1,turn:1},"10907":{corners:[{length:190,start:370},{length:190,start:560},{length:350,start:1250},{length:327,start:1600}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:12500,raceTrackId:10009,slopes:[{length:115,slope:-1e4,start:0},{length:120,slope:2e4,start:170},{length:400,slope:-1e4,start:1750},{length:120,slope:2e4,start:2205}],straights:[{end:370,frontType:1,start:0},{end:1250,frontType:2,start:750},{end:2400,frontType:1,start:1927}],surface:1,turn:1},"10908":{corners:[{length:190,start:570},{length:190,start:760},{length:350,start:1450},{length:327,start:1800}],course:3,courseSetStatus:[],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:12500,raceTrackId:10009,slopes:[{length:315,slope:-1e4,start:0},{length:120,slope:2e4,start:370},{length:400,slope:-1e4,start:1950},{length:120,slope:2e4,start:2405}],straights:[{end:570,frontType:1,start:0},{end:1450,frontType:2,start:950},{end:2600,frontType:1,start:2127}],surface:1,turn:1},"10909":{corners:[{length:300,start:345},{length:294,start:645},{length:190,start:1320},{length:190,start:1510},{length:300,start:2050},{length:294,start:2350}],course:2,courseSetStatus:[3],distance:3e3,distanceType:4,finishTimeMax:19e5,finishTimeMin:1815e3,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:495},{length:125,slope:2e4,start:1095},{length:595,slope:-1e4,start:2200},{length:125,slope:2e4,start:2800}],straights:[{end:345,frontType:2,start:0},{end:1320,frontType:1,start:939},{end:2050,frontType:2,start:1700},{end:3e3,frontType:1,start:2644}],surface:1,turn:1},"10910":{corners:[{length:250,start:350},{length:248,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10009,slopes:[{length:800,slope:-1e4,start:200},{length:125,slope:15e3,start:1e3}],straights:[{end:350,frontType:2,start:0},{end:1200,frontType:1,start:848}],surface:2,turn:1},"10911":{corners:[{length:250,start:550},{length:248,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:800,slope:-1e4,start:400},{length:125,slope:15e3,start:1200}],straights:[{end:550,frontType:2,start:0},{end:1400,frontType:1,start:1048}],surface:2,turn:1},"10912":{corners:[{length:150,start:300},{length:150,start:450},{length:250,start:950},{length:248,start:1200}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:75},{length:800,slope:-1e4,start:800},{length:125,slope:15e3,start:1600}],straights:[{end:300,frontType:1,start:0},{end:950,frontType:2,start:600},{end:1800,frontType:1,start:1448}],surface:2,turn:1},"10913":{corners:[{length:150,start:500},{length:150,start:650},{length:250,start:1150},{length:248,start:1400}],course:1,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:1219e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:275,slope:-1e4,start:0},{length:125,slope:15e3,start:275},{length:800,slope:-1e4,start:1e3},{length:125,slope:15e3,start:1800}],straights:[{end:500,frontType:1,start:0},{end:1150,frontType:2,start:800},{end:2e3,frontType:1,start:1648}],surface:2,turn:1},"10914":{corners:[{length:350,start:370},{length:350,start:720},{length:190,start:1520},{length:190,start:1710},{length:300,start:2250},{length:294,start:2550}],course:4,courseSetStatus:[],distance:3200,distanceType:4,finishTimeMax:204e4,finishTimeMin:193e4,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:870},{length:120,slope:2e4,start:1325},{length:595,slope:-1e4,start:2400},{length:125,slope:2e4,start:3e3}],straights:[{end:370,frontType:2,start:0},{end:1520,frontType:1,start:1070},{end:2250,frontType:2,start:1900},{end:3200,frontType:1,start:2844}],surface:1,turn:1},"11001":{corners:[{length:205,start:500},{length:202,start:705}],course:1,courseSetStatus:[1],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14500,raceTrackId:10010,slopes:[{length:60,slope:-15e3,start:0}],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:907}],surface:1,turn:1},"11002":{corners:[{length:205,start:290},{length:205,start:495},{length:205,start:1100},{length:202,start:1305}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:280}],straights:[{end:290,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1800,frontType:1,start:1507}],surface:1,turn:1},"11003":{corners:[{length:205,start:490},{length:205,start:695},{length:205,start:1300},{length:202,start:1505}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:480}],straights:[{end:490,frontType:1,start:0},{end:1300,frontType:2,start:900},{end:2e3,frontType:1,start:1707}],surface:1,turn:1},"11004":{corners:[{length:205,start:309},{length:205,start:514},{length:205,start:1110},{length:205,start:1315},{length:205,start:1900},{length:202,start:2105}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:1100}],straights:[{end:309,frontType:2,start:0},{end:1110,frontType:1,start:719},{end:1900,frontType:2,start:1520},{end:2600,frontType:1,start:2307}],surface:1,turn:1},"11005":{corners:[{length:180,start:360},{length:169,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:12e3,raceTrackId:10010,slopes:[],straights:[{end:360,frontType:2,start:0},{end:1e3,frontType:1,start:709}],surface:2,turn:1},"11006":{corners:[{length:180,start:340},{length:180,start:520},{length:180,start:1060},{length:169,start:1240}],course:1,courseSetStatus:[],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:12e3,raceTrackId:10010,slopes:[{length:150,slope:15e3,start:370}],straights:[{end:340,frontType:1,start:0},{end:1060,frontType:2,start:700},{end:1700,frontType:1,start:1409}],surface:2,turn:1},"11007":{corners:[{length:180,start:312},{length:180,start:492},{length:180,start:1040},{length:180,start:1220},{length:180,start:1760},{length:169,start:1940}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12e3,raceTrackId:10010,slopes:[],straights:[{end:312,frontType:2,start:0},{end:1040,frontType:1,start:672},{end:1760,frontType:2,start:1400},{end:2400,frontType:1,start:2109}],surface:2,turn:1},"11101":{corners:[{length:150,start:500},{length:164,start:650}],course:1,courseSetStatus:[4,5],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:814}],surface:2,turn:1},"11102":{corners:[{length:150,start:300},{length:150,start:500},{length:150,start:1100},{length:164,start:1250}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:301,frontType:1,start:0},{end:1100.23,frontType:2,start:600},{end:1800,frontType:1,start:1414}],surface:2,turn:1},"11103":{corners:[{length:150,start:500},{length:150,start:650},{length:150,start:1300},{length:164,start:1450}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:1219e3,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:500,frontType:1,start:0},{end:1300,frontType:2,start:800},{end:2e3,frontType:1,start:1614}],surface:2,turn:1},"11203":{corners:[{length:417,start:1e3},{length:200,start:1417}],course:1,courseSetStatus:[2,3],distance:2400,distanceType:3,finishTimeMax:165e4,finishTimeMin:145e4,laneMax:12e3,raceTrackId:10201,slopes:[{length:600,slope:2e4,start:400},{length:383,slope:-2e4,start:1017},{length:217,slope:-15e3,start:1400}],straights:[{end:1e3,frontType:2,start:0},{end:1866,frontType:3,start:1617},{end:2400,frontType:1,start:1867}],surface:1,turn:1},"11301":{corners:[{length:100,start:300},{length:100,start:400},{length:100,start:900},{length:100,start:1e3}],course:1,courseSetStatus:[5],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:87e4,laneMax:13500,raceTrackId:10103,slopes:[],straights:[{end:300,frontType:1,start:0},{end:900,frontType:2,start:500},{end:1400,frontType:1,start:1100}],surface:2,turn:2},"11302":{corners:[{length:100,start:500},{length:100,start:600},{length:100,start:1100},{length:100,start:1200}],course:1,courseSetStatus:[5],distance:1600,distanceType:2,finishTimeMax:108e4,finishTimeMin:98e4,laneMax:13500,raceTrackId:10103,slopes:[],straights:[{end:500,frontType:1,start:100},{end:1100,frontType:2,start:700},{end:1600,frontType:1,start:1300}],surface:2,turn:2},"11303":{corners:[{length:100,start:400},{length:100,start:500},{length:100,start:1e3},{length:100,start:1100},{length:100,start:1600},{length:100,start:1700}],course:1,courseSetStatus:[2,5],distance:2100,distanceType:3,finishTimeMax:14e5,finishTimeMin:131e4,laneMax:13500,raceTrackId:10103,slopes:[],straights:[{end:400,frontType:2,start:0},{end:1e3,frontType:1,start:600},{end:1600,frontType:2,start:1200},{end:2100,frontType:1,start:1800}],surface:2,turn:2},"11401":{corners:[{length:170,start:370},{length:152,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:58e4,laneMax:13500,raceTrackId:10104,slopes:[],straights:[{end:370,frontType:2,start:0},{end:1e3,frontType:1,start:692}],surface:2,turn:2},"11402":{corners:[{length:180,start:260},{length:160,start:440},{length:170,start:970},{length:152,start:1140}],course:1,courseSetStatus:[],distance:1600,distanceType:2,finishTimeMax:108e4,finishTimeMin:96e4,laneMax:13500,raceTrackId:10104,slopes:[],straights:[{end:260,frontType:1,start:0},{end:970,frontType:2,start:600},{end:1600,frontType:1,start:1292}],surface:2,turn:2},"11403":{corners:[{length:180,start:460},{length:160,start:640},{length:170,start:1170},{length:152,start:1340}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:108e4,laneMax:13500,raceTrackId:10104,slopes:[],straights:[{end:460,frontType:1,start:90},{end:1170,frontType:2,start:800},{end:1800,frontType:1,start:1492}],surface:2,turn:2},"11404":{corners:[{length:170,start:370},{length:150,start:540},{length:180,start:1060},{length:160,start:1240},{length:170,start:1770},{length:152,start:1940}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:15e5,laneMax:13500,raceTrackId:10104,slopes:[],straights:[{end:370,frontType:2,start:0},{end:1060,frontType:1,start:690},{end:1770,frontType:2,start:1400},{end:2400,frontType:1,start:2092}],surface:2,turn:2},"11501":{corners:[{length:200,start:500},{length:200,start:700}],course:1,courseSetStatus:[2],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:13500,raceTrackId:10105,slopes:[{length:375,slope:1e4,start:100},{length:450,slope:-15e3,start:475},{length:175,slope:1e4,start:975}],straights:[{end:500,frontType:2,start:100},{end:1200,frontType:1,start:900}],surface:2,turn:2},"11502":{corners:[{length:200,start:900},{length:200,start:1100}],course:1,courseSetStatus:[2,5],distance:1600,distanceType:2,finishTimeMax:108e4,finishTimeMin:93e4,laneMax:13500,raceTrackId:10105,slopes:[{length:375,slope:1e4,start:500},{length:450,slope:-15e3,start:875},{length:175,slope:1e4,start:1375}],straights:[{end:900,frontType:2,start:500},{end:1600,frontType:1,start:1300}],surface:2,turn:2},"11503":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[2,5],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:11e5,laneMax:13500,raceTrackId:10105,slopes:[{length:150,slope:1e4,start:0},{length:450,slope:-15e3,start:700},{length:175,slope:1e4,start:1575}],straights:[{end:300,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1800,frontType:1,start:1500}],surface:2,turn:2},"11504":{corners:[{length:200,start:500},{length:200,start:700},{length:200,start:1300},{length:200,start:1500}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:121e4,laneMax:13500,raceTrackId:10105,slopes:[{length:175,slope:1e4,start:175},{length:375,slope:1e4,start:900},{length:450,slope:-15e3,start:1275},{length:175,slope:1e4,start:1775}],straights:[{end:500,frontType:1,start:100},{end:1300,frontType:2,start:900},{end:2e3,frontType:1,start:1700}],surface:2,turn:2},"11605":{corners:[{length:150,start:700},{length:150,start:850},{length:150,start:1400},{length:150,start:1550}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:1232e3,finishTimeMin:1172e3,laneMax:12e3,raceTrackId:10202,slopes:[{length:150,slope:-2e4,start:0}],straights:[{end:700,frontType:1,start:300},{end:1400,frontType:2,start:1e3},{end:2e3,frontType:1,start:1700}],surface:1,turn:2},"11612":{corners:[{length:200,start:500},{length:200,start:700},{length:200,start:1300},{length:200,start:1500}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:121e4,laneMax:135e3,raceTrackId:10202,slopes:[{length:175,slope:1e4,start:175},{length:375,slope:1e4,start:900},{length:450,slope:-15e3,start:1275},{length:175,slope:1e4,start:1775}],straights:[{end:500,frontType:1,start:100},{end:1300,frontType:2,start:900},{end:2e3,frontType:1,start:1700}],surface:1,turn:2}};var _u=(r=>(r[r.Turf=1]="Turf",r[r.Dirt=2]="Dirt",r))(_u||{}),gu=(i=>(i[i.Short=1]="Short",i[i.Mile=2]="Mile",i[i.Mid=3]="Mid",i[i.Long=4]="Long",i))(gu||{}),yu=(i=>(i[i.Clockwise=1]="Clockwise",i[i.Counterclockwise=2]="Counterclockwise",i[i.UnusedOrientation=3]="UnusedOrientation",i[i.NoTurns=4]="NoTurns",i))(yu||{});var S;(u=>{function e(d){(0,Ln.strict)(d==0||d==1||d==2||d==3)}u.assertIsPhase=e;function t(d){(0,Ln.strict)(_u.hasOwnProperty(d))}u.assertIsSurface=t;function r(d){(0,Ln.strict)(gu.hasOwnProperty(d))}u.assertIsDistanceType=r;function n(d){(0,Ln.strict)(yu.hasOwnProperty(d))}u.assertIsOrientation=n;function i(d){let f=[!0,-1];function p(l,h){return[l[0]&&h.start>l[1],h.start]}return d.reduce(p,f)[0]}u.isSortedByStart=i;function a(d,f){switch(f){case 0:return 0;case 1:return d*1/6;case 2:return d*2/3;case 3:return d*5/6}}u.phaseStart=a;function o(d,f){switch(f){case 0:return d*1/6;case 1:return d*2/3;case 2:return d*5/6;case 3:return d}}u.phaseEnd=o;function s(d,f){let p=[0,f.speed,f.stamina,f.power,f.guts,f.wisdom].map(l=>Math.min(l,901));return 1+d.courseSetStatus.map(l=>(1+Math.floor(p[l]/300.01))*.05).reduce((l,h)=>l+h,0)/Math.max(d.courseSetStatus.length,1)}u.courseSpeedModifier=s;function c(d){let f=mu[d];i(f.slopes)||f.slopes.sort((y,v)=>y.start-v.start);let p=11.25,l=p/18,h=.02*1.5,m=h/15,_=p*f.laneMax/1e4,b=f.corners.length>0?f.corners[0].start:30,g={...f,courseWidth:p,horseLane:l,laneChangeAcceleration:h,laneChangeAccelerationPerFrame:m,maxLaneDistance:_,moveLanePoint:b};return Object.keys(g).forEach(y=>Object.freeze(g[y])),Object.freeze(g)}u.getCourse=c})(S||={});function Jo(e){let t=0,r=0,n=0,i=0;function a(){let s=t^t<<11;return t=r,r=n,n=i,i=i^i>>>19^(s^s>>>8),(i>>>0)/4294967296}let o=e.toString();for(let s=0;s<o.length;s++)t=t*31+o.charCodeAt(s)>>>0;return a}var Vo=class{constructor(t){this.rng=Jo(t.toString())}int32(){return Math.floor(this.rng()*4294967296)}random(){return this.rng()}uniform(t){let r=-1>>>Math.clz32(t-1|1),n=0;do n=this.int32()&r;while(n>=t);return n}},Ut=Vo;var sr=class{constructor(t,r,n){this.name=t;this.startRate=r;this.continuationRate=n}get valueOnStart(){return 0}update(t,r){let n=t.simulation?.rng;return r===0?n.random()<this.startRate?1:0:n.random()<this.continuationRate?1:0}},xi=class{constructor(t,r,n=0){this.name=t;this.conditions=r;this.valueOnStart=n}update(t,r){let n=null,i=null;for(let s of this.conditions)if(s.predicate===null)i=s.condition;else if(s.predicate(t)){n=s.condition;break}let a=n||i;if(!a)return r;let o=t.simulation?.rng;return r===0?o.random()<a.startRate?1:0:o.random()<a.continuationRate?1:0}};var Ai;(r=>(r.StrategyPhaseCoefficient=Object.freeze([[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]].map(n=>Object.freeze(n))),r.DistanceProficiencyModifier=Object.freeze([1.05,1,.9,.8,.6,.4,.2,.1])))(Ai||={});function cr(e){return 20-(e.distance-2e3)/1e3}function Su(e,t,r){return cr(t)*Ai.StrategyPhaseCoefficient[e.strategy][r]+ +(r==2)*Math.sqrt(500*e.speed)*Ai.DistanceProficiencyModifier[e.distanceAptitude]*.002}function Nd(e,t){let r=(Su(e,t,2)+.01*cr(t))*1.05+Math.sqrt(500*e.speed)*Ai.DistanceProficiencyModifier[e.distanceAptitude]*.002;return r+=Math.pow(450*e.guts,.597)*1e-4,r}var Ei;(n=>(n.StrategyPhaseCoefficient=Object.freeze([[],[1,1,.996],[.985,1,.996],[.975,1,1],[.945,1,.997],[1.17,.94,.956]].map(i=>Object.freeze(i))),n.GroundTypeProficiencyModifier=Object.freeze([1.05,1,.9,.8,.7,.5,.3,.1]),n.DistanceProficiencyModifier=Object.freeze([1,1,1,1,1,.6,.5,.4])))(Ei||={});var Hd=6e-4,Ud=4e-4;function Kd(e,t,r){return e*Math.sqrt(500*t.power)*Ei.StrategyPhaseCoefficient[t.strategy][r]*Ei.GroundTypeProficiencyModifier[t.surfaceAptitude]*Ei.DistanceProficiencyModifier[t.distanceAptitude]}var jd=[-1.2,-.8,-1],Xo;(a=>{a.BaseMinimumThreshold=Object.freeze([0,0,3,6.5,7.5]),a.BaseMaximumThreshold=Object.freeze([0,0,5,7,8]);function r(o){return 8e-4*(o-1e3)+1}a.courseFactor=r;function n(o,s){return a.BaseMinimumThreshold[o]*(o==2?1:r(s))}a.minThreshold=n;function i(o,s){return a.BaseMaximumThreshold[o]*r(s)}a.maxThreshold=i})(Xo||={});var Zo=class{constructor(t){this.t=t}},zn=class{constructor(t,r=0){this.acc=t;this.err=r}add(t){let r=this.acc+t;Math.abs(this.acc)>=Math.abs(t)?this.err+=this.acc-r+t:this.err+=t-r+this.acc,this.acc=r}};var Qo=(_=>(_[_.SpeedUp=1]="SpeedUp",_[_.StaminaUp=2]="StaminaUp",_[_.PowerUp=3]="PowerUp",_[_.GutsUp=4]="GutsUp",_[_.WisdomUp=5]="WisdomUp",_[_.Recovery=9]="Recovery",_[_.MultiplyStartDelay=10]="MultiplyStartDelay",_[_.SetStartDelay=14]="SetStartDelay",_[_.CurrentSpeed=21]="CurrentSpeed",_[_.CurrentSpeedWithNaturalDeceleration=22]="CurrentSpeedWithNaturalDeceleration",_[_.TargetSpeed=27]="TargetSpeed",_[_.LaneMovementSpeed=28]="LaneMovementSpeed",_[_.Accel=31]="Accel",_[_.ChangeLane=35]="ChangeLane",_[_.ActivateRandomGold=37]="ActivateRandomGold",_[_.ExtendEvolvedDuration=42]="ExtendEvolvedDuration",_))(Qo||{});function vu(e){}var qn=class{constructor(t){this.conditionValues=new Map;this.conditions=new Map;this.horse=Object.assign({},t.horse),this.course=t.course,this.hp=t.hp,this.rng=t.rng,this.pendingSkills=t.skills.slice(),this.pendingRemoval=new Set,this.usedSkills=new Set,this.syncRng=new Ut(this.rng.int32()),this.gorosiRng=new Ut(this.rng.int32()),this.rushedRng=new Ut(this.rng.int32()),this.downhillRng=new Ut(this.rng.int32()),this.wisdomRollRng=new Ut(this.rng.int32()),this.timers=[],this.conditionTimer=this.getNewTimer(-1),this.accumulatetime=this.getNewTimer(),this.gateRoll=this.rng.uniform(12252240),this.randomLot=this.rng.uniform(100),this.phase=0,this.nextPhaseTransition=S.phaseStart(this.course.distance,1),this.activeTargetSpeedSkills=[],this.activeCurrentSpeedSkills=[],this.activeAccelSkills=[],this.activeLaneMovementSkills=[],this.activeChangeLaneSkills=[],this.activateCount=[0,0,0],this.activateCountHeal=0,this.onSkillActivate=t.onSkillActivate||vu,this.onSkillDeactivate=t.onSkillDeactivate||vu,this.sectionLength=this.course.distance/24,this.posKeepMinThreshold=Xo.minThreshold(this.horse.strategy,this.course.distance),this.posKeepMaxThreshold=Xo.maxThreshold(this.horse.strategy,this.course.distance),this.posKeepNextTimer=this.getNewTimer(),this.positionKeepState=0,this.posKeepMode=t.posKeepMode||0,this.posKeepStrategy=this.horse.strategy,this.posKeepEnd=this.sectionLength*10,this.posKeepSpeedCoef=1,this.isPacer=t.isPacer||!1,this.pacerOverride=!1,this.umas=[],this.pacer=null,this.speedUpProbability=t.speedUpProbability!=null?t.speedUpProbability:100,this.isRushed=!1,this.hasBeenRushed=!1,this.rushedSection=-1,this.rushedEnterPosition=-1,this.rushedTimer=this.getNewTimer(),this.rushedMaxDuration=12,this.isDownhillMode=!1,this.disableDownhill=t.disableDownhill||!1,this.downhillModeStart=null,this.lastDownhillCheckFrame=0,this.skillCheckChance=t.skillCheckChance!==!1,this.rushedActivations=[],this.positionKeepActivations=[],this.firstUmaInLateRace=!1,this.hpDied=!1,this.fullSpurt=!1,this.initRushedState(t.disableRushed||!1),this.competeFight=!1,this.competeFightStart=null,this.competeFightEnd=null,this.competeFightTimer=this.getNewTimer(),this.leadCompetition=!1,this.leadCompetitionStart=null,this.leadCompetitionEnd=null,this.leadCompetitionTimer=this.getNewTimer();let r=this.gateRoll%9,i=(r<9?r:1+(24-r)%8)*this.course.horseLane;this.currentLane=i,this.targetLane=i,this.laneChangeSpeed=0,this.extraMoveLane=-1,this.forceInSpeed=0,this.modifiers={targetSpeed:new zn(0),currentSpeed:new zn(0),accel:new zn(0),oneFrameAccel:0,specialSkillDurationScaling:1},this.initHills(),this.startDelay=.1*(this.posKeepMode===2?this.rng.random():this.syncRng.random()),this.pos=0,this.accel=0,this.currentSpeed=3,this.targetSpeed=.85*cr(this.course),this.processSkillActivations(),this.minSpeed=.85*cr(this.course)+Math.sqrt(200*this.horse.guts)*.001,this.startDash=!0,this.modifiers.accel.add(24),this.startDelayAccumulator=this.startDelay,this.baseTargetSpeed=[0,1,2].map(a=>Su(this.horse,this.course,a)),this.lastSpurtSpeed=Nd(this.horse,this.course),this.lastSpurtTransition=-1,this.sectionModifier=Array.from({length:24},()=>{if(t.disableSectionModifier)return 0;let o=(this.horse.wisdom/5500*Math.log10(this.horse.wisdom*.1)-.65+this.wisdomRollRng.random()*.65)/100;return cr(this.course)*o}),this.sectionModifier.push(0),this.hp.init(this.horse),this.baseAccel=[0,1,2,0,1,2].map((a,o)=>Kd(o>2?Ud:Hd,this.horse,a)),this.registerBlockedSideCondition()}registerBlockedSideCondition(){let t=[{condition:new sr("Outer lane",0,0),predicate:n=>{let i=n.simulation,a=Math.floor(i.pos/i.sectionLength);return a>=1&&a<=3&&i.currentLane>3*this.course.horseLane}},{condition:new sr("Early race",.1,.85),predicate:n=>n.simulation.phase===0},{condition:new sr("Mid race",.08,.75),predicate:n=>n.simulation.phase===1},{condition:new sr("Other",.07,.5),predicate:null}],r=new xi("blocked_side",t,1);this.registerCondition("blocked_side",r)}initUmas(t){this.umas=[...t.filter(r=>r!=null),this]}initHills(){(0,bu.strict)(S.isSortedByStart(this.course.slopes),"slopes must be sorted by start location"),this.nHills=this.course.slopes.length,this.hillStart=this.course.slopes.map(t=>t.start).reverse(),this.hillEnd=this.course.slopes.map(t=>t.start+t.length).reverse(),this.hillIdx=-1,this.hillStart.length>0&&this.hillStart[this.hillStart.length-1]==0&&(this.course.slopes[0].slope>100?this.hillIdx=0:this.hillEnd.pop(),this.hillStart.pop())}getNewTimer(t=0){let r=new Zo(t);return this.timers.push(r),r}initRushedState(t){if(t)return;let r=this.horse.wisdom,n=Math.pow(6.5/Math.log10(.1*r+1),2)/100,i=this.pendingSkills.some(o=>o.skillId==="202161"),a=Math.max(0,n-(i?.03:0));this.rushedRng.random()<a&&(this.rushedSection=2+this.rushedRng.uniform(8),this.rushedEnterPosition=this.sectionLength*this.rushedSection)}updateRushedState(){if(this.rushedSection>=0&&!this.isRushed&&!this.hasBeenRushed&&this.pos>=this.rushedEnterPosition&&(this.isRushed=!0,this.hasBeenRushed=!0,this.rushedTimer.t=0,this.rushedActivations.push([this.pos,-1])),this.isRushed){if(this.rushedTimer.t>0&&Math.floor(this.rushedTimer.t/3)>Math.floor((this.rushedTimer.t-.017)/3)&&this.rng.random()<.55){this.endRushedState();return}this.rushedTimer.t>=this.rushedMaxDuration&&this.endRushedState()}}endRushedState(){if(this.isRushed=!1,this.rushedActivations.length>0){let t=this.rushedActivations.length-1;this.rushedActivations[t][1]===-1&&(this.rushedActivations[t][1]=this.pos)}}getMaxSpeed(){return this.startDash?Math.min(this.targetSpeed,.85*cr(this.course)):this.currentSpeed+this.modifiers.oneFrameAccel>this.targetSpeed?9999:this.targetSpeed}logVelocityData(t){console.log("frame: ",this.accumulatetime.t),console.log("current speed: ",this.currentSpeed),console.log("accel: ",this.accel),console.log("dist:",this.pos),console.log("--------------------------------")}step(t){let r=t;if(this.timers.forEach(i=>i.t+=t),this.conditionTimer.t>=0&&(this.tickConditions(),this.conditionTimer.t=-1),this.startDelayAccumulator>0&&(this.startDelayAccumulator-=t,this.startDelayAccumulator>0))return;this.updateHills(),this.updatePhase(),this.updateRushedState(),this.updateDownhillMode(),this.processSkillActivations(),this.applyPositionKeepStates(),this.updatePositionKeepCoefficient(),this.updateLeadCompetition(),this.updateLastSpurtState(),this.updateTargetSpeed(),this.applyForces(),this.applyLaneMovement(),this.currentSpeed=Math.min(this.currentSpeed+this.accel*t,this.getMaxSpeed()),!this.startDash&&this.currentSpeed<this.minSpeed&&(this.currentSpeed=this.minSpeed);let n=this.currentSpeed+this.modifiers.currentSpeed.acc+this.modifiers.currentSpeed.err;this.startDelayAccumulator<0&&(r=Math.abs(this.startDelayAccumulator),this.startDelayAccumulator=0),this.pos+=n*r,this.hp.tick(this,t),!this.hp.hasRemainingHp()&&!this.hpDied&&(this.hpDied=!0),this.startDash&&this.currentSpeed>=.85*cr(this.course)&&(this.startDash=!1,this.modifiers.accel.add(-24)),this.modifiers.oneFrameAccel=0}applyLaneMovement(){let t=this.currentLane,r=this.getConditionValue("blocked_side")===1;if(this.extraMoveLane<0&&this.isAfterFinalCornerOrInFinalStraight()&&(this.extraMoveLane=Math.min(t/.1,this.course.maxLaneDistance)*.5+this.rng.random()*.1),this.activeChangeLaneSkills.length>0?this.targetLane=9.5*this.course.horseLane:this.hp.hasRemainingHp()?this.positionKeepState===2?this.targetLane=.18:this.extraMoveLane>t?this.targetLane=this.extraMoveLane:this.phase<=1&&!r?this.targetLane=Math.max(0,t-.05):this.targetLane=t:this.targetLane=t,r&&this.targetLane<t||Math.abs(this.targetLane-t)<1e-5)this.laneChangeSpeed=0;else{let n=.02*(.3+.001*this.horse.power);this.pos<this.course.moveLanePoint&&(n*=1+t/this.course.maxLaneDistance*.05),this.laneChangeSpeed=Math.min(this.laneChangeSpeed+this.course.laneChangeAccelerationPerFrame,n);let i=Math.min(this.laneChangeSpeed+this.activeLaneMovementSkills.reduce((a,o)=>a+o.modifier,0),.6);this.targetLane>t?this.currentLane=Math.min(this.targetLane,t+i):this.currentLane=Math.max(this.targetLane,t-i*(1+t))}}updatePacer(t){this.pacer=t}getPacer(){for(let a of[5,1]){var t=this.umas.filter(o=>o.posKeepStrategy===a);if(t.length>0){var r=t.reduce((o,s)=>s.pos>o.pos?s:o,t[0]);return r}}var n=this.umas.find(a=>a.pacerOverride);if(n)return n;for(let a of[2,3,4]){var t=this.umas.filter(s=>Ht.strategyMatches(s.posKeepStrategy,a));if(t.length>0){var r=t.reduce((c,u)=>u.pos>c.pos?u:c,t[0]);return r.pacerOverride=!0,r.posKeepStrategy=1,r}}var i=this.umas.find(a=>a.isPacer);if(i)return i.posKeepStrategy=1,i}getUmaByDistanceDescending(){return this.umas.sort((t,r)=>r.pos-t.pos)}isOnlyFrontRunner(){var t=this.umas.filter(r=>Ht.strategyMatches(r.posKeepStrategy,1));return t.length===1&&t[0]===this}speedUpOvertakeWitCheck(){return(this.posKeepMode===2?this.rng.random():this.syncRng.random())<.2*Math.log10(.1*this.horse.wisdom)}paceUpWitCheck(){return(this.posKeepMode===2?this.rng.random():this.syncRng.random())<.15*Math.log10(.1*this.horse.wisdom)}applyPositionKeepStates(){if(this.pos>=this.posKeepEnd||this.posKeepMode===0){this.positionKeepState!==0&&this.positionKeepActivations.length>0&&(this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos),this.positionKeepState=0;return}if(this.pacer){var t=this.pacer,r=t.pos-this.pos,n=this.posKeepStrategy;switch(this.positionKeepState){case 0:if(this.posKeepNextTimer.t<0)return;if(Ht.strategyMatches(n,1))if(t===this){var i=this.getUmaByDistanceDescending(),a=i[1],o=t.pos-a.pos;let s=n===5?17.5:4.5;if(this.posKeepNextTimer.t<0)return;o<s&&this.speedUpOvertakeWitCheck()&&(this.positionKeepActivations.push([this.pos,0,3]),this.positionKeepState=3,this.posKeepExitPosition=this.pos+Math.floor(this.sectionLength))}else this.speedUpOvertakeWitCheck()&&(this.positionKeepState=4,this.positionKeepActivations.push([this.pos,0,4]));else r>this.posKeepMaxThreshold?this.paceUpWitCheck()&&(this.positionKeepState=1,this.positionKeepActivations.push([this.pos,0,1]),this.posKeepExitDistance=this.syncRng.random()*(this.posKeepMaxThreshold-this.posKeepMinThreshold)+this.posKeepMinThreshold):r<this.posKeepMinThreshold&&this.activeTargetSpeedSkills.length==0&&this.activeCurrentSpeedSkills.length==0&&(this.positionKeepState=2,this.positionKeepActivations.push([this.pos,0,2]),this.posKeepExitDistance=this.syncRng.random()*(this.posKeepMaxThreshold-this.posKeepMinThreshold)+this.posKeepMinThreshold);this.positionKeepState==0?this.posKeepNextTimer.t=-2:this.posKeepExitPosition=this.pos+Math.floor(this.sectionLength);break;case 3:if(this.pos>=this.posKeepExitPosition)this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3;else if(t==this){var i=this.getUmaByDistanceDescending(),a=i[1],o=t.pos-a.pos;let d=n===5?17.5:4.5;o>=d&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3)}break;case 4:if(this.pos>=this.posKeepExitPosition)this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3;else if(t==this){var i=this.getUmaByDistanceDescending(),a=i[1],o=this.pos-a.pos;let d=n===5?27.5:10;o>=d&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3)}break;case 1:this.pos>=this.posKeepExitPosition?(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3):r<this.posKeepExitDistance&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3);break;case 2:this.pos>=this.posKeepExitPosition?(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3):(r>this.posKeepExitDistance||this.activeTargetSpeedSkills.length>0||this.activeCurrentSpeedSkills.length>0)&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3);break;default:break}}}updatePositionKeepCoefficient(){switch(this.positionKeepState){case 3:this.posKeepSpeedCoef=1.04;break;case 4:this.posKeepSpeedCoef=1.05;case 1:this.posKeepSpeedCoef=1.04;break;case 2:this.posKeepSpeedCoef=.915;break;default:this.posKeepSpeedCoef=1;break}}isOnFinalStraight(){let t=this.course.straights[this.course.straights.length-1];return this.pos>=t.start&&this.pos<=t.end}isAfterFinalCorner(){let t=this.course.corners.length>0?this.course.corners[this.course.corners.length-1].start:1/0;return this.pos>=t}isAfterFinalCornerOrInFinalStraight(){return this.isAfterFinalCorner()||this.isOnFinalStraight()}updateCompeteFight(){if(this.competeFight){this.hp.hpRatioRemaining()<=.05&&(this.competeFight=!1,this.competeFightEnd=this.pos);return}Ht.strategyMatches(this.posKeepStrategy,1)||this.hp.hpRatioRemaining()<.15||!this.isOnFinalStraight()||this.competeFightTimer.t>=2&&(this.competeFight=!0,this.competeFightStart=this.pos)}updateLeadCompetition(){if(this.leadCompetition){let t=Math.pow(700*this.horse.guts,.5)*.012;(this.leadCompetitionTimer.t>=t||this.pos>=this.leadCompetitionEnd)&&(this.leadCompetition=!1,this.leadCompetitionEnd=this.pos)}if(this.leadCompetitionStart===null&&this.pos>=150&&this.pos<=Math.floor(this.sectionLength*5)&&Ht.strategyMatches(this.posKeepStrategy,1)){let t=this.umas.filter(i=>i.posKeepStrategy===this.posKeepStrategy),r=this.posKeepStrategy===1?3.75:5,n=t.filter(i=>Math.abs(i.pos-this.pos)<=r);if(n.length>=2)for(let i of n)i.leadCompetitionTimer.t=0,i.leadCompetition=!0,i.leadCompetitionStart=i.pos,i.leadCompetitionEnd=i.pos+Math.floor(this.sectionLength*8)}}updatefirstUmaInLateRace(){if(this.umas.find(n=>n.firstUmaInLateRace))return;let r=this.getUmaByDistanceDescending()[0];r.pos<this.course.distance*2/3||(r.firstUmaInLateRace=!0)}updateLastSpurtState(){if(!(this.isLastSpurt||this.phase<2)){if(this.lastSpurtTransition==-1){let t=this.hp.getLastSpurtPair(this,this.lastSpurtSpeed,this.baseTargetSpeed[2]);this.lastSpurtTransition=t[0],this.lastSpurtSpeed=t[1],this.hp.isMaxSpurt&&this.hp.isMaxSpurt()&&(this.fullSpurt=!0)}this.pos>=this.lastSpurtTransition&&(this.isLastSpurt=!0)}}updateDownhillMode(){let t=Math.floor(this.accumulatetime.t*15);if(!(t%15===14)||t===this.lastDownhillCheckFrame)return;this.lastDownhillCheckFrame=t;let n=this.course.slopes.find(a=>this.pos>=a.start&&this.pos<=a.start+a.length),i=n&&n.slope<-1;if(!this.disableDownhill&&i){let a=this.posKeepMode===2&&!this.pacer?this.syncRng.random():this.downhillRng.random();this.downhillModeStart===null?a<this.horse.wisdom*4e-4&&(this.downhillModeStart=t,this.isDownhillMode=!0):a<.2&&(this.downhillModeStart=null,this.isDownhillMode=!1)}else this.isDownhillMode&&(this.downhillModeStart=null,this.isDownhillMode=!1)}updateTargetSpeed(){if(this.hp.hasRemainingHp()?this.isLastSpurt?this.targetSpeed=this.lastSpurtSpeed:(this.targetSpeed=this.baseTargetSpeed[this.phase]*this.posKeepSpeedCoef,this.targetSpeed+=this.sectionModifier[Math.floor(this.pos/this.sectionLength)]):this.targetSpeed=this.minSpeed,this.targetSpeed+=this.modifiers.targetSpeed.acc+this.modifiers.targetSpeed.err,this.hillIdx!=-1&&(this.targetSpeed-=this.course.slopes[this.hillIdx].slope/1e4*200/this.horse.power,this.targetSpeed=Math.max(this.targetSpeed,this.minSpeed)),this.competeFight&&(this.targetSpeed+=Math.pow(200*this.horse.guts,.709)*1e-4),this.leadCompetition&&(this.targetSpeed+=Math.pow(500*this.horse.guts,.6)*1e-4),this.isDownhillMode){let t=this.course.slopes.find(r=>this.pos>=r.start&&this.pos<=r.start+r.length);if(t){let r=.3+Math.abs(t.slope/1e4)/10;this.targetSpeed+=r}}if(this.laneChangeSpeed>0&&this.activeLaneMovementSkills.length>0){let t=Math.sqrt(2e-4*this.horse.power);this.targetSpeed+=t}}applyForces(){if(!this.hp.hasRemainingHp()){this.accel=-1.2;return}if(this.currentSpeed>this.targetSpeed){this.accel=this.positionKeepState===2?-.5:jd[this.phase];return}this.accel=this.baseAccel[+(this.hillIdx!=-1)*3+this.phase],this.accel+=this.modifiers.accel.acc+this.modifiers.accel.err,this.competeFight&&(this.accel+=Math.pow(160*this.horse.guts,.59)*1e-4)}updateHills(){this.hillIdx==-1&&this.hillStart.length>0&&this.pos>=this.hillStart[this.hillStart.length-1]?(this.course.slopes[this.nHills-this.hillStart.length].slope>100?this.hillIdx=this.nHills-this.hillStart.length:this.hillEnd.pop(),this.hillStart.pop()):this.hillIdx!=-1&&this.hillEnd.length>0&&this.pos>this.hillEnd[this.hillEnd.length-1]&&(this.hillIdx=-1,this.hillEnd.pop())}updatePhase(){this.pos>=this.nextPhaseTransition&&this.phase<2&&(++this.phase,this.nextPhaseTransition=S.phaseStart(this.course.distance,this.phase+1))}processSkillActivations(){for(let t=this.activeTargetSpeedSkills.length;--t>=0;){let r=this.activeTargetSpeedSkills[t];r.durationTimer.t>=0&&(this.activeTargetSpeedSkills.splice(t,1),this.modifiers.targetSpeed.add(-r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeCurrentSpeedSkills.length;--t>=0;){let r=this.activeCurrentSpeedSkills[t];r.durationTimer.t>=0&&(this.activeCurrentSpeedSkills.splice(t,1),this.modifiers.currentSpeed.add(-r.modifier),r.naturalDeceleration&&(this.modifiers.oneFrameAccel+=r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeAccelSkills.length;--t>=0;){let r=this.activeAccelSkills[t];r.durationTimer.t>=0&&(this.activeAccelSkills.splice(t,1),this.modifiers.accel.add(-r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeLaneMovementSkills.length;--t>=0;){let r=this.activeLaneMovementSkills[t];r.durationTimer.t>=0&&(this.activeLaneMovementSkills.splice(t,1),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeChangeLaneSkills.length;--t>=0;){let r=this.activeChangeLaneSkills[t];r.durationTimer.t>=0&&(this.activeChangeLaneSkills.splice(t,1),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.pendingSkills.length;--t>=0;){let r=this.pendingSkills[t];this.pos>=r.trigger.end||this.pendingRemoval.has(r.skillId)?(this.pendingSkills.splice(t,1),this.pendingRemoval.delete(r.skillId)):this.pos>=r.trigger.start&&r.extraCondition(this)&&(this.skillCheckChance&&!this.shouldSkipWisdomCheck(r)&&!this.checkWisdomForSkill(r)?this.pendingSkills.splice(t,1):(this.activateSkill(r),this.pendingSkills.splice(t,1)))}}checkWisdomForSkill(t){let r=this.wisdomRollRng.random(),n=t.perspective===2&&t.originWisdom!==void 0?t.originWisdom:this.horse.wisdom,i=Math.max(100-9e3/n,20)*.01;return r<=i}shouldSkipWisdomCheck(t){return t.effects.length>0&&t.effects[0].type>=1&&t.effects[0].type<=5||t.rarity===3}activateSkill(t){t.effects.sort((r,n)=>+(r.type==42)-+(n.type==42)).forEach(r=>{let n=r.baseDuration*(this.course.distance/1e3)*(t.rarity==6?this.modifiers.specialSkillDurationScaling:1);switch(r.type){case 1:this.horse.speed=Math.max(this.horse.speed+r.modifier,1);break;case 2:this.horse.stamina=Math.max(this.horse.stamina+r.modifier,1),this.horse.rawStamina=Math.max(this.horse.rawStamina+r.modifier,1);break;case 3:this.horse.power=Math.max(this.horse.power+r.modifier,1);break;case 4:this.horse.guts=Math.max(this.horse.guts+r.modifier,1);break;case 5:this.horse.wisdom=Math.max(this.horse.wisdom+r.modifier,1);break;case 10:this.startDelay*=r.modifier;break;case 14:this.startDelay=r.modifier;break;case 27:this.modifiers.targetSpeed.add(r.modifier),this.activeTargetSpeedSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 31:this.modifiers.accel.add(r.modifier),this.activeAccelSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 28:this.activeLaneMovementSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 21:case 22:this.modifiers.currentSpeed.add(r.modifier),this.activeCurrentSpeedSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier,naturalDeceleration:r.type==22});break;case 9:++this.activateCountHeal,this.hp.recover(r.modifier,this),this.phase>=2&&!this.isLastSpurt&&this.updateLastSpurtState();break;case 37:this.doActivateRandomGold(r.modifier);break;case 42:this.modifiers.specialSkillDurationScaling=r.modifier;break;case 35:this.activeChangeLaneSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break}}),++this.activateCount[this.phase],this.usedSkills.add(t.skillId),this.onSkillActivate(this,t.skillId,t.perspective)}doActivateRandomGold(t){let r=this.pendingSkills.reduce((n,i,a)=>((i.rarity==2||i.rarity==6)&&i.effects.every(o=>o.type>5)&&n.push(a),n),[]);for(let n=r.length;--n>=0;){let i=this.gorosiRng.uniform(n+1);[r[n],r[i]]=[r[i],r[n]]}for(let n=0;n<Math.min(t,r.length);++n){let i=this.pendingSkills[r[n]];this.activateSkill(i),this.pendingRemoval.add(i.skillId)}}cleanup(){let t=r=>{this.onSkillDeactivate(this,r.skillId,r.perspective)};this.activeTargetSpeedSkills.forEach(t),this.activeCurrentSpeedSkills.forEach(t),this.activeAccelSkills.forEach(t),this.activeLaneMovementSkills.forEach(t),this.activeChangeLaneSkills.forEach(t)}registerCondition(t,r){this.conditions.set(t,r),this.conditionValues.has(t)||this.conditionValues.set(t,r.valueOnStart)}getConditionValue(t){if(!this.conditionValues.has(t)){if(this.conditions.has(t))return this.conditions.get(t).valueOnStart;throw new Error(`Condition "${t}" is not registered`)}return this.conditionValues.get(t)}tickConditions(){let t={simulation:this};for(let[r,n]of this.conditions.entries()){let i=this.conditionValues.get(r)??n.valueOnStart,a=n.update(t,i);this.conditionValues.set(r,a)}}};Li();var L=Jn(An());Li();Ni();function Ui(e){return!0}function Gr(e){return e instanceof z?[e,Ui]:e}var Ki=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterEq(t,this.argument,r,n,i))}},ji=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterNeq(t,this.argument,r,n,i))}},Bi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterLt(t,this.argument,r,n,i))}},Fi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterLte(t,this.argument,r,n,i))}},Gi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterGt(t,this.argument,r,n,i))}},Wi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Gr(this.condition.filterGte(t,this.argument,r,n,i))}},Yi=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[a,o]=this.left.apply(t,r,n,i),[s,c]=this.right.apply(a,r,n,i);return o===Ui&&c===Ui?[s,Ui]:[s,u=>o(u)&&c(u)]}},Ji=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[a,o]=this.left.apply(t,r,n,i),[s,c]=this.right.apply(t,r,n,i);return[a.union(s),u=>o(u)||c(u)]}};function K(e,t,r,n,i){throw(0,L.strict)(!1,"unsupported comparison"),0}function jr(e,t,r,n,i){return e}var Vi=Object.freeze({filterEq:jr,filterNeq:jr,filterLt:jr,filterLte:jr,filterGt:jr,filterGte:jr}),Kt=Object.freeze(Object.assign({samplePolicy:Oe},Vi)),wu=Object.freeze(Object.assign({samplePolicy:zi},Vi)),Fd=Object.freeze({samplePolicy:Oe,filterEq:K,filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K});function N(e){return Object.assign({},Fd,e)}var Gd=Object.freeze({samplePolicy:zi,filterEq:K,filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K});function Pt(e){return Object.assign({},Gd,e)}function es(e){let t=Object.create(null);return function(...r){let n=r.pop(),i=r.join(","),a=i in t?t[i]:t[i]=Object.freeze(new e(...r));return Object.assign({samplePolicy:a,filterEq:K,filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K},n)}}var ip=es(Hn),Fr=es(Un),Mu=es(Nn);function jt(e,t){return Fr(e,t,Vi)}var ap=Mu(Vi);function Tu(e,t,r,n,i){return e}function Br(e,t){function r(n,i,a,o,s){let c=new I(e*(a.distance/24),t*(a.distance/24));return n.rmap(u=>u.intersect(c))}return Pt({filterEq:r,filterNeq:r,filterLt:r,filterLte:r,filterGt:r,filterGte:r})}function _t(e){return N({filterEq(t,r,n,i,a){return e(n,i,a)==r?t:new z},filterNeq(t,r,n,i,a){return e(n,i,a)!=r?t:new z},filterLt(t,r,n,i,a){return e(n,i,a)<r?t:new z},filterLte(t,r,n,i,a){return e(n,i,a)<=r?t:new z},filterGt(t,r,n,i,a){return e(n,i,a)>r?t:new z},filterGte(t,r,n,i,a){return e(n,i,a)>=r?t:new z}})}function Cu(e){return N({filterEq(t,r,n,i,a){if(a.orderRange!=null){let o=e(r,a.numUmas);return o>=a.orderRange[0]&&o<=a.orderRange[1]?t:new z}return t},filterNeq(t,r,n,i,a){if(a.orderRange!=null){let o=e(r,a.numUmas);return o<a.orderRange[0]||o>a.orderRange[1]?t:new z}return t},filterLt(t,r,n,i,a){if(a.orderRange!=null){(0,L.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]);let o=new I(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,a.numUmas);return a.orderRange[0]<s?t:t.rmap(c=>c.intersect(o))}return t},filterLte(t,r,n,i,a){if(a.orderRange!=null){(0,L.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]);let o=new I(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,a.numUmas);return a.orderRange[0]<=s?t:t.rmap(c=>c.intersect(o))}return t},filterGt(t,r,n,i,a){return a.orderRange!=null?((0,L.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),e(r,a.numUmas)<a.orderRange[1]?t:new z):t},filterGte(t,r,n,i,a){return a.orderRange!=null?((0,L.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),e(r,a.numUmas)<=a.orderRange[1]?t:new z):t}})}function ts(e){return N({filterEq(t,r,n,i,a){return(0,L.strict)(r==1,"must be order_rate_inXX_continue==1"),a.orderRange!=null?((0,L.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]),a.orderRange[0]<=Math.round(e*a.numUmas)?t:new z):t}})}function Hi(e){return N({filterEq(t,r,n,i,a){return(0,L.strict)(r==1,"must be order_rate_outXX_continue==1"),a.orderRange!=null?((0,L.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),Math.round(e*a.numUmas)<=a.orderRange[1]?t:new z):t}})}var Xi=Object.freeze({accumulatetime:N({filterGte(e,t,r,n,i){return[e,a=>a.accumulatetime.t>=t]}}),activate_count_all:N({filterLte(e,t,r,n,i){return[e,a=>a.activateCount.reduce((o,s)=>o+s)<=t]},filterGte(e,t,r,n,i){return[e,a=>a.activateCount.reduce((o,s)=>o+s)>=t]}}),activate_count_end_after:N({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[2]>=t]}}),activate_count_heal:N({filterGte(e,t,r,n,i){return[e,a=>a.activateCountHeal>=t]}}),activate_count_middle:N({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[1]>=t]}}),activate_count_start:N({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[0]>=t]}}),all_corner_random:{samplePolicy:$o,filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be all_corner_random==1");let a=r.corners.map(o=>new I(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))},filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K},always:Kt,base_power:_t((e,t,r)=>t.power),base_speed:_t((e,t,r)=>t.speed),base_stamina:_t((e,t,r)=>t.stamina),base_guts:_t((e,t,r)=>t.guts),base_wiz:_t((e,t,r)=>t.wisdom),bashin_diff_behind:jt(3,2),bashin_diff_infront:jt(3,2),behind_near_lane_time:jt(3,2),behind_near_lane_time_set1:jt(3,2),blocked_all_continuetime:jt(3,2),blocked_front:jt(3,2),blocked_front_continuetime:Fr(3,2,{filterGte:Tu}),blocked_side_continuetime:Fr(3,2,{filterGte:Tu}),change_order_onetime:jt(3,2),change_order_up_end_after:Fr(3,2,{filterGte(e,t,r,n,i){let a=new I(S.phaseStart(r.distance,2),r.distance);return e.rmap(o=>o.intersect(a))}}),change_order_up_finalcorner_after:Fr(3,2,{filterGte(e,t,r,n,i){if((0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new z;let a=r.corners[r.corners.length-1].start,o=new I(a,r.distance);return e.rmap(s=>s.intersect(o))}}),change_order_up_middle:Fr(3,2,{filterGte(e,t,r,n,i){let a=new I(S.phaseStart(r.distance,1),S.phaseEnd(r.distance,1));return e.rmap(o=>o.intersect(a))}}),compete_fight_count:Mu({filterGt(e,t,r,n,i){(0,L.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1];return e.rmap(o=>o.intersect(a))}}),corner:N({filterEq(e,t,r,n,i){if((0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),t==0){let a=0,o=r.corners.map(s=>{let c=new I(a,s.start);return a=s.start+s.length,c});return a!=r.distance&&o.push(new I(a,r.distance)),e.rmap(s=>o.map(c=>s.intersect(c)))}else if(r.corners.length+t>=5){let a=[];for(let o=r.corners.length+t-5;o>=0;o-=4){let s=r.corners[o];a.push(new I(s.start,s.start+s.length))}return a.reverse(),e.rmap(o=>a.map(s=>o.intersect(s)))}else return new z},filterNeq(e,t,r,n,i){(0,L.strict)(t==0,"only supports corner!=0");let a=r.corners.map(o=>new I(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),corner_count:_t((e,t,r)=>e.corners.length),corner_random:Pt({filterEq(e,t,r,n,i){if((0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),["200331","200332","200333","200341","200342","200343","200351","200352","200353","200971","200972","201041","201042","201111","201112","201181","201182","201251","201252","201321","201322","201391","201392","201461","201462"].indexOf(i.skillId)>-1)if(t==1){let a=r.corners[Math.max(r.corners.length-4,0)],o=new I(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}else return new z;if(r.corners.length+t>=5){let a=r.corners[r.corners.length+t-5],o=new I(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}else return new z}}),course_distance:_t((e,t,r)=>e.distance),distance_diff_rate:Kt,distance_diff_top:Kt,distance_diff_top_float:Kt,distance_rate:N({filterLte(e,t,r,n,i){let a=new I(0,r.distance*t/100);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){let a=new I(r.distance*t/100,r.distance);return e.rmap(o=>o.intersect(a))}}),distance_rate_after_random:Pt({filterEq(e,t,r,n,i){let a=new I(r.distance*t/100,r.distance);return e.rmap(o=>o.intersect(a))}}),distance_type:N({filterEq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType==t?e:new z},filterNeq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType!=t?e:new z}}),down_slope_random:Pt({filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be down_slope_random==1");let a=r.slopes.filter(o=>o.slope<0).map(o=>new I(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),grade:_t((e,t,r)=>r.grade),ground_condition:_t((e,t,r)=>r.groundCondition),ground_type:_t((e,t,r)=>e.surface),hp_per:N({filterLte(e,t,r,n,i){return t/=100,[e,a=>a.hp.hpRatioRemaining()<=t]},filterGte(e,t,r,n,i){return t/=100,[e,a=>a.hp.hpRatioRemaining()>=t]}}),infront_near_lane_time:jt(3,2),is_activate_other_skill_detail:N({filterEq(e,t,r,n,i){return(0,L.strict)(t==1,"must be is_activate_other_skill_detail==1"),[e,a=>a.usedSkills.has(i.skillId)]}}),is_basis_distance:N({filterEq(e,t,r,n,i){return(0,L.strict)(t==0||t==1,"must be is_basis_distance==0 or is_basis_distance==1"),Math.min(r.distance%400,1)!=t?e:new z}}),is_badstart:N({filterEq(e,t,r,n,i){return(0,L.strict)(t==0||t==1,"must be is_badstart==0 or is_badstart==1"),[e,t?o=>o.startDelay>.08:o=>o.startDelay<=.08]}}),is_behind_in:Kt,is_dirtgrade:N({filterEq(e,t,r,n,i){return(0,L.strict)(t==1,"must be is_dirtgrade==1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)>-1?e:new z},filterNeq(e,t,r,n,i){return(0,L.strict)(t==1,"must be is_dirtgrade!=1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)==-1?e:new z}}),is_finalcorner:N({filterEq(e,t,r,n,i){if((0,L.strict)(t==0||t==1,"must be is_finalcorner==0 or is_finalcorner==1"),(0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new z;let a=r.corners[r.corners.length-1].start,o=t?new I(a,r.distance):new I(0,a);return e.rmap(s=>s.intersect(o))}}),is_finalcorner_laterhalf:N({filterEq(e,t,r,n,i){if((0,L.strict)(t==1,"must be is_finalcorner_laterhalf==1"),(0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new z;let a=r.corners[r.corners.length-1],o=new I((a.start+a.start+a.length)/2,a.start+a.length);return e.rmap(s=>s.intersect(o))}}),is_finalcorner_random:Pt({filterEq(e,t,r,n,i){if((0,L.strict)(t==1,"must be is_finalcorner_random==1"),(0,L.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new z;let a=r.corners[r.corners.length-1],o=new I(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}}),is_hp_empty_onetime:N({filterEq(e,t,r,n,i){return(0,L.strict)(t==1,"must be is_hp_empty_onetime==1"),[e,a=>!a.hp.hasRemainingHp()]}}),is_lastspurt:N({filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be is_lastspurt==1");let a=new I(S.phaseStart(r.distance,2),r.distance);return[e.rmap(o=>o.intersect(a)),o=>o.isLastSpurt]}}),is_last_straight:N({filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be is_last_straight_onetime==1"),(0,L.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1];return e.rmap(o=>o.intersect(a))}}),is_last_straight_onetime:N({filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be is_last_straight_onetime==1"),(0,L.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1].start,o=new I(a,a+10);return e.rmap(s=>s.intersect(o))}}),is_move_lane:jt(5,1),is_overtake:jt(1,2),is_surrounded:jt(3,2),is_temptation:Kt,is_used_skill_id:N({filterEq(e,t,r,n,i){return[e,a=>a.usedSkills.has(""+t)]}}),lane_type:Kt,lastspurt:N({filterEq(e,t,r,n,i){let a;switch(t){case 1:a=s=>s.isLastSpurt&&s.lastSpurtTransition!=-1;break;case 2:a=s=>s.isLastSpurt&&s.lastSpurtTransition==-1;break;case 3:a=s=>!s.isLastSpurt;break;default:(0,L.strict)(1<=t&&t<=3,"lastspurt case must be 1-3")}let o=new I(S.phaseStart(r.distance,2),r.distance);return[e.rmap(s=>s.intersect(o)),a]}}),motivation:_t((e,t,r)=>r.mood+3),near_count:jt(3,2),order:Cu((e,t)=>e),order_rate:Cu((e,t)=>Math.round(t*(e/100))),order_rate_in20_continue:ts(.2),order_rate_in40_continue:ts(.4),order_rate_in80_continue:ts(.8),order_rate_out20_continue:Hi(.2),order_rate_out40_continue:Hi(.4),order_rate_out50_continue:Hi(.5),order_rate_out70_continue:Hi(.7),overtake_target_no_order_up_time:jt(3,2),overtake_target_time:jt(3,2),phase:{samplePolicy:Oe,filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=["100591","900591","110261","910261","110191","910191","120451","920451","101502121"].indexOf(i.skillId)>-1?10:0,o=new I(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t)+a);return e.rmap(s=>s.intersect(o))},filterNeq:K,filterLt(e,t,r,n,i){S.assertIsPhase(t),(0,L.strict)(t>0,"phase == 0");let a=new I(0,S.phaseStart(r.distance,t));return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){S.assertIsPhase(t);let a=new I(0,S.phaseEnd(r.distance,t));return e.rmap(o=>o.intersect(a))},filterGt(e,t,r,n,i){S.assertIsPhase(t),(0,L.strict)(t<3,"phase > 2");let a=new I(S.phaseStart(r.distance,t+1),r.distance);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){S.assertIsPhase(t);let a=new I(S.phaseStart(r.distance,t),r.distance);return e.rmap(o=>o.intersect(a))}},phase_corner_random:Pt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=r.corners.filter(c=>c.start>=a&&c.start<o||c.start+c.length>=a&&c.start+c.length<o).map(c=>new I(Math.max(c.start,a),Math.min(c.start+c.length,o)));return e.rmap(c=>s.map(u=>c.intersect(u)))}}),phase_firsthalf:N({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new I(a,a+(o-a)/2);return e.rmap(c=>c.intersect(s))}}),phase_firsthalf_random:Pt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new I(a,a+(o-a)/2);return e.rmap(c=>c.intersect(s))}}),phase_firstquarter:N({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new I(a,a+(o-a)/4);return e.rmap(c=>c.intersect(s))}}),phase_firstquarter_random:Pt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new I(a,a+(o-a)/4);return e.rmap(c=>c.intersect(s))}}),phase_laterhalf_random:Pt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new I((a+o)/2,o);return e.rmap(c=>c.intersect(s))}}),phase_random:Pt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=new I(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(o=>o.intersect(a))}}),phase_straight_random:{samplePolicy:qi,filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=new I(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(o=>r.straights.map(s=>o.intersect(s))).rmap(o=>o.intersect(a))},filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K},popularity:Kt,post_number:function(){function e(t,r){let n=t.gateRoll%r;return n<9?n:1+(24-n)%8}return N({filterEq(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)==r]},filterLte(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)<=r]},filterGte(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)>=r]}})}(),random_lot:N({filterEq(e,t,r,n,i){return[e,a=>a.randomLot<t]}}),remain_distance:N({filterEq(e,t,r,n,i){let a=new I(r.distance-t,r.distance-t+1);return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){let a=new I(r.distance-t,r.distance);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){let a=new I(0,r.distance-t);return e.rmap(o=>o.intersect(a))}}),rotation:_t((e,t,r)=>e.turn),running_style:N({filterEq(e,t,r,n,i){return Ht.assertIsStrategy(t),Ht.strategyMatches(n.strategy,t)?e:new z}}),running_style_count_same:Kt,running_style_count_same_rate:Kt,running_style_count_nige_otherself:_t((e,t,r)=>+Ht.strategyMatches(t.strategy,1)),running_style_count_senko_otherself:_t((e,t,r)=>+Ht.strategyMatches(t.strategy,2)),running_style_count_sashi_otherself:_t((e,t,r)=>+Ht.strategyMatches(t.strategy,3)),running_style_count_oikomi_otherself:_t((e,t,r)=>+Ht.strategyMatches(t.strategy,4)),running_style_equal_popularity_one:Kt,running_style_temptation_count_nige:Br(2,9),running_style_temptation_count_senko:Br(2,9),running_style_temptation_count_sashi:Br(2,9),running_style_temptation_count_oikomi:Br(2,9),same_skill_horse_count:Kt,season:_t((e,t,r)=>r.season),slope:N({filterEq(e,t,r,n,i){(0,L.strict)(t==0||t==1||t==2,"slopeType"),(0,L.strict)(S.isSortedByStart(r.slopes),"course slopes must be sorted by slope start");let a=0,o=r.slopes.filter(c=>t!=2&&c.slope>0||t!=1&&c.slope<0),s=t==0?o.map(c=>{let u=new I(a,c.start);return a=c.start+c.length,u}):o.map(c=>new I(c.start,c.start+c.length));return t==0&&a!=r.distance&&s.push(new I(a,r.distance)),e.rmap(c=>s.map(u=>c.intersect(u)))}}),straight_front_type:N({filterEq(e,t,r,n,i){(0,L.strict)(t==1||t==2,"frontType");let a=r.straights.filter(o=>o.frontType==t);return e.rmap(o=>a.map(s=>o.intersect(s)))}}),straight_random:{samplePolicy:qi,filterEq(e,t,r,n,i){return(0,L.strict)(t==1,"must be straight_random==1"),e.rmap(a=>r.straights.map(o=>a.intersect(o)))},filterNeq:K,filterLt:K,filterLte:K,filterGt:K,filterGte:K},temptation_count:Kt,temptation_count_behind:Br(2,9),temptation_count_infront:Br(2,9),time:_t((e,t,r)=>r.time),track_id:_t((e,t,r)=>e.raceTrackId),up_slope_random:Pt({filterEq(e,t,r,n,i){(0,L.strict)(t==1,"must be up_slope_random==1");let a=r.slopes.filter(o=>o.slope>0).map(o=>new I(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),visiblehorse:Kt,weather:_t((e,t,r)=>r.weather)});Ni();var kt=class extends Error{constructor(t){super(t)}};function Du(e){return 97<=e&&e<=122||48<=e&&e<=57||e==95}var rs=class{constructor(t){this.lbp=0;this.value=t}led(t,r){throw new kt("unexpected integer literal")}nud(t){return{type:0,value:this.value}}};function ns(e=Xi,t={and:Yi,or:Ji,eq:Ki,neq:ji,lt:Bi,lte:Fi,gt:Gi,gte:Wi}){let r=Object.freeze({lbp:0,led:(g,y)=>{throw new kt("unexpected eof")},nud:g=>{throw new kt("unexpected eof")}});class n{constructor(y){this.lbp=0;this.value=y}led(y,v){throw new kt("unexpected identifier")}nud(y){return{type:1,cond:e[this.value]}}}class i{constructor(y,v){this.lbp=y;this.opclass=v}led(y,v){if(v.type!=1)throw new kt("expected condition on left hand side of comparison");let P=b(y,this.lbp);if(P.type!=0)throw new kt("expected number on right hand side of comparison");return{type:2,op:new this.opclass(v.cond,P.value)}}nud(y){throw new kt("expected expression")}}class a{constructor(y,v){this.lbp=y;this.opclass=v}led(y,v){if(v.type!=2)throw new kt("expected comparison on left hand side of operator");let P=b(y,this.lbp);if(P.type!=2)throw new kt("expected comparison on right hand side of operator");return{type:2,op:new this.opclass(v.op,P.op)}}nud(y){throw new kt("expected expression")}}let o=Object.freeze(new i(30,t.eq)),s=Object.freeze(new i(30,t.neq)),c=Object.freeze(new i(30,t.lt)),u=Object.freeze(new i(30,t.lte)),d=Object.freeze(new i(30,t.gt)),f=Object.freeze(new i(30,t.gte)),p=Object.freeze(new a(20,t.and)),l=Object.freeze(new a(10,t.or));function*h(g){for(var y=0;y<g.length;){var v=g.charCodeAt(y);if(48<=v&&v<=57){for(var P=0;48<=v&&v<=57;)P*=10,P+=v-48,v=g.charCodeAt(++y);yield new rs(P)}else if(Du(v)){for(var O=y;Du(v);)v=g.charCodeAt(++y);yield new n(g.slice(O,y))}else switch(g[y]){case"=":if(g[++y]!="=")throw new kt("expected =");++y,yield o;break;case"!":if(g[++y]!="=")throw new kt("expected =");++y,yield s;break;case"<":g[++y]=="="?(++y,yield u):yield c;break;case">":g[++y]=="="?(++y,yield f):yield d;break;case"@":yield l,++y;break;case"&":yield p,++y;break;default:throw new kt("invalid character")}}return r}function m(g){let y={current:r,next:g.next().value,tokens:g};return b(y,0)}function _(g){let y=m(g);if(y.type!=2)throw new kt("expected comparison or operator");return y.op}function b(g,y){g.current=g.next,g.next=g.tokens.next().value;for(var v=g.current.nud(g);y<g.next.lbp;)g.current=g.next,g.next=g.tokens.next().value,v=g.current.led(g,v);return v}return{tokenize:h,parse:_,parseAny:m}}var Ru={init(e){},tick(e,t){},hasRemainingHp(){return!0},hpRatioRemaining(){return 1},recover(e,t){},getLastSpurtPair(e,t,r){return[-1,t]}},Yd=Object.freeze([0,.95,.89,1,.995,.86]),Jd=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(e=>Object.freeze(e))),Zi=class{constructor(t,r,n){this.achievedMaxSpurt=!1;this.distance=t.distance,this.baseSpeed=20-(t.distance-2e3)/1e3,this.groundModifier=Jd[t.surface][r],this.rng=n,this.maxHp=1,this.hp=1,this.achievedMaxSpurt=!1}init(t){this.maxHp=.8*Yd[t.strategy]*t.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*t.guts),this.subparAcceptChance=Math.round((15+.05*t.wisdom)*1e3),this.achievedMaxSpurt=!1}getStatusModifier(t){let r=1;if(t.isDownhillMode&&(r*=.4),t.leadCompetition){let n=t.posKeepStrategy===5;t.isRushed?r*=n?7.7:3.6:r*=n?3.5:1.4}else t.isRushed&&(r*=1.6);return t.positionKeepState===2&&(r*=.6),r}hpPerSecond(t,r){let n=t.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(t)*this.groundModifier*n}tick(t,r){this.hp-=this.hpPerSecond(t,t.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(t,r){this.hp=Math.min(this.maxHp,this.hp+this.maxHp*t)}getLastSpurtPair(t,r,n){let a=(this.distance-S.phaseStart(this.distance,2)-60)/r,o={phase:2,positionKeepState:0,leadCompetition:!1,posKeepStrategy:t.posKeepStrategy},s=this.hpPerSecond(o,r)*a;if(this.hp>=s)return this.achievedMaxSpurt||(this.achievedMaxSpurt=!0),[-1,r];let c=[],u=this.distance-60-t.pos,d=this.getStatusModifier(o);for(let p=r-.1;p>=n;p-=.1){let h=Math.min(u/p,Math.max(0,(n*this.hp-this.hpPerSecond(o,n)*u)/(n*this.hpPerSecond(o,p)-this.hpPerSecond(o,n)*p)))*p;c.push([this.distance-h,p])}c.sort((p,l)=>(p[0]-t.pos)/n+(this.distance-p[0])/p[1]-((l[0]-t.pos)/n+(this.distance-l[0])/l[1]));let f=this.rng.uniform(1e5);for(let p=0;p<c.length;++p)if(f<=this.subparAcceptChance)return c[p];return c[c.length-1]}isMaxSpurt(){return this.achievedMaxSpurt}};var Vd=Object.freeze([0,.95,.89,1,.995,.86]),Xd=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(e=>Object.freeze(e))),Qi=class{constructor(t,r,n,i=!1){this.spurtParameters=null;this.recalculationCount=0;this.maxSpurtAchieved=!1;this.hasCalculatedSpurtOnce=!1;this.distance=t.distance,this.baseSpeed=20-(t.distance-2e3)/1e3,this.groundModifier=Xd[t.surface][r],this.rng=n,this.maxHp=1,this.hp=1,this.baseTargetSpeed2=0,this.maxSpurtSpeed=0,this.recalculateOnHeal=i}init(t){this.maxHp=.8*Vd[t.strategy]*t.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*t.guts),this.subparAcceptChance=Math.round((15+.05*t.wisdom)*1e3),this.baseTargetSpeed2=this.calculateBaseTargetSpeed(t,2),this.maxSpurtSpeed=this.calculateMaxSpurtSpeed(t),this.spurtParameters=null,this.recalculationCount=0,this.maxSpurtAchieved=!1,this.hasCalculatedSpurtOnce=!1}calculateBaseTargetSpeed(t,r){let n=[[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]],i=[1.05,1,.9,.8,.6,.4,.2,.1];return this.baseSpeed*n[t.strategy][r]+(r==2?Math.sqrt(500*t.speed)*i[t.distanceAptitude]*.002:0)}calculateMaxSpurtSpeed(t){let r=[1.05,1,.9,.8,.6,.4,.2,.1];return(this.baseTargetSpeed2+.01*this.baseSpeed)*1.05+Math.sqrt(500*t.speed)*r[t.distanceAptitude]*.002}getStatusModifier(t){let r=1;return t.positionKeepState===2&&(r*=.6),t.isRushed&&(r*=1.6),t.isDownhillMode&&(r*=.4),r}hpPerSecond(t,r){let n=t.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(t)*this.groundModifier*n}tick(t,r){this.hp-=this.hpPerSecond(t,t.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(t,r){if(this.hp=Math.min(this.maxHp,this.hp+this.maxHp*t),this.recalculateOnHeal&&r&&r.phase>=2&&this.spurtParameters){this.recalculationCount++;let n=this.distance-r.pos;if(this.calcSpurtDistance(r,this.maxSpurtSpeed)>=n)this.spurtParameters={distance:n,speed:this.maxSpurtSpeed,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:0};else{let a=this.calcRequiredHp(this.baseTargetSpeed2,n-60,!0,!1);if(this.hp-a<0)this.spurtParameters={distance:0,speed:this.baseTargetSpeed2,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:0};else{let s=[];for(let d=this.baseTargetSpeed2;d<this.maxSpurtSpeed;d+=.1){let f=Math.min(n,this.calcSpurtDistance(r,d)),p=f/d+(n-f)/this.baseTargetSpeed2;s.push({distance:f,speed:d,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:p})}s.sort((d,f)=>d.time-f.time);let c=this.rng.uniform(1e5),u=s[s.length-1];for(let d of s)if(c<=this.subparAcceptChance){u=d;break}this.spurtParameters=u}}}}calcRequiredHp(t,r=this.distance-60,n=!0,i=!1){let a={phase:2,positionKeepState:0},o=20*Math.pow(t-this.baseSpeed+12,2)/144,s=n?this.gutsModifier:1,c=i?this.getStatusModifier(a):1;return r/t*o*this.groundModifier*s*c}calcSpurtDistance(t,r){let n=this.distance-t.pos,i=this.baseTargetSpeed2,a=(n-60)*20*this.groundModifier*this.gutsModifier*Math.pow(i-this.baseSpeed+12,2)/144/i,o=this.hp-a,s=20*this.groundModifier*this.gutsModifier*(Math.pow(r-this.baseSpeed+12,2)/144/r-Math.pow(i-this.baseSpeed+12,2)/144/i);return o/s+60}getLastSpurtPair(t,r,n){if(this.maxSpurtSpeed=r,this.baseTargetSpeed2=n,t.phase<2)return[-1,r];if(this.spurtParameters!==null&&!this.recalculateOnHeal)return[this.distance-this.spurtParameters.distance,this.spurtParameters.speed];let i=!this.hasCalculatedSpurtOnce,a=this.distance-t.pos,o=this.calcSpurtDistance(t,this.maxSpurtSpeed),s=this.calcRequiredHp(this.maxSpurtSpeed,a-60,!0,!1);if(o>=a)return t.pos<=this.distance*2/3+5&&i&&(this.maxSpurtAchieved=!0),i&&(this.hasCalculatedSpurtOnce=!0),this.spurtParameters={distance:a,speed:this.maxSpurtSpeed,spDiff:this.hp-s,time:0},[-1,this.maxSpurtSpeed];i&&(this.hasCalculatedSpurtOnce=!0);let c=this.calcRequiredHp(this.baseTargetSpeed2,a-60,!0,!1);if(this.hp-c<0)return this.spurtParameters={distance:0,speed:this.baseTargetSpeed2,spDiff:this.hp-s,time:0},[-1,this.baseTargetSpeed2];let d=[],f=a-60;for(let h=this.baseTargetSpeed2;h<this.maxSpurtSpeed;h+=.1){let m=Math.min(a,this.calcSpurtDistance(t,h)),_=m/h+(a-m)/this.baseTargetSpeed2;d.push({distance:m,speed:h,spDiff:this.hp-s,time:_})}d.sort((h,m)=>h.time-m.time);let p=this.rng.uniform(1e5);for(let h=0;h<d.length;++h)if(p<=this.subparAcceptChance){let m=d[h];return this.spurtParameters=m,[this.distance-m.distance,m.speed]}let l=d[d.length-1];return this.spurtParameters=l,[this.distance-l.distance,l.speed]}getSpurtParameters(){return this.spurtParameters}isMaxSpurt(){return this.maxSpurtAchieved}getRecalculationCount(){return this.recalculationCount}};var Ge={"100011":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=1&order_rate<=50&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:5},"100021":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100041":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100051":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order_rate<=30&behind_near_lane_time_set1>=1",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100061":{alternatives:[{baseDuration:5e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:4},"100081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100101":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner_laterhalf==1&corner!=0&order>=3&order_rate<=40",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100121":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100151":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&bashin_diff_behind<=1&order<=4@is_finalcorner==1&bashin_diff_infront<=1&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100161":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:4500,target:1,type:27}],precondition:""},{baseDuration:5e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100201":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100231":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_onetime<0&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100261":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:4},"100281":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=45&distance_rate<=60&order>=3&order_rate<=50&hp_per<=70",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100301":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100321":{alternatives:[{baseDuration:4e4,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:550,target:1,type:9},{modifier:2500,target:1,type:27}],precondition:""}],rarity:4},"100351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100371":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order>=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100381":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&distance_rate<=65&order>=2&order_rate<=40&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100391":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100401":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&order_rate>=40&order_rate<=70&is_overtake==1",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:750,target:1,type:9}],precondition:""}],rarity:4},"100461":{alternatives:[{baseDuration:5e4,condition:"phase==1&corner==0&order<=2&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100501":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order_rate>=40&order_rate<=75&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:4},"100561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:4},"100581":{alternatives:[{baseDuration:5e4,condition:"phase>=2&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:4},"10071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:3},"10081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:3},"10321":{alternatives:[{baseDuration:4e4,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:350,target:1,type:9},{modifier:1500,target:1,type:27}],precondition:""}],rarity:3},"10351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:3},"10521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:3},"10561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:2500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:3},"10601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:3},"110011":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=70&activate_count_middle>=2",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:5},"110031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"110041":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&activate_count_heal>=1&order<=3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:750,target:1,type:9}],precondition:""}],rarity:5},"110131":{alternatives:[{baseDuration:6e4,condition:"is_finalcorner==1&hp_per<=45&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110141":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"110181":{alternatives:[{baseDuration:5e4,condition:"phase==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""},{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"110561":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order_rate>=40&overtake_target_time>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"200011":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200012":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200013":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200021":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200022":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200023":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200031":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200032":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200033":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200041":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200042":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200043":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200051":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200052":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200053":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200061":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200062":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200063":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200071":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200072":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200073":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200081":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200082":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200083":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200091":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200092":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200093":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200101":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200102":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200103":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200111":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200112":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200113":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200121":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200122":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200123":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200131":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200132":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200133":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200141":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200142":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200143":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200151":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200152":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200153":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200161":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200162":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200163":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200171":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200172":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200173":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200181":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200182":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200183":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200191":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200192":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200193":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200201":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200202":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200203":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200211":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200212":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200221":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200222":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200231":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200232":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200233":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:-4e5,target:1,type:4}],precondition:""}],rarity:1},"200241":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200242":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200251":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:6e5,target:1,type:5}],precondition:""}],rarity:1},"200252":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:4e5,target:1,type:5}],precondition:""}],rarity:1},"200253":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:-4e5,target:1,type:5}],precondition:""}],rarity:1},"200261":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200262":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200263":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200271":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:8e5,target:1,type:1}],precondition:""}],rarity:1},"200272":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200281":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200282":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200283":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200291":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200292":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200301":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200302":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200311":{alternatives:[{baseDuration:-1,condition:"grade==100",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200321":{alternatives:[{baseDuration:-1,condition:"popularity==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200331":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200332":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200333":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200341":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200342":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200343":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:-2e3,target:1,type:31}],precondition:""}],rarity:1},"200351":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200352":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200353":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200361":{alternatives:[{baseDuration:24e3,condition:"straight_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200362":{alternatives:[{baseDuration:24e3,condition:"straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200371":{alternatives:[{baseDuration:3e4,condition:"straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200372":{alternatives:[{baseDuration:3e4,condition:"straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200381":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200382":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200391":{alternatives:[{baseDuration:0,condition:"up_slope_random==1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200401":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&is_surrounded==1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200411":{alternatives:[{baseDuration:3e4,condition:"last_straight_random==1&distance_diff_rate>=75",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200421":{alternatives:[{baseDuration:3e4,condition:"remain_distance==200&order==1&bashin_diff_behind>=1",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200431":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:4e3,target:1,type:10}],precondition:""}],rarity:2},"200432":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:9e3,target:1,type:10}],precondition:""}],rarity:1},"200433":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:15e3,target:1,type:10}],precondition:""}],rarity:1},"200441":{alternatives:[{baseDuration:0,condition:"phase<=1&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200442":{alternatives:[{baseDuration:0,condition:"phase<=1&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200451":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:450,target:1,type:28}],precondition:""}],rarity:2},"200452":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:1},"200461":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200462":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200471":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200472":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200481":{alternatives:[{baseDuration:0,condition:"phase==1&is_surrounded==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200482":{alternatives:[{baseDuration:0,condition:"phase==1&is_surrounded==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200491":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:4e3,target:1,type:31},{modifier:250,target:1,type:28}],precondition:""}],rarity:2},"200492":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:2e3,target:1,type:31},{modifier:50,target:1,type:28}],precondition:""}],rarity:1},"200501":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:2},"200502":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:250,target:1,type:28}],precondition:""}],rarity:1},"200511":{alternatives:[{baseDuration:24e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200512":{alternatives:[{baseDuration:24e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200521":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&order==1&bashin_diff_behind>=1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200531":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200532":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200541":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200542":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200551":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200552":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200561":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_laterhalf_random==0&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200562":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_laterhalf_random==0&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200571":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200572":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200581":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200582":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200591":{alternatives:[{baseDuration:24e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200592":{alternatives:[{baseDuration:24e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200601":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200602":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200611":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200612":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200621":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200622":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200631":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200632":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200641":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200642":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200651":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200652":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200662":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order_rate>50",effects:[{modifier:150,target:1,type:9},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"200671":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:2},"200672":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"200681":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200682":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200691":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_laterhalf_random==0&order_rate>50",effects:[{modifier:550,target:1,type:9},{modifier:-2e3,target:9,type:21}],precondition:""}],rarity:2},"200692":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_laterhalf_random==0&order_rate>50",effects:[{modifier:150,target:1,type:9},{modifier:-500,target:9,type:21}],precondition:""}],rarity:1},"200701":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200702":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200711":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order<=3",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200712":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order<=3",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200721":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200722":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200731":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:2},"200732":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"200741":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200742":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200751":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200752":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200761":{alternatives:[{baseDuration:0,condition:"distance_type==4&hp_per<=30",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200762":{alternatives:[{baseDuration:0,condition:"distance_type==4&hp_per<=30",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200771":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-100,target:20,type:9}],precondition:""}],rarity:1},"200781":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate>50&temptation_count_infront>=1",effects:[{modifier:-100,target:19,type:9}],precondition:""}],rarity:1},"200791":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_nige>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200801":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_senko>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200811":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_sashi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200821":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_oikomi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200831":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200841":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200851":{alternatives:[{baseDuration:3e4,condition:"running_style_count_nige_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200861":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200871":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200881":{alternatives:[{baseDuration:3e4,condition:"running_style_count_senko_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200891":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200901":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200911":{alternatives:[{baseDuration:3e4,condition:"running_style_count_sashi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200921":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200931":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200941":{alternatives:[{baseDuration:3e4,condition:"running_style_count_oikomi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200951":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200952":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200953":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200961":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200962":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200971":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200972":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200981":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase==1&bashin_diff_behind>=3&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200982":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase==1&bashin_diff_behind>=3&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200991":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_laterhalf_random==1&order>=2&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200992":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_laterhalf_random==1&order>=2&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201001":{alternatives:[{baseDuration:4e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201002":{alternatives:[{baseDuration:4e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201011":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order_rate<=50&accumulatetime>=5",effects:[{modifier:-2500,target:10,type:21}],precondition:""}],rarity:2},"201012":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order_rate<=50&accumulatetime>=5",effects:[{modifier:-2e3,target:10,type:21}],precondition:""}],rarity:1},"201021":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-300,target:9,type:9},{modifier:-2e3,target:9,type:31}],precondition:""}],rarity:2},"201022":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-100,target:9,type:9},{modifier:-500,target:9,type:31}],precondition:""}],rarity:1},"201031":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201032":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201041":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201042":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201051":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201052":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201061":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201062":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201071":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201072":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201081":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order<=3",effects:[{modifier:-2e3,target:10,type:21},{modifier:2500,target:1,type:27}],precondition:""}],rarity:2},"201082":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order<=3",effects:[{modifier:-1500,target:10,type:21},{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201091":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=3",effects:[{modifier:-3e3,target:9,type:31}],precondition:""}],rarity:2},"201092":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=3",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201101":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201102":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201111":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201112":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201121":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201122":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201131":{alternatives:[{baseDuration:4e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201132":{alternatives:[{baseDuration:4e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201141":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201142":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201151":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-2500,target:9,type:21}],precondition:""}],rarity:2},"201152":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-1500,target:9,type:21}],precondition:""}],rarity:1},"201161":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-300,target:9,type:9}],precondition:""}],rarity:2},"201162":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-100,target:9,type:9}],precondition:""}],rarity:1},"201171":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201172":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201181":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201182":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201191":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=1&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201192":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=1&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201202":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201211":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201212":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201221":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-100,target:9,type:9},{modifier:350,target:1,type:9}],precondition:""}],rarity:2},"201222":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-50,target:9,type:9},{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201231":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-1e5,target:9,type:8}],precondition:""}],rarity:2},"201232":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-5e4,target:9,type:8}],precondition:""}],rarity:1},"201241":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201242":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201251":{alternatives:[{baseDuration:3e4,condition:"running_style==1&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201252":{alternatives:[{baseDuration:3e4,condition:"running_style==1&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201261":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_front_continuetime>=1@running_style==1&phase==0&blocked_side_continuetime>=1",effects:[{modifier:350,target:1,type:28},{modifier:5e3,target:1,type:35}],precondition:""}],rarity:2},"201262":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_front_continuetime>=1@running_style==1&phase==0&blocked_side_continuetime>=1",effects:[{modifier:250,target:1,type:28},{modifier:5e3,target:1,type:35}],precondition:""}],rarity:1},"201272":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase<=1&change_order_onetime>0&accumulatetime>=5@running_style==1&phase<=1&blocked_side_continuetime>=2&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201281":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201282":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201291":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order>=2",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201292":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order>=2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201302":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==0&order>=2&accumulatetime>=5",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201311":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201312":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201321":{alternatives:[{baseDuration:3e4,condition:"running_style==2&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201322":{alternatives:[{baseDuration:3e4,condition:"running_style==2&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201331":{alternatives:[{baseDuration:3e4,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201332":{alternatives:[{baseDuration:3e4,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201341":{alternatives:[{baseDuration:3e4,condition:"running_style==2&down_slope_random==1",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201342":{alternatives:[{baseDuration:3e4,condition:"running_style==2&down_slope_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201351":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201352":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201361":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>40",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201362":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>40",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201371":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-5e4,target:10,type:8}],precondition:""}],rarity:2},"201372":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-3e4,target:10,type:8}],precondition:""}],rarity:1},"201381":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201382":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201391":{alternatives:[{baseDuration:3e4,condition:"running_style==3&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201392":{alternatives:[{baseDuration:3e4,condition:"running_style==3&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201401":{alternatives:[{baseDuration:4e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201402":{alternatives:[{baseDuration:4e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201411":{alternatives:[{baseDuration:24e3,condition:"running_style==3&up_slope_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201412":{alternatives:[{baseDuration:24e3,condition:"running_style==3&up_slope_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201421":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201422":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201431":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201432":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201441":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-300,target:4,type:9}],precondition:""}],rarity:2},"201442":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-100,target:4,type:9}],precondition:""}],rarity:1},"201451":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201452":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201461":{alternatives:[{baseDuration:3e4,condition:"running_style==4&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201462":{alternatives:[{baseDuration:3e4,condition:"running_style==4&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201471":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:2},"201472":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201481":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201482":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201491":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201492":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201501":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201502":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201511":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-2500,target:4,type:21}],precondition:""}],rarity:2},"201512":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-1500,target:4,type:21}],precondition:""}],rarity:1},"201521":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201522":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201531":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201532":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201541":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201542":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201551":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201552":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201561":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:6e5,target:1,type:1},{modifier:6e5,target:1,type:2},{modifier:6e5,target:1,type:3}],precondition:""}],rarity:2},"201562":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:4e5,target:1,type:1},{modifier:4e5,target:1,type:2},{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"201571":{alternatives:[{baseDuration:0,condition:"remain_distance<=778&remain_distance>=776",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201581":{alternatives:[{baseDuration:3e4,condition:"up_slope_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201591":{alternatives:[{baseDuration:3e4,condition:"near_count>=3&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201601":{alternatives:[{baseDuration:3e4,condition:"activate_count_start>=3",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201611":{alternatives:[{baseDuration:3e4,condition:"activate_count_middle>=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201621":{alternatives:[{baseDuration:0,condition:"activate_count_end_after>=3",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201631":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count>=5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201641":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201651":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201661":{alternatives:[{baseDuration:3e4,condition:"behind_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201671":{alternatives:[{baseDuration:24e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201672":{alternatives:[{baseDuration:24e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201692":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_laterhalf_random==0&order_rate>=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201701":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&is_lastspurt==1&corner==0&order_rate>=20&order_rate<=60",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201702":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&is_lastspurt==1&corner==0&order_rate>=20&order_rate<=60",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201902":{alternatives:[{baseDuration:18e3,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"202022":{alternatives:[{baseDuration:4e4,condition:"running_style==4&phase_random==1&order_rate>=50",effects:[{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"202051":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:0,target:1,type:6}],precondition:""}],rarity:2},"210011":{alternatives:[{baseDuration:18e3,condition:"phase_random==1",effects:[{modifier:4200,target:1,type:27}],precondition:""}],rarity:2},"210012":{alternatives:[{baseDuration:18e3,condition:"phase_random==1",effects:[{modifier:1800,target:1,type:27}],precondition:""}],rarity:1},"210021":{alternatives:[{baseDuration:0,condition:"phase_random==1",effects:[{modifier:660,target:1,type:9}],precondition:""}],rarity:2},"210022":{alternatives:[{baseDuration:0,condition:"phase_random==1",effects:[{modifier:180,target:1,type:9}],precondition:""}],rarity:1},"210031":{alternatives:[{baseDuration:12e3,condition:"phase_random==2",effects:[{modifier:4800,target:1,type:31}],precondition:""}],rarity:2},"210032":{alternatives:[{baseDuration:12e3,condition:"phase_random==2",effects:[{modifier:2400,target:1,type:31}],precondition:""}],rarity:1},"210041":{alternatives:[{baseDuration:18e3,condition:"phase_random==2",effects:[{modifier:3e3,target:1,type:27},{modifier:3600,target:1,type:31}],precondition:""}],rarity:2},"210042":{alternatives:[{baseDuration:18e3,condition:"phase_random==2",effects:[{modifier:600,target:1,type:27},{modifier:1200,target:1,type:31}],precondition:""}],rarity:1},"210051":{alternatives:[{baseDuration:4e4,condition:"phase_random==0",effects:[{modifier:420,target:1,type:28},{modifier:18e4,target:1,type:8}],precondition:""}],rarity:2},"210052":{alternatives:[{baseDuration:4e4,condition:"phase_random==0",effects:[{modifier:180,target:1,type:28},{modifier:6e4,target:1,type:8}],precondition:""}],rarity:1},"300011":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"300021":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:8e5,target:1,type:1}],precondition:""}],rarity:2},"900011":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=1&order_rate<=50&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"900021":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900041":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900051":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order_rate<=30&behind_near_lane_time_set1>=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900061":{alternatives:[{baseDuration:3e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900071":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"900081":{alternatives:[{baseDuration:3e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900091":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900101":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner_laterhalf==1&corner!=0&order>=3&order_rate<=40",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900111":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900121":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900141":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900151":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&bashin_diff_behind<=1&order<=4@is_finalcorner==1&bashin_diff_infront<=1&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900161":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27}],precondition:""},{baseDuration:3e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900181":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900201":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900231":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_onetime<0&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900261":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900271":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900281":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=45&distance_rate<=60&order>=3&order_rate<=50&hp_per<=70",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900301":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900321":{alternatives:[{baseDuration:24e3,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:150,target:1,type:9},{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"900351":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900371":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order>=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900381":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&distance_rate<=65&order>=2&order_rate<=40&change_order_onetime<0",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900401":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&order_rate>=40&order_rate<=70&is_overtake==1",effects:[{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900411":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:1},"900461":{alternatives:[{baseDuration:3e4,condition:"phase==1&corner==0&order<=2&bashin_diff_behind<=1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900501":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order_rate>=40&order_rate<=75&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"900561":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"900581":{alternatives:[{baseDuration:3e4,condition:"phase>=2&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900601":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900611":{alternatives:[{baseDuration:3e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"910011":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=70&activate_count_middle>=2",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"910031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"910041":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&activate_count_heal>=1&order<=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:1},"910131":{alternatives:[{baseDuration:36e3,condition:"is_finalcorner==1&hp_per<=45&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910141":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"910181":{alternatives:[{baseDuration:3e4,condition:"phase==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""},{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"910561":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order_rate>=40&overtake_target_time>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1}};var $d=Object.freeze([null,[0,0,0,0,-50],[0,0,0,0,-50]].map(e=>Object.freeze(e))),tf=Object.freeze([null,[0,0,-50,-50,-50],[0,-100,-50,-100,-100]].map(e=>Object.freeze(e))),ef=Object.freeze([1.1,1,.85,.75,.6,.4,.2,.1]),xu;(n=>{n.StrategyDistanceCoefficient=Object.freeze([[],[0,1,.7,.75,.7,1],[0,1,.8,.7,.75,1],[0,1,.9,.875,.86,1],[0,1,.9,1,.9,1]]),n.BaseModifier=.00875;function r(i,a,o){return n.BaseModifier*Math.sqrt(i-1200)*n.StrategyDistanceCoefficient[o][a]}n.calcApproximateModifier=r})(xu||={});var Eu;(r=>{function e(n){return n<2101?0:n<2201?.5:n<2401?1:n<2601?1.2:1.5}r.distanceFactor=e;function t(n,i){return Math.sqrt(n-1200)*.0085*e(i)*1}r.calcApproximateModifier=t})(Eu||={});function Au(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NIGE":return 1;case"SENKOU":return 2;case"SASI":case"SASHI":return 3;case"OIKOMI":return 4;case"OONIGE":return 5;default:throw new Error("Invalid running strategy.")}}function $i(e,t){if(typeof e!="string")return e;switch(e.toUpperCase()){case"S":return 0;case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;case"F":return 6;case"G":return 7;default:throw new Error("Invalid "+t+" aptitude.")}}function rf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"GOOD":return 1;case"YIELDING":return 2;case"SOFT":return 3;case"HEAVY":return 4;default:throw new Error("Invalid ground condition.")}}function nf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SUNNY":return 1;case"CLOUDY":return 2;case"RAINY":return 3;case"SNOWY":return 4;default:throw new Error("Invalid weather.")}}function af(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SPRING":return 1;case"SUMMER":return 2;case"AUTUMN":return 3;case"WINTER":return 4;case"SAKURA":return 5;default:throw new Error("Invalid season.")}}function of(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NONE":case"NOTIME":return 0;case"MORNING":return 1;case"MIDDAY":return 2;case"EVENING":return 3;case"NIGHT":return 4;default:throw new Error("Invalid race time.")}}function sf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"G1":return 100;case"G2":return 200;case"G3":return 300;case"OP":return 400;case"PRE-OP":case"PREOP":return 700;case"MAIDEN":return 800;case"DEBUT":return 900;case"DAILY":return 999;default:throw new Error("Invalid race grade.")}}function Kn(e){return e>1200?1200+Math.floor((e-1200)/2):e}function jn(e,t){let r=1+.02*e.mood;return Object.freeze({speed:Kn(e.speed)*r,stamina:Kn(e.stamina)*r,power:Kn(e.power)*r,guts:Kn(e.guts)*r,wisdom:Kn(e.wisdom)*r,strategy:Au(e.strategy),distanceAptitude:$i(e.distanceAptitude,"distance"),surfaceAptitude:$i(e.surfaceAptitude,"surface"),strategyAptitude:$i(e.strategyAptitude,"strategy"),rawStamina:e.stamina*r})}function Bn(e,t,r){let n=S.courseSpeedModifier(t,e);return Object.freeze({speed:Math.max(e.speed*n+$d[t.surface][r],1),stamina:e.stamina,power:Math.max(e.power+tf[t.surface][r],1),guts:e.guts,wisdom:e.wisdom*ef[e.strategyAptitude],strategy:e.strategy,distanceAptitude:e.distanceAptitude,surfaceAptitude:e.surfaceAptitude,strategyAptitude:e.strategyAptitude,rawStamina:e.rawStamina})}function cf(e,t){return t==2||e==3||e==1==(t==1)}function Pu(e,t){return e.effects.reduce((r,n)=>(cf(t,n.target)&&Qo.hasOwnProperty(n.type)&&r.push({type:n.type,baseDuration:e.baseDuration/1e4,modifier:n.modifier/1e4}),r),[])}function ku(e,t,r,n,i,a,o,s=!1){if(!(a in Ge))throw new Error("bad skill ID "+a);let c=Object.assign({skillId:a},t),u=Ge[a].alternatives,d=[];for(let p=0;p<u.length;++p){let l=u[p],h=new z;if(n.forEach(y=>h.push(y)),l.precondition){let v=i.parse(i.tokenize(l.precondition)).apply(n,r,e,c)[0];if(v.length==0)continue;{let P=new I(v[0].start,n[n.length-1].end);h=h.rmap(O=>O.intersect(P))}}let m=i.parse(i.tokenize(l.condition)),[_,b]=m.apply(h,r,e,c);if(_.length==0||d.length>0&&!/is_activate_other_skill_detail|is_used_skill_id/.test(l.condition))continue;let g=Pu(l,o);if(g.length>0||s){let y=Ge[a].rarity;d.push({skillId:a,perspective:o,rarity:y>=3&&y<=5?3:y,samplePolicy:m.samplePolicy,regions:_,extraCondition:b,effects:g})}}if(d.length>0)return d;let f=Pu(u[0],o);if(f.length==0&&!s)return[];{let p=Ge[a].rarity,l=new z;return l.push(new I(9999,9999)),[{skillId:a,perspective:o,rarity:p>=3&&p<=5?3:p,samplePolicy:Oe,regions:l,extraCondition:h=>!1,effects:f}]}}var uf=Object.freeze(Object.assign({},Xi,{activate_count_all:Pt({filterGte(e,t,r,n,i){if(t==7){let o=new z;return e.forEach(s=>o.push(new I(s.start,s.start+11))),o}let a=new I(Math.min(t/23-.2,.6)*r.distance,Math.min(t/23+.2,1)*r.distance);return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){return new z}}),activate_count_end_after:Pt({filterGte(e,t,r,n,i){let a=new I(S.phaseStart(r.distance,2),S.phaseEnd(r.distance,3));return e.rmap(o=>o.intersect(a))}}),activate_count_heal:wu,activate_count_later_half:Pt({filterGte(e,t,r,n,i){let a=new I(r.distance/2,r.distance);return e.rmap(o=>o.intersect(a))}}),activate_count_middle:Pt({filterGte(e,t,r,n,i){let a=S.phaseStart(r.distance,1),o=S.phaseEnd(r.distance,1),s=new I(a,a+t/10*(o-a));return e.rmap(c=>c.intersect(s))}}),activate_count_start:N({filterGte(e,t,r,n,i){let a=new I(S.phaseStart(r.distance,0),S.phaseEnd(r.distance,0));return e.rmap(o=>o.intersect(a))}})})),df=ns(),ff=ns(uf),ta=class e{constructor(t){this.nsamples=t;this._course=null,this._raceParams={mood:2,groundCondition:1,weather:1,season:1,time:2,grade:100,popularity:1},this._horse=null,this._pacerSkillData=[],this._pacerTriggers=[],this._pacerSkills=[],this._pacerSkillIds=[],this._pacerSpeedUpRate=100,this._seed=Math.floor(Math.random()*(-1>>>0))>>>0,this._rng=new Ut(this._seed),this._parser=df,this._skills=[],this._samplePolicyOverride=new Map,this._extraSkillHooks=[],this._onSkillActivate=null,this._onSkillDeactivate=null,this._disableRushed=!1,this._disableDownhill=!1,this._disableSectionModifier=!1,this._useEnhancedSpurt=!1,this._accuracyMode=!1,this._skillCheckChance=!0,this._posKeepMode=0}seed(t){return this._seed=t,this._rng=new Ut(t),this}course(t){return typeof t=="number"?this._course=S.getCourse(t):this._course=t,this}mood(t){return this._raceParams.mood=t,this}ground(t){return this._raceParams.groundCondition=rf(t),this}weather(t){return this._raceParams.weather=nf(t),this}season(t){return this._raceParams.season=af(t),this}time(t){return this._raceParams.time=of(t),this}grade(t){return this._raceParams.grade=sf(t),this}popularity(t){return this._raceParams.popularity=t,this}order(t,r){return this._raceParams.orderRange=[t,r],this}numUmas(t){return this._raceParams.numUmas=t,this}horse(t){return this._horse=t,this}pacerSpeedUpRate(t){return this._pacerSpeedUpRate=t,this}addPacerSkill(t){return this._pacerSkillIds.push(t),this}_isNige(){return typeof this._horse.strategy=="string"?this._horse.strategy.toUpperCase()=="NIGE"||this._horse.strategy.toUpperCase()=="OONIGE":this._horse.strategy==1||this._horse.strategy==5}setupPacer(t){let r=t,n=r?jn(r,r.mood):null,i=r?Bn(n,this._course,this._raceParams.groundCondition):null,a=new z;a.push(new I(0,this._course.distance)),Object.freeze(a);let o=[];if(n){let s=ku.bind(null,n,this._raceParams,this._course,a,this._parser);o=this._pacerSkillIds.flatMap(c=>s(c,1)),this._pacerSkillData=o}return i}setupPacerSkillTriggers(t){let r=new z;r.push(new I(0,this._course.distance)),Object.freeze(r);let n=[];this._pacerSkillIds.length>0&&(n=this._pacerSkillData.map(i=>(this._samplePolicyOverride.get(i.skillId)||i.samplePolicy).sample(i.regions,this.nsamples,t))),this._pacerTriggers=n}buildPacer(t,r,n){this.setupPacerSkillTriggers(n);let i=this._pacerSkillData.length>0?this._pacerSkillData.map((a,o)=>({skillId:a.skillId,perspective:a.perspective,rarity:a.rarity,trigger:this._pacerTriggers[o][r%this._pacerTriggers[o].length],extraCondition:a.extraCondition,effects:a.effects})):this._pacerSkills;return t?new qn({horse:t,course:this._course,hp:Ru,skills:i,rng:n,speedUpProbability:this._pacerSpeedUpRate,disableRushed:this._disableRushed,disableDownhill:this._disableDownhill,disableSectionModifier:this._disableSectionModifier,skillCheckChance:this._skillCheckChance,posKeepMode:this._posKeepMode,isPacer:!0}):null}pacer(t){return this.setupPacer(t)}useDefaultPacer(t=!1){let r=Object.assign({},this._horse,{strategy:"Nige"});return t&&(this._pacerSkills=[{skillId:"201601",perspective:1,rarity:1,trigger:new I(0,100),extraCondition:n=>!0,effects:[{type:31,baseDuration:3,modifier:.2}]},{skillId:"200532",perspective:1,rarity:1,trigger:new I(0,100),extraCondition:n=>!0,effects:[{type:31,baseDuration:1.2,modifier:.2}]}]),this.setupPacer(r)}withActivateCountsAsRandom(){return this._parser=ff,this}withAsiwotameru(){let t=this._horse.power*(1+.02*this._raceParams.mood);return this._extraSkillHooks.push((r,n,i)=>{let a=r.reduce((o,s)=>{let c=s.effects.find(u=>u.type==3);return c&&s.regions.length>0&&s.regions[0].start<9999?o+c.modifier:o},t);if(a>1200){let o=new z;o.push(new I(S.phaseStart(i.distance,2),i.distance)),r.push({skillId:"asitame",perspective:1,rarity:1,regions:o,samplePolicy:Oe,extraCondition:s=>!0,effects:[{type:31,baseDuration:3/(i.distance/1e3),modifier:xu.calcApproximateModifier(a,n.strategy,i.distanceType)}]})}}),this}withStaminaSyoubu(){return this._extraSkillHooks.push((t,r,n)=>{let i=t.reduce((a,o)=>{let s=o.effects.find(c=>c.type==2);return s&&o.regions.length>0&&o.regions[0].start<9999?a+s.modifier:a},r.rawStamina);if(i>1200){let a=new z;a.push(new I(S.phaseStart(n.distance,2),n.distance)),t.push({skillId:"staminasyoubu",perspective:1,rarity:1,regions:a,samplePolicy:Oe,extraCondition:o=>o.currentSpeed>=o.lastSpurtSpeed,effects:[{type:27,baseDuration:9999,modifier:Eu.calcApproximateModifier(i,n.distance)}]})}}),this}addSkill(t,r=1,n,i){return this._skills.push({id:t,p:r,originWisdom:i}),n!=null&&this._samplePolicyOverride.set(t,n),this}addSkillAtPosition(t,r,n=1,i){let{createFixedPositionPolicy:a}=(Ni(),Yu(Iu));return this.addSkill(t,n,a(r),i)}disableRushed(){return this._disableRushed=!0,this}disableDownhill(){return this._disableDownhill=!0,this}disableSectionModifier(){return this._disableSectionModifier=!0,this}skillCheckChance(t=!0){return this._skillCheckChance=t,this}useEnhancedSpurt(t=!0){return this._useEnhancedSpurt=t,this}accuracyMode(t=!0){return this._accuracyMode=t,this}posKeepMode(t){return this._posKeepMode=t,this}onSkillActivate(t){return this._onSkillActivate=t,this}onSkillDeactivate(t){return this._onSkillDeactivate=t,this}desync(){this.seed(this._rng.int32())}fork(){let t=new e(this.nsamples);return t._course=this._course,t._raceParams=Object.assign({},this._raceParams),t._horse=this._horse,t._pacerSkills=this._pacerSkills.slice(),t._pacerSkillIds=this._pacerSkillIds.slice(),t._pacerSpeedUpRate=this._pacerSpeedUpRate,t._pacerSkillData=this._pacerSkillData.slice(),t._pacerTriggers=this._pacerTriggers.slice(),t.seed(this._seed),t._parser=this._parser,t._skills=this._skills.slice(),t._onSkillActivate=this._onSkillActivate,t._onSkillDeactivate=this._onSkillDeactivate,t._disableRushed=this._disableRushed,t._disableDownhill=this._disableDownhill,t._disableSectionModifier=this._disableSectionModifier,t._useEnhancedSpurt=this._useEnhancedSpurt,t._accuracyMode=this._accuracyMode,t._skillCheckChance=this._skillCheckChance,t._posKeepMode=this._posKeepMode,t._extraSkillHooks=this._extraSkillHooks.slice(),t}*build(){let t=jn(this._horse,this._horse.mood),r=new Ut(this._rng.int32()),n=new z;n.push(new I(0,this._course.distance)),Object.freeze(n);let i=ku.bind(null,t,this._raceParams,this._course,n,this._parser),a=this._skills.flatMap(({id:s,p:c})=>i(s,c));this._extraSkillHooks.forEach(s=>s(a,t,this._course));let o=a.map(s=>(this._samplePolicyOverride.get(s.skillId)||s.samplePolicy).sample(s.regions,this.nsamples,this._rng));t=Bn(t,this._course,this._raceParams.groundCondition);for(let s=0;s<this.nsamples;++s){let c=a.map((p,l)=>({skillId:p.skillId,perspective:p.perspective,rarity:p.rarity,trigger:o[l][s%o[l].length],extraCondition:p.extraCondition,effects:p.effects,originWisdom:this._skills[l].originWisdom})),u=new Ut(r.int32()),d=this._useEnhancedSpurt?new Qi(this._course,this._raceParams.groundCondition,u,this._accuracyMode):new Zi(this._course,this._raceParams.groundCondition,u);(yield new qn({horse:t,course:this._course,skills:c,hp:d,rng:r,onSkillActivate:this._onSkillActivate,onSkillDeactivate:this._onSkillDeactivate,disableRushed:this._disableRushed,disableDownhill:this._disableDownhill,disableSectionModifier:this._disableSectionModifier,skillCheckChance:this._skillCheckChance,posKeepMode:this._posKeepMode}))&&--s}}};function ea(e,t,r,n,i,a,o){let s=[],c=[];n.skills.forEach(E=>{let R=Ge[E.split("-")[0]];R&&R.alternatives&&R.alternatives.forEach(G=>{G.effects&&G.effects.forEach(M=>{M.type===9&&s.push({id:E,heal:M.modifier,duration:G.baseDuration||0})})})}),i.skills.forEach(E=>{let R=Ge[E.split("-")[0]];R&&R.alternatives&&R.alternatives.forEach(G=>{G.effects&&G.effects.forEach(M=>{M.type===9&&c.push({id:E,heal:M.modifier,duration:G.baseDuration||0})})})});let u=new ta(e).seed(o.seed).course(t).ground(r.groundCondition).weather(r.weather).season(r.season).time(r.time).useEnhancedSpurt(o.useEnhancedSpurt||!1).accuracyMode(o.accuracyMode||!1).posKeepMode(o.posKeepMode);r.orderRange!=null&&u.order(r.orderRange[0],r.orderRange[1]).numUmas(r.numUmas);let d=u.fork();o.mode==="compare"&&u.desync(),u.horse(n.toJS()),d.horse(i.toJS()),o.allowRushedUma1===!1&&u.disableRushed(),o.allowRushedUma2===!1&&d.disableRushed(),o.allowDownhillUma1===!1&&u.disableDownhill(),o.allowDownhillUma2===!1&&d.disableDownhill(),o.allowSectionModifierUma1===!1&&u.disableSectionModifier(),o.allowSectionModifierUma2===!1&&d.disableSectionModifier(),o.skillCheckChanceUma1===!1&&u.skillCheckChance(!1),o.skillCheckChanceUma2===!1&&d.skillCheckChance(!1);let f=n.skills.intersect(i.skills).toArray().sort((E,R)=>+E-+R),p=E=>{let R=f.indexOf(E);return R>-1?R:f.length},l=(E,R)=>p(E)-p(R)||+E-+R,h=n.toJS(),m=jn(h,h.mood),b=Bn(m,t,r.groundCondition).wisdom,g=i.toJS(),y=jn(g,g.mood),P=Bn(y,t,r.groundCondition).wisdom;n.skills.toArray().sort(l).forEach(E=>{let R=E.split("-")[0],G=n.forcedSkillPositions.get(E);G!=null?(u.addSkillAtPosition(R,G,1),d.addSkill(R,2,void 0,b)):(u.addSkill(R,1),d.addSkill(R,2,void 0,b))}),i.skills.toArray().sort(l).forEach(E=>{let R=E.split("-")[0],G=i.forcedSkillPositions.get(E);G!=null?(d.addSkillAtPosition(R,G,1),u.addSkill(R,2,void 0,P)):(d.addSkill(R,1),u.addSkill(R,2,void 0,P))});let O=null;if(o.posKeepMode===1)O=u.useDefaultPacer(!0);else if(o.posKeepMode===2)if(a){let E=a.toJS?a.toJS():a;O=u.pacer(E),E.skills&&Array.isArray(E.skills)&&E.skills.length>0&&E.skills.forEach(R=>{let G=R.split("-")[0];u.addPacerSkill(G)})}else O=u.useDefaultPacer();let x=new Map,w=new Map;function F(E,R){return function(G,M,A){let D=A==1?E:R;M!="asitame"&&M!="staminasyoubu"&&(D.has(M)||D.set(M,[]),D.get(M).push([G.pos,G.pos]))}}function X(E,R){return function(G,M,A){let D=A==1?E:R;if(M!="asitame"&&M!="staminasyoubu"){let te=D.get(M);if(te&&te.length>0){let Wr=te[te.length-1][0];G.pos>Wr&&(te[te.length-1][1]=Math.min(G.pos,t.distance))}}}}u.onSkillActivate(F(x,w)),u.onSkillDeactivate(X(x,w)),d.onSkillActivate(F(w,x)),d.onSkillDeactivate(X(w,x));let tt=u.build(),gt=d.build(),q=1,dt=0,We=1,Bt=[],as=1/0,os=-1/0,ss,cs,us=1/0,ds=1/0,fs,ps,hs,ls,ms=Math.max(Math.floor(e*.8),e-200),na=!1,mf=0,ur={uma1:{lengths:[],count:0},uma2:{lengths:[],count:0}},dr={uma1:{lengths:[],count:0},uma2:{lengths:[],count:0}},vt={uma1:{hpDiedCount:0,fullSpurtCount:0,total:0},uma2:{hpDiedCount:0,fullSpurtCount:0,total:0}},me={uma1:{firstPlaceCount:0,total:0},uma2:{firstPlaceCount:0,total:0}},_s=!0,Lu=new Ut(o.seed+1);for(let E=0;E<e;++E){let R=[];for(let C=0;C<o.pacemakerCount;++C){let k=new Ut(Lu.int32()),W=O!=null?u.buildPacer(O,E,k):null;R.push(W)}let G=R.length>0?R[0]:null,M=tt.next(na).value,A=gt.next(na).value,D={t:[[],[]],p:[[],[]],v:[[],[]],hp:[[],[]],pacerGap:[[],[]],sk:[null,null],sdly:[0,0],rushed:[[],[]],posKeep:[[],[]],competeFight:[[],[]],leadCompetition:[[],[]],pacerV:[[],[],[]],pacerP:[[],[],[]],pacerT:[[],[],[]],pacerPosKeep:[[],[],[]],pacerLeadCompetition:[[],[],[]]};M.initUmas([A,...R]),A.initUmas([M,...R]),R.forEach(C=>{C?.initUmas([M,A,...R.filter(k=>k!==C)])});let te=!1,Wr=!1,ia=0;for(;!te||!Wr;){let C=null;G&&(C=G.getPacer(),G.umas.forEach(k=>{k.updatePacer(C)})),A.pos<t.distance&&D.pacerGap[q].push(C?C.pos-A.pos:void 0),M.pos<t.distance&&D.pacerGap[dt].push(C?C.pos-M.pos:void 0);for(let k=0;k<o.pacemakerCount;k++){let W=k<R.length?R[k]:null;!W||W.pos>=t.distance||(W.step(1/15),D.pacerV[k].push(W?W.currentSpeed+(W.modifiers.currentSpeed.acc+W.modifiers.currentSpeed.err):void 0),D.pacerP[k].push(W?W.pos:void 0),D.pacerT[k].push(W?W.accumulatetime.t:void 0))}A.pos<t.distance?(A.step(1/15),D.t[q].push(A.accumulatetime.t),D.p[q].push(A.pos),D.v[q].push(A.currentSpeed+(A.modifiers.currentSpeed.acc+A.modifiers.currentSpeed.err)),D.hp[q].push(A.hp.hp)):Wr||(Wr=!0,D.sdly[q]=A.startDelay,D.rushed[q]=A.rushedActivations.slice(),D.posKeep[q]=A.positionKeepActivations.slice(),A.competeFightStart!=null&&(D.competeFight[q]=[A.competeFightStart,A.competeFightEnd!=null?A.competeFightEnd:t.distance]),A.leadCompetitionStart!=null&&(D.leadCompetition[q]=[A.leadCompetitionStart,A.leadCompetitionEnd!=null?A.leadCompetitionEnd:t.distance])),M.pos<t.distance?(M.step(1/15),D.t[dt].push(M.accumulatetime.t),D.p[dt].push(M.pos),D.v[dt].push(M.currentSpeed+(M.modifiers.currentSpeed.acc+M.modifiers.currentSpeed.err)),D.hp[dt].push(M.hp.hp)):te||(te=!0,D.sdly[dt]=M.startDelay,D.rushed[dt]=M.rushedActivations.slice(),D.posKeep[dt]=M.positionKeepActivations.slice(),M.competeFightStart!=null&&(D.competeFight[dt]=[M.competeFightStart,M.competeFightEnd!=null?M.competeFightEnd:t.distance]),M.leadCompetitionStart!=null&&(D.leadCompetition[dt]=[M.leadCompetitionStart,M.leadCompetitionEnd!=null?M.leadCompetitionEnd:t.distance])),A.updatefirstUmaInLateRace()}if(D.p[q].length<=D.p[dt].length){let C=D.p[q].length;ia=D.p[q][C-1]-D.p[dt][C-1]}else{let C=D.p[dt].length;ia=D.p[q][C-1]-D.p[dt][C-1]}R.forEach(C=>{if(C&&C.pos<t.distance){C.step(1/15);for(let k=0;k<3;k++)k<R.length&&R[k]===C&&(D.pacerV[k].push(C?C.currentSpeed+(C.modifiers.currentSpeed.acc+C.modifiers.currentSpeed.err):void 0),D.pacerP[k].push(C?C.pos:void 0),D.pacerT[k].push(C?C.accumulatetime.t:void 0))}});for(let C=0;C<o.pacemakerCount;C++){let k=C<R.length?R[C]:null;D.pacerPosKeep[C]=k?k.positionKeepActivations.slice():[],k&&k.leadCompetitionStart!=null?D.pacerLeadCompetition[C]=[k.leadCompetitionStart,k.leadCompetitionEnd!=null?k.leadCompetitionEnd:t.distance]:D.pacerLeadCompetition[C]=[]}let gs=(C,k,W)=>{[...C.activeTargetSpeedSkills,...C.activeCurrentSpeedSkills,...C.activeAccelSkills].forEach(bs=>{X(k,W)(C,bs.skillId,bs.perspective)})};gs(M,x,w),gs(A,w,x),D.sk[1]=new Map(w),w.clear(),D.sk[0]=new Map(x),x.clear(),na=!1;let Gn=_s,Wn=!_s,aa=Gn?vt.uma1:vt.uma2;aa.total++,M.hpDied&&aa.hpDiedCount++,M.fullSpurt&&aa.fullSpurtCount++;let oa=Wn?vt.uma1:vt.uma2;oa.total++,A.hpDied&&oa.hpDiedCount++,A.fullSpurt&&oa.fullSpurtCount++;let ys=Gn?me.uma1:me.uma2;ys.total++,M.firstUmaInLateRace&&ys.firstPlaceCount++;let vs=Wn?me.uma1:me.uma2;if(vs.total++,A.firstUmaInLateRace&&vs.firstPlaceCount++,A.cleanup(),M.cleanup(),M.rushedActivations.length>0){let[C,k]=M.rushedActivations[0],W=k-C,ee=Gn?ur.uma1:ur.uma2;ee.lengths.push(W),ee.count++}if(A.rushedActivations.length>0){let[C,k]=A.rushedActivations[0],W=k-C,ee=Wn?ur.uma1:ur.uma2;ee.lengths.push(W),ee.count++}if(M.leadCompetitionStart!=null){let C=M.leadCompetitionStart,W=(M.leadCompetitionEnd!=null?M.leadCompetitionEnd:t.distance)-C,ee=Gn?dr.uma1:dr.uma2;ee.lengths.push(W),ee.count++}if(A.leadCompetitionStart!=null){let C=A.leadCompetitionStart,W=(A.leadCompetitionEnd!=null?A.leadCompetitionEnd:t.distance)-C,ee=Wn?dr.uma1:dr.uma2;ee.lengths.push(W),ee.count++}let Ye=We*ia/2.5;if(Bt.push(Ye),Ye<as&&(as=Ye,fs=D),Ye>os&&(os=Ye,ps=D),E==ms){Bt.sort((k,W)=>k-W),ss=Bt.reduce((k,W)=>k+W)/Bt.length;let C=Math.floor(Bt.length/2);cs=C>0&&Bt.length%2==0?(Bt[C-1]+Bt[C])/2:Bt[C]}if(E>=ms){let C=Math.abs(Ye-ss),k=Math.abs(Ye-cs);C<us&&(us=C,hs=D),k<ds&&(ds=k,ls=D)}}Bt.sort((E,R)=>E-R);let Fn=E=>{if(E.lengths.length===0)return{min:0,max:0,mean:0,frequency:0};let R=Math.min(...E.lengths),G=Math.max(...E.lengths),M=E.lengths.reduce((D,te)=>D+te,0)/E.lengths.length,A=E.count/e*100;return{min:R,max:G,mean:M,frequency:A}},zu={uma1:Fn(ur.uma1),uma2:Fn(ur.uma2)},qu={uma1:Fn(dr.uma1),uma2:Fn(dr.uma2)},Nu={uma1:{staminaSurvivalRate:vt.uma1.total>0?(vt.uma1.total-vt.uma1.hpDiedCount)/vt.uma1.total*100:0,fullSpurtRate:vt.uma1.total>0?vt.uma1.fullSpurtCount/vt.uma1.total*100:0},uma2:{staminaSurvivalRate:vt.uma2.total>0?(vt.uma2.total-vt.uma2.hpDiedCount)/vt.uma2.total*100:0,fullSpurtRate:vt.uma2.total>0?vt.uma2.fullSpurtCount/vt.uma2.total*100:0}},Hu={uma1:{firstPlaceRate:me.uma1.total>0?me.uma1.firstPlaceCount/me.uma1.total*100:0},uma2:{firstPlaceRate:me.uma2.total>0?me.uma2.firstPlaceCount/me.uma2.total*100:0}};return{results:Bt,runData:{minrun:fs,maxrun:ps,meanrun:hs,medianrun:ls},rushedStats:zu,leadCompetitionStats:qu,spurtInfo:o.useEnhancedSpurt?{uma1:spurtInfo1,uma2:spurtInfo2}:null,staminaStats:Nu,firstUmaStats:Hu}}function pf(e,t){console.assert(e.id==t.id,`mergeResults: ${e.id} != ${t.id}`);let r=e.results.length,n=t.results.length,i=e.results.concat(t.results).sort((c,u)=>c-u),a=(e.mean*r+t.mean*n)/(r+n),o=Math.floor(i.length/2),s=i.length%2==0?(i[o-1]+i[o])/2:i[o];return{id:e.id,results:i,min:Math.min(e.min,t.min),max:Math.max(e.max,t.max),mean:a,median:s,runData:{...n>r?t.runData:e.runData,minrun:e.min<t.min?e.runData.minrun:t.runData.minrun,maxrun:e.max>t.max?e.runData.maxrun:t.runData.maxrun}}}function is(e,t){t.forEach((r,n)=>{e.set(n,pf(e.get(n),r))})}function ra(e,t,r,n,i,a,o){let s=new Map;return t.forEach(c=>{let u=i.set("skills",i.skills.add(c)),{results:d,runData:f}=ea(e,r,n,i,u,a,o),p=Math.floor(d.length/2),l=d.length%2==0?(d[p-1]+d[p])/2:d[p],h=d.reduce((m,_)=>m+_,0)/d.length;s.set(c,{id:c,results:d,runData:f,min:d[0],max:d[d.length-1],mean:h,median:l})}),s}function hf({skills:e,course:t,racedef:r,uma:n,pacer:i,options:a}){let o=new Fe(n).set("skills",or(n.skills)).set("forcedSkillPositions",zt(n.forcedSkillPositions||{})),s=i?new Fe(i).set("skills",or(i.skills||[])).set("forcedSkillPositions",zt(i.forcedSkillPositions||{})):null,c=ra(5,e,t,r,o,s,a);postMessage({type:"chart",results:c}),e=e.filter(d=>c.get(d).max>.1);let u=ra(20,e,t,r,o,s,a);is(c,u),postMessage({type:"chart",results:c}),e=e.filter(d=>Math.abs(c.get(d).max-c.get(d).min)>.1),u=ra(50,e,t,r,o,s,a),is(c,u),postMessage({type:"chart",results:c}),u=ra(200,e,t,r,o,s,a),is(c,u),postMessage({type:"chart",results:c}),postMessage({type:"chart-complete"})}function lf({nsamples:e,course:t,racedef:r,uma1:n,uma2:i,pacer:a,options:o}){let s=new Fe(n).set("skills",or(n.skills)).set("forcedSkillPositions",zt(n.forcedSkillPositions||{})),c=new Fe(i).set("skills",or(i.skills)).set("forcedSkillPositions",zt(i.forcedSkillPositions||{})),u=a?new Fe(a).set("skills",or(a.skills||[])).set("forcedSkillPositions",zt(a.forcedSkillPositions||{})):null,d={...o,mode:"compare"},f;for(let p=Math.min(20,e),l=6;p<e;p=Math.min(p*l,e),l=Math.max(l-1,2))f=ea(p,t,r,s,c,u,d),postMessage({type:"compare",results:f});f=ea(e,t,r,s,c,u,d),postMessage({type:"compare",results:f}),postMessage({type:"compare-complete"})}self.addEventListener("message",function(e){let{msg:t,data:r}=e.data;switch(t){case"chart":hf(r);break;case"compare":lf(r);break}});})();
/*! Bundled license information:

immutable/dist/immutable.es.js:
  (**
   * @license
   * MIT License
   * 
   * Copyright (c) 2014-present, Lee Byron and other contributors.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
*/
